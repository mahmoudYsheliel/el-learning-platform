import{s as A,_ as M}from"./password.esm-FBJc4M21.js";import{d as P,u as T,a as q,r as _,H as g,c as I,b as i,e as s,t as r,f as e,g as C,h as U,i as $,j as D,o as b,N as E,O as F,s as t,k as n,l as G,F as H,p as O,m as j,n as z,_ as J}from"./index-C9xH4jq0.js";import{s as K}from"./inputtext.esm-DTwoKbZ_.js";const Q=d=>(O("data-v-e01acd1b"),d=d(),j(),d),W={class:"container"},X=Q(()=>s("div",{class:"left borderRigth"},[s("img",{src:M,alt:""})],-1)),Y={class:"right"},Z={class:"welcome"},ee={class:"google-facebook-wrapper"},se={key:0},oe={key:1},ae={class:"wrapper"},te={class:"button"},ne={style:{"margin-left":"5rem"}},le=P({__name:"LoginPage",setup(d){T();const h=$(),L=q(),f=_(),m=_(),y=_(!1),v=_(!1),x=new g("token");function S(){!f.value||!m.value?y.value=!0:x.login(f.value,m.value).then(u=>{u.msg=="no such user"?v.value=!0:u.access_token&&new g("personal_info").callApi().then(l=>{var a,p,k,c;l.success&&(L.addInfo({userType:(p=(a=l.data)==null?void 0:a.info)==null?void 0:p.user_type,notifications:(c=(k=l.data)==null?void 0:k.info)==null?void 0:c.notifications}),h.push("/"))})})}const B=u=>{const o=z(u.credential);if(o.email_verified,o.email_verified){const l=new g("token"),a=q();l.login(o.email,"mahmoud2000").then(p=>{p.msg=="no such user"?v.value=!0:p.access_token&&new g("personal_info").callApi().then(c=>{var V,w,R,N;c.success&&(a.addInfo({userType:(w=(V=c.data)==null?void 0:V.info)==null?void 0:w.user_type,notifications:(N=(R=c.data)==null?void 0:R.info)==null?void 0:N.notifications}),h.push("/"))})})}};return(u,o)=>{const l=D("GoogleLogin");return b(),I("main",null,[i(E),i(F),s("div",W,[X,s("div",Y,[s("div",Z,[s("h1",null,r(e(t)(e(n).welcomeBack)),1),s("h1",null,r(e(t)(e(n).traceCommunity)),1)]),s("div",ee,[i(l,{callback:B})]),y.value?(b(),I("h4",se,r(e(t)(e(n).dataMissing)),1)):C("",!0),v.value?(b(),I("h4",oe,r(e(t)(e(n).userNotExist)),1)):C("",!0),s("div",ae,[i(e(K),{type:"email",class:"input",modelValue:f.value,"onUpdate:modelValue":o[0]||(o[0]=a=>f.value=a),placeholder:e(t)(e(n).email)},null,8,["modelValue","placeholder"]),i(e(A),{class:"input",modelValue:m.value,"onUpdate:modelValue":o[1]||(o[1]=a=>m.value=a),feedback:!1,toggleMask:"",placeholder:e(t)(e(n).pass)},null,8,["modelValue","placeholder"])]),s("div",te,[i(e(G),{onClick:S,label:e(t)(e(n).login)},null,8,["label"])]),s("p",ne,[U(r(e(t)(e(n).noAccount)),1),s("strong",{onClick:o[2]||(o[2]=a=>e(h).push("/signup")),style:{cursor:"pointer"}},r(e(t)(e(n).signup)),1)])])]),i(H)])}}}),ue=J(le,[["__scopeId","data-v-e01acd1b"]]);export{ue as default};
