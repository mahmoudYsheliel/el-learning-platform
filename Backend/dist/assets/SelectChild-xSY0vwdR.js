import{d as y,r as k,H as h,c as _,e as c,b as w,f as d,t as f,g as V,i as b,z as A,a as S,o as m,s as v,k as R,l as T,_ as x}from"./index-CfZpnbSe.js";import{s as B}from"./dropdown.esm-B7ASxPdH.js";const N={class:"container"},$={key:0,class:"selectedChildInfo"},D={class:"info"},H={class:"childImage"},L=["src"],j={key:1,class:"pi pi-user"},z={class:"childInfo"},E={style:{color:"var(--text)",margin:"0","line-height":"1rem"}},M={style:{color:"var(--accent1)",margin:"0","line-height":"2rem"}},O=y({__name:"SelectChild",emits:["selectedChild"],setup(P){const C=k([]),o=k(null);new h("get_all_program").callApi().then(r=>{const e=r.data.program;new h("personal_info").callApi().then(t=>{if(t.data.info.children)for(let s of t.data.info.children)new h("personal_another_user_info").callApi({another_userId:s}).then(n=>{var i,a;if(n.data.info){let l=n.data.info;l.id=s,l.child_group_image=(i=e.find(g=>g.id==l.child_group))==null?void 0:i.image,l.child_group=(a=e.find(g=>g.id==l.child_group))==null?void 0:a.title,C.value.push(l)}})})});const q=b();function I(r){const e=A();new h("switch_to_child").callApi({child_id:r}).then(t=>{var s;if(t!=null&&t.success){e.logout(),e.addToken((s=t==null?void 0:t.data)==null?void 0:s.access_token);const u=new h("personal_info"),n=S();u.callApi().then(i=>{var a,l;i.success&&(n.addInfo({userType:(l=(a=i.data)==null?void 0:a.info)==null?void 0:l.user_type,notifications:[]}),q.push("/"))})}})}return(r,e)=>{var p,t,s,u,n,i;return m(),_("main",null,[c("div",N,[w(d(B),{onChange:e[0]||(e[0]=a=>{var l;return r.$emit("selectedChild",(l=o.value)==null?void 0:l.id)}),modelValue:o.value,"onUpdate:modelValue":e[1]||(e[1]=a=>o.value=a),options:C.value,optionLabel:"email",placeholder:d(v)(d(R).selectChild),class:"dropDown"},null,8,["modelValue","options","placeholder"]),o.value?(m(),_("div",$,[c("div",D,[c("div",H,[((p=o.value)==null?void 0:p.image)!=""?(m(),_("img",{key:0,src:(t=o.value)==null?void 0:t.image,alt:""},null,8,L)):(m(),_("i",j))]),c("div",z,[c("p",E,f((s=o.value)==null?void 0:s.email),1),c("h2",M,f((u=o.value)==null?void 0:u.first_name)+" "+f((n=o.value)==null?void 0:n.last_name),1),w(d(T),{label:d(v)(d(R).switchToChild),onClick:e[2]||(e[2]=()=>{I(o.value.id)})},null,8,["label"])])]),c("h3",null,f(d(v)((i=o.value)==null?void 0:i.child_group)),1)])):V("",!0)])])}}}),J=x(O,[["__scopeId","data-v-4668c315"]]);export{J as S};
