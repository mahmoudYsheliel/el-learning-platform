import{P as x}from"./ParentSidebar-CPOOYAZL.js";import{d as q,i as N,r as v,H as C,o as c,c as i,e as s,t as f,f as n,s as $,b as _,k as R,m as S,_ as k,D as A,v as g,w as E,g as b,h as B,G as P,N as V,F as y}from"./index-j1mQ9M8P.js";import{S as D}from"./SelectChild-D_rcp4Ln.js";import"./dropdown.esm-DbluGGzl.js";import"./index.esm-DZVk90mt.js";const F={class:"container"},H=["src"],L=q({__name:"ParentCourseCard",props:["programId","childId","isEnrolled"],setup(u){const a=u,m=N(),l=v();return new C("get_course").callApi({course_id:a.programId}).then(h=>{var p;return l.value=(p=h==null?void 0:h.data)==null?void 0:p.course}),(h,p)=>{var t,d;return c(),i("main",null,[s("div",F,[s("img",{src:(t=l.value)==null?void 0:t.image,alt:""},null,8,H),s("h2",null,f(n($)((d=l.value)==null?void 0:d.title)),1),_(n(S),{onClick:p[0]||(p[0]=()=>{n(m).push(`/courseDetails/${a.programId}/${a.childId}/${a.isEnrolled}`)}),label:n($)(n(R).learnMore)},null,8,["label"])])])}}}),w=k(L,[["__scopeId","data-v-bf8571ae"]]),M={key:0,class:"courses"},G={class:"child-courses"},T={class:"enrolled-courses"},z={class:"course-container"},J={class:"availavle-courses"},K={class:"unenrolled-courses"},O={class:"course-container"},Q=q({__name:"ChildCourses",props:["childId"],setup(u){const a=u,m=v([]),l=v(),I=A(()=>{l.value=null,new C("get_courses").callApi().then(e=>{var r,o;(r=e==null?void 0:e.data)!=null&&r.courses&&(m.value=(o=e==null?void 0:e.data)==null?void 0:o.courses)});const d=new C("get_child_enrollments");return a.childId&&d.callApi({child_id:a.childId}).then(e=>{var r,o;(r=e==null?void 0:e.data)!=null&&r.enrollments&&(l.value=(o=e==null?void 0:e.data)==null?void 0:o.enrollments)}),null}),h=v();return new C("get_all_plans").callApi().then(t=>{var d;t!=null&&t.success&&(h.value=(d=t==null?void 0:t.data)==null?void 0:d.plans)}),(t,d)=>(c(),i(g,null,[u.childId?(c(),i("div",M,[s("div",G,[s("h1",null,f(n($)(n(R).enrolledCourses)),1),s("div",T,[(c(!0),i(g,null,E(l.value,e=>(c(),i("div",z,[_(w,{class:"card",isEnrolled:1,programId:e.course_id,childId:u.childId},null,8,["programId","childId"])]))),256))])]),s("div",J,[s("h1",null,f(n($)(n(R).canEnroll)),1),s("div",K,[(c(!0),i(g,null,E(m.value,e=>{var r;return c(),i("div",O,[(r=l.value)!=null&&r.some(o=>(o==null?void 0:o.course_id)==(e==null?void 0:e.id))?b("",!0):(c(),P(w,{key:0,class:"card",isEnrolled:0,programId:e.id,childId:u.childId},null,8,["programId","childId"]))])}),256))])])])):b("",!0),B(" "+f(I.value),1)],64))}}),U=k(Q,[["__scopeId","data-v-5ab21753"]]),W={class:"container"},X={class:"wrapper"},Y={class:"select-child"},Z=q({__name:"childrenCourses",setup(u){const a=v(null);return(m,l)=>(c(),i(g,null,[_(V),s("div",W,[_(x,{class:"sidebar",selected:"childCourses"}),s("div",X,[s("div",Y,[_(D,{onSelectedChild:l[0]||(l[0]=I=>a.value=I)}),_(U,{childId:a.value},null,8,["childId"])])])]),_(y)],64))}}),ae=k(Z,[["__scopeId","data-v-301972bc"]]);export{ae as default};
