import{d as F,M as L,a as M,r as u,x as D,c as H,b as i,e as t,t as a,f as e,C as S,i as j,H as q,o as T,N as $,s as n,k as s,l as c,m as A,F as z,_ as G}from"./index-B-SXsqfT.js";const J={id:"checkout_container"},K={id:"contact_details"},Q={class:"input_field"},W={class:"input_field"},X={class:"input_field"},Y={class:"input_field"},Z={style:{display:"flex","justify-content":"end"}},ee={id:"checkout_details"},le={id:"details"},te={class:"details_field"},oe={class:"details_field"},ae={style:{color:"red","text-align":"center"}},ne=F({__name:"Checkout",setup(se){var C,b,N,x;const r=L(),I=M();j();const _=u(r.getOrder),v=u("Mahmoud"),f=u("yasser"),h=u((C=I.getInfo)==null?void 0:C.email),y=u("01098365004"),p=u(""),k=u((b=_.value)==null?void 0:b.price),V=u((N=_.value)==null?void 0:N.price),P=u((x=_.value)==null?void 0:x.title),g=u(""),B=async()=>{var w,R;let m="";const l=new q("get_payment_link"),o={type:(w=r.getOrder)==null?void 0:w.type,plan_course_id:(R=r.getOrder)==null?void 0:R.id,promo_code:p.value,first_name:v.value,last_name:f.value,phone_number:y.value};l.callApi({paymob_data:o}).then(d=>{var U,O;d!=null&&d.success&&((U=d==null?void 0:d.data)!=null&&U.link)&&(m=(O=d==null?void 0:d.data)==null?void 0:O.link,window.open(m,"_blank"))})};function E(){new q("apply_promocode").callApi({amount:k.value,promo_code:p.value}).then(l=>{var o;l!=null&&l.success&&((o=l==null?void 0:l.data)!=null&&o.amount)?V.value=l.data.amount:(V.value=k.value,g.value=l==null?void 0:l.msg)})}return D(p,()=>{g.value=""}),(m,l)=>(T(),H(S,null,[i($),t("div",J,[t("div",K,[t("h2",null,a(e(n)(e(s).contactDetails)),1),t("div",Q,[t("p",null,a(e(n)(e(s).firstName))+"*",1),i(e(c),{modelValue:v.value,"onUpdate:modelValue":l[0]||(l[0]=o=>v.value=o)},null,8,["modelValue"])]),t("div",W,[t("p",null,a(e(n)(e(s).lastName))+"*",1),i(e(c),{modelValue:f.value,"onUpdate:modelValue":l[1]||(l[1]=o=>f.value=o)},null,8,["modelValue"])]),t("div",X,[t("p",null,a(e(n)(e(s).email))+"*",1),i(e(c),{modelValue:h.value,"onUpdate:modelValue":l[2]||(l[2]=o=>h.value=o)},null,8,["modelValue"])]),t("div",Y,[t("p",null,a(e(n)(e(s).phone))+"*",1),i(e(c),{maxlength:"11",modelValue:y.value,"onUpdate:modelValue":l[3]||(l[3]=o=>y.value=o)},null,8,["modelValue"])]),t("div",Z,[i(e(A),{style:{"margin-top":"2rem"},label:e(n)(e(s).continue),onClick:l[4]||(l[4]=()=>{B()})},null,8,["label"])])]),t("div",ee,[t("p",null,[t("strong",null,a(e(n)(e(s).orderSummary)),1)]),t("p",null,a(e(n)(e(s).promoCode)),1),i(e(c),{modelValue:p.value,"onUpdate:modelValue":l[5]||(l[5]=o=>p.value=o)},null,8,["modelValue"]),t("div",le,[t("div",te,[t("p",null,a(e(n)(e(s).courseTitle))+":",1),t("p",null,a(e(n)(P.value)),1)]),t("div",oe,[t("p",null,a(e(n)(e(s).price))+":",1),t("p",null,a(V.value)+" L.E",1)])]),i(e(A),{style:{width:"100%","margin-top":"2rem"},label:e(n)(e(s).checkout),onClick:l[6]||(l[6]=()=>{E()})},null,8,["label"]),t("p",ae,a(g.value),1)])]),i(z)],64))}}),de=G(ne,[["__scopeId","data-v-892d2e2e"]]);export{de as default};
