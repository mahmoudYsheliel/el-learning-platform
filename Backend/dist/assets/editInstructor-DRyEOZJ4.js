import{d as q,r as k,H as I,b6 as u,b7 as n,c as v,b as d,e as a,C as g,D as f,f as i,z as b,g as z,w as D,o as r,N as H,t as A,y as w,a5 as L,l as B,m as M,F as E,ae as j,_ as G}from"./index-je7sGhnG.js";import{s as U,a as J}from"./index-BoOQyvGS.js";import{s as K}from"./index-eMtp8EFI.js";import"./index-Cq3crONW.js";const O={class:"container"},P={class:"element"},Q={class:"row"},T={class:"courseelement"},W=["onClick"],X={class:"btn-container"},Y={class:"row"},Z={class:"courseelement"},ee=["onClick"],le={class:"btn-container"},se=["onClick"],ae={class:"element"},oe={key:0,class:"img-container"},ue=["src"],te={class:"btn-container"},ne=q({__name:"editInstructor",setup(ie){const N=D(),_=k(""),c=k([]),y=k(),R=new I("get_courses"),S=new I("personal_another_user_info");R.callApi().then(p=>{var t,l;p!=null&&p.success&&(y.value=(t=p==null?void 0:p.data)==null?void 0:t.courses,S.callApi({another_userId:(l=N.params)==null?void 0:l.instructorId}).then(s=>{var o,h,m;if(s!=null&&s.success){let e=(o=s==null?void 0:s.data)==null?void 0:o.info;u.value={email:{...u.value.email,value:(e==null?void 0:e.email)||""},phoneNumber:{...u.value.phoneNumber,value:e==null?void 0:e.phone_number},firstName:{...u.value.firstName,value:e==null?void 0:e.first_name},lastName:{...u.value.lastName,value:e==null?void 0:e.last_name},title:{...u.value.title,value:e==null?void 0:e.title},biography:{...u.value.biography,value:e==null?void 0:e.biography},philosophy:{...u.value.philosophy,value:e==null?void 0:e.philisophy}},n.value={experience:{...n.value.experience,value:e==null?void 0:e.experience},specializations:{...n.value.specializations,value:e==null?void 0:e.specializations},educationBackground:{...n.value.educationBackground,value:e==null?void 0:e.education_background}},_.value=e==null?void 0:e.image;let x=[];for(let C=0;C<((h=e==null?void 0:e.courses)==null?void 0:h.length);C++){let $=(m=y.value)==null?void 0:m.find(V=>(V==null?void 0:V.id)==(e==null?void 0:e.courses[C]));x.push($)}c.value=x}}))});function F(){var l,s;let p={email:u.value.email.value,phone_number:u.value.phoneNumber.value,last_name:u.value.lastName.value,first_name:u.value.firstName.value,image:_.value},t={title:u.value.title.value,specializations:n.value.specializations.value,biography:u.value.biography.value,education_background:n.value.educationBackground.value,experience:n.value.experience.value,philisophy:u.value.philosophy.value,courses:[]};for(let o=0;o<c.value.length;o++)(l=c.value[o])!=null&&l.id&&t.courses.push((s=c.value[o])==null?void 0:s.id);new I("update_another_user_info").callApi({user_type_specific_info:t,user_to_change:N.params.instructorId,update:p}).then(o=>{o!=null&&o.success&&j.push("/manageInstructors")})}return(p,t)=>(r(),v(g,null,[d(H),a("div",O,[(r(!0),v(g,null,f(i(u),l=>(r(),v("div",P,[a("h3",null,A(l.name),1),(r(),w(L(l.component),{modelValue:l.value,"onUpdate:modelValue":s=>l.value=s,disabled:l.disabled},null,8,["modelValue","onUpdate:modelValue","disabled"]))]))),256)),d(i(J),{activeIndex:0},{default:b(()=>[d(i(U),{pt:{headerAction:{style:"padding-inline:0"}}},{header:b(()=>t[2]||(t[2]=[a("h3",null,"Courses",-1)])),default:b(()=>[a("div",null,[(r(!0),v(g,null,f(c.value,(l,s)=>(r(),v("div",Q,[a("div",T,[d(i(K),{modelValue:c.value[s],"onUpdate:modelValue":o=>c.value[s]=o,options:y.value,optionLabel:"title.en",placeholder:"Select a Course"},null,8,["modelValue","onUpdate:modelValue","options"]),a("i",{class:"pi pi-times-circle",onClick:()=>{c.value.splice(s,1)}},null,8,W)])]))),256)),a("div",X,[a("i",{onClick:t[0]||(t[0]=()=>{var l;(l=c.value)==null||l.push(null)}),class:"pi pi-plus-circle",label:"Add Course to Road Map",style:{"font-size":"1.5rem",color:"var(--accent1)"}})])])]),_:1}),(r(!0),v(g,null,f(i(n),(l,s)=>(r(),w(i(U),{pt:{headerAction:{style:"padding-inline:0"}}},{header:b(()=>[a("h3",null,A(l.name),1)]),default:b(()=>[a("div",null,[l.value?(r(!0),v(g,{key:0},f(l.value,(o,h)=>(r(),v("div",Y,[a("div",Z,[d(i(B),{modelValue:l.value[h],"onUpdate:modelValue":m=>l.value[h]=m},null,8,["modelValue","onUpdate:modelValue"]),a("i",{class:"pi pi-times-circle",onClick:()=>{if(l.value){const m=[...l.value];m.splice(h,1),n.value={...i(n),[s.toString()]:{...i(n)[s],value:m}}}}},null,8,ee)])]))),256)):z("",!0),a("div",le,[a("i",{onClick:()=>{const o=[...l.value];o.push(""),n.value={...i(n),[s.toString()]:{...i(n)[s],value:o}}},class:"pi pi-plus-circle",label:"Add Course to Road Map",style:{"font-size":"1.5rem",color:"var(--accent1)"}},null,8,se)])])]),_:2},1024))),256))]),_:1}),a("div",ae,[t[3]||(t[3]=a("h3",null,"Image Source",-1)),d(i(B),{modelValue:_.value,"onUpdate:modelValue":t[1]||(t[1]=l=>_.value=l)},null,8,["modelValue"])]),_.value?(r(),v("div",oe,[a("img",{src:_.value,alt:""},null,8,ue)])):z("",!0),a("div",te,[d(i(M),{label:"Save Changes",onClick:F})])]),d(E)],64))}}),de=G(ne,[["__scopeId","data-v-7dfa3522"]]);export{de as default};
