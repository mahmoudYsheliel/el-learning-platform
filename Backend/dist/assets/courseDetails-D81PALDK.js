import{d as E,c as f,e as o,t as a,f as e,v as L,w as G,h as F,o as r,s as i,k as v,p as ae,n as ne,_ as A,G as x,C as V,i as O,b,m as H,J as Z,y as ee,g as k,I as ie,a as ue,r as C,H as y,K as ce,E as re,N as de,F as pe}from"./index-NOGPH1X2.js";import{A as ve,E as me,G as he,P as _e}from"./PromoCodeDialog-Dulrih_P.js";import{s as ge,a as fe}from"./accordiontab.esm-Bhm8hLLD.js";const Q=s=>(ae("data-v-60440cbd"),s=s(),ne(),s),we={class:"container"},Ie={class:"wrapper"},Ce={class:"wrapper"},be={class:"wrapper"},ye=Q(()=>o("i",{class:"pi pi-clock"},null,-1)),ke={class:"wrapper"},De=Q(()=>o("i",{class:"pi pi-angle-double-up"},null,-1)),$e={class:"wrapper"},qe=Q(()=>o("i",{class:"pi pi-dollar"},null,-1)),Pe=E({__name:"Information",props:["title","price","categories","min_age","max_age","duration"],setup(s){return(D,h)=>(r(),f("main",null,[o("div",we,[o("h2",null,a(e(i)(e(v).courseInfo)),1),o("div",Ie,[o("h4",null,a(e(i)(e(v).title)),1),o("p",null,a(s.title),1)]),o("div",Ce,[o("h4",null,a(e(i)(e(v).categories)),1),(r(!0),f(L,null,G(s.categories,n=>(r(),f("p",null,a(e(i)(n.title)),1))),256))]),o("div",be,[o("h4",null,[F(a(e(i)(e(v).duration)),1),ye]),o("p",null,a(s.duration)+" "+a(e(i)(e(v).days)),1)]),o("div",ke,[o("h4",null,[F(a(e(i)(e(v).age)),1),De]),o("p",null,a(s.min_age)+" - "+a(s.max_age)+" "+a(e(i)(e(v).years)),1)]),o("div",$e,[o("h4",null,[F(a(e(i)(e(v).price)),1),qe]),o("p",null,a(s.price)+" L.E",1)])])]))}}),xe=A(Pe,[["__scopeId","data-v-60440cbd"]]),Ee={class:"dialog"},Ae=E({__name:"CourseBelongsToPlanDialog",props:["showDialog","planId","childId"],setup(s){const D=O(),h=s;return(n,g)=>(r(),x(e(Z),{visible:h.showDialog,"onUpdate:visible":g[1]||(g[1]=u=>h.showDialog=u),modal:"",pt:{root:"border-none",mask:{style:"backdrop-filter: blur(2px)"}}},{container:V(({closeCallback:u})=>[o("div",Ee,[o("h2",null,a(e(i)(e(v).courseBelongsToPlan)),1),b(e(H),{label:e(i)(e(v).viewPlans),style:{width:"10rem"},onClick:g[0]||(g[0]=B=>e(D).push(`/plan/${s.planId}/${s.childId}`))},null,8,["label"])])]),_:1},8,["visible","pt"]))}}),Be=A(Ae,[["__scopeId","data-v-004f4601"]]),Re={class:"course-description"},Se={class:"head"},Te=["src"],ze={class:"description"},Me={class:"header"},Ne={key:2,style:{color:"#f33"}},je={key:0,class:"objectives"},Ve=E({__name:"CourseDescribtion",props:["course","isEnrolled","notShowButton"],emits:["enroll","viewMaterial"],setup(s,{emit:D}){return(h,n)=>{var g,u,B,q,R,S,T,P,z,$;return r(),f("div",Re,[o("div",Se,[o("h1",null,a(e(i)((g=s.course)==null?void 0:g.title)),1)]),o("img",{src:(u=s.course)==null?void 0:u.image,alt:"",class:ee({locked:(B=s.course)==null?void 0:B.is_locked})},null,10,Te),o("div",ze,[o("div",Me,[o("h2",null,a(e(i)(e(v).courseDescription)),1),!s.isEnrolled&&!s.notShowButton&&!((q=s.course)!=null&&q.is_locked)?(r(),x(e(H),{key:0,label:e(i)(e(v).enrollNow),onClick:n[0]||(n[0]=()=>{h.$emit("enroll")})},null,8,["label"])):k("",!0),s.isEnrolled&&!s.notShowButton&&!((R=s.course)!=null&&R.is_locked)?(r(),x(e(H),{key:1,label:e(i)(e(v).viewMat),onClick:n[1]||(n[1]=()=>{h.$emit("viewMaterial")})},null,8,["label"])):k("",!0),(S=s.course)!=null&&S.is_locked?(r(),f("p",Ne,a(e(i)(e(v).locked)),1)):k("",!0)]),o("p",null,a(e(i)((T=s.course)==null?void 0:T.description)),1)]),((z=(P=s.course)==null?void 0:P.objectives)==null?void 0:z.length)>0?(r(),f("div",je,[o("h2",null,a(e(i)(e(v).courseObjectives)),1),o("ul",null,[(r(!0),f(L,null,G(($=s.course)==null?void 0:$.objectives,M=>(r(),f("li",null,a(e(i)(M)),1))),256))])])):k("",!0)])}}}),Le=A(Ve,[["__scopeId","data-v-8b8a10e2"]]),Fe={class:"card"},Ge={style:{display:"flex","padding-left":"2rem",gap:"2rem"}},He={key:0},Ue={key:1},Je={key:2},Ke={style:{padding:"0","margin-block":"0.35rem",color:"var(--accent1)"},class:"m-0"},Oe=E({__name:"CourseMaterial",props:["chapters"],setup(s){return(D,h)=>(r(),f("div",Fe,[o("h2",null,a(e(i)(e(v).courseContent)),1),b(e(fe),{multiple:!0,activeIndex:[]},{default:V(()=>[(r(!0),f(L,null,G(s.chapters,(n,g)=>(r(),x(e(ge),{key:n.title,pt:{root:{style:"margin-block:0.5rem; border:solid 2px var(--accent1); border-radius:1rem; padding:0.25rem;"}}},{header:V(()=>[o("div",null,[o("h4",null,a(e(i)(n.title)),1),o("div",Ge,[n.lessonCount?(r(),f("h5",He,a(n.lessonCount)+" "+a(e(i)(e(v).lessons)),1)):k("",!0),n.quizCount?(r(),f("h5",Ue,a(n.quizCount)+" "+a(e(i)(e(v).quiz)),1)):k("",!0),n.activityCount?(r(),f("h5",Je,a(n.activityCount)+" "+a(e(i)(e(v).activity)),1)):k("",!0)])])]),default:V(()=>[(r(!0),f(L,null,G(n.materials,u=>(r(),f("p",Ke,[o("i",{class:ee(u.icon)},null,2),F(" "+a(u.title),1)]))),256))]),_:2},1032,["pt"]))),128))]),_:1})]))}}),Qe=A(Oe,[["__scopeId","data-v-bd95cb3c"]]),We={class:"dialog"},Xe=E({__name:"PrequisiteDialog",props:["showDialog","course"],emits:["removeDialog"],setup(s,{emit:D}){O();const h=s;return(n,g)=>(r(),x(e(Z),{visible:h.showDialog,"onUpdate:visible":g[1]||(g[1]=u=>h.showDialog=u),modal:"",pt:{root:"border-none",mask:{style:"backdrop-filter: blur(2px)"}}},{container:V(({closeCallback:u})=>[o("div",We,[o("h2",null,a(e(i)(e(v).courseHasPrequisite))+" "+a(s.course),1),b(e(H),{label:e(i)(e(v).cancell),onClick:g[0]||(g[0]=()=>{n.$emit("removeDialog")})},null,8,["label"])])]),_:1},8,["visible","pt"]))}}),Ye=A(Xe,[["__scopeId","data-v-b41bb835"]]),Ze={class:"big-container"},el={class:"content"},ll=E({__name:"courseDetails",setup(s){const D=ie(),h=ue(),n=re(),g=O(),u=C(),B=new y("get_course"),q=C([]);B.callApi({course_id:n.params.courseId}).then(m=>{var c,w;u.value=(c=m==null?void 0:m.data)==null?void 0:c.course;for(let d of(w=u.value)==null?void 0:w.chapters){let p={title:"",lessonCount:0,quizCount:0,activityCount:0,materials:[]};p.title=d==null?void 0:d.title;for(let l of d==null?void 0:d.materials){for(let t of ce)(l==null?void 0:l.type)==t.name&&p.materials.push({title:i(l.title),icon:t.icon});(l==null?void 0:l.type)==="Lesson"&&(p.lessonCount=p.lessonCount+1),(l==null?void 0:l.type)==="Quiz"&&(p.quizCount=p.quizCount+1),((l==null?void 0:l.type)==="Activity"||(l==null?void 0:l.type)==="Project"||(l==null?void 0:l.type)==="Simulation")&&(p.activityCount=p.activityCount+1)}q.value.push(p)}});const R=C(),S=C(!1),T=C(!1),P=C(!1),z=C(!1),$=C(!1),M=C(),U=C(!1);function le(){var m,c,w,d,p;D.getIsAuthorized?((m=h.getInfo)==null?void 0:m.userType)=="Child"?new y("get_course_plan").callApi({course_id:(c=n.params)==null?void 0:c.courseId}).then(t=>{var _,I;(t==null?void 0:t.success)==!1?$.value=!0:(t==null?void 0:t.success)==!0&&(P.value=!0,M.value=(I=(_=t==null?void 0:t.data)==null?void 0:_.plan)==null?void 0:I.id)}):((w=h.getInfo)==null?void 0:w.userType)=="Parent"&&(((d=n.params)==null?void 0:d.childId)=="0"?z.value=!0:new y("get_course_plan").callApi({course_id:(p=n.params)==null?void 0:p.courseId}).then(t=>{var _,I;(t==null?void 0:t.success)==!1?$.value=!0:(t==null?void 0:t.success)==!0&&(P.value=!0,M.value=(I=(_=t==null?void 0:t.data)==null?void 0:_.plan)==null?void 0:I.id)})):g.push("/login")}function oe(m){var d,p,l;$.value=!1;let c;((d=h.getInfo)==null?void 0:d.userType)=="Parent"?c=n.params.childId??"":((p=h.getInfo)==null?void 0:p.userType)=="Child"&&(c=h.getInfo.id),new y("request_enrollment").callApi({request:{student_id:c,course_id:(l=u.value)==null?void 0:l.id,promo_code:m}}).then(t=>{var _,I;t!=null&&t.success&&(R.value=(I=(_=t==null?void 0:t.data)==null?void 0:_.request)==null?void 0:I.price,T.value=!0)})}const W=C(!1),X=C();new y("get_enrollment").callApi({course_id:n.params.courseId}).then(m=>{var c,w,d;(c=m==null?void 0:m.data)!=null&&c.enrollment&&(W.value=!0,X.value=(d=(w=m==null?void 0:m.data)==null?void 0:w.enrollment)==null?void 0:d.id)});const J=C(""),Y=C(""),te=new y("get_course_plan");function se(){te.callApi({course_id:n.params.courseId}).then(m=>{var w,d,p;let c=(d=(w=m==null?void 0:m.data)==null?void 0:w.plan)==null?void 0:d.courses;J.value=(p=c==null?void 0:c.find(l=>(l==null?void 0:l.Id)==n.params.courseId))==null?void 0:p.ristriction_on_course,new y("get_course").callApi({course_id:J.value||""}).then(l=>{var t,_;Y.value=i((_=(t=l==null?void 0:l.data)==null?void 0:t.course)==null?void 0:_.title)||""}),new y("get_enrollment").callApi({course_id:J.value||""}).then(l=>{var t,_,I,N,j;((_=(t=l==null?void 0:l.data)==null?void 0:t.enrollment)==null?void 0:_.is_completed)==!1?U.value=!0:g.push(`/viewCoursePage/${n.params.courseId}/${X.value}/${(j=(N=(I=u.value)==null?void 0:I.chapters[0])==null?void 0:N.materials[0])==null?void 0:j.Id}`)})})}return(m,c)=>{var w,d,p,l,t,_,I,N,j;return r(),f(L,null,[b(de),o("div",Ze,[b(ve,{showDialog:S.value,onRemoveDialog:c[0]||(c[0]=K=>{S.value=!1})},null,8,["showDialog"]),b(Ye,{course:Y.value,"show-dialog":U.value,onRemoveDialog:c[1]||(c[1]=K=>U.value=!1)},null,8,["course","show-dialog"]),b(me,{showDialog:T.value,cost:R.value},null,8,["showDialog","cost"]),b(he,{showDialog:z.value},null,8,["showDialog"]),b(Be,{showDialog:P.value,planId:M.value,childId:(w=e(n).params)==null?void 0:w.childId},null,8,["showDialog","planId","childId"]),b(_e,{showDialog:$.value,onPromoCode:c[2]||(c[2]=K=>{oe(K)})},null,8,["showDialog"]),b(Le,{course:u.value,isEnrolled:W.value,notShowButton:((d=e(h).getInfo)==null?void 0:d.userType)=="Parent"&&e(n).params.isEnrolled=="1",onEnroll:le,onViewMaterial:se},null,8,["course","isEnrolled","notShowButton"]),o("div",el,[((p=q.value)==null?void 0:p.length)>0?(r(),x(Qe,{key:0,chapters:q.value},null,8,["chapters"])):k("",!0),b(xe,{categories:(l=u.value)==null?void 0:l.categories,title:e(i)((t=u.value)==null?void 0:t.title),price:(_=u.value)==null?void 0:_.price,duration:(I=u.value)==null?void 0:I.duration,min_age:(N=u.value)==null?void 0:N.min_age,max_age:(j=u.value)==null?void 0:j.max_age},null,8,["categories","title","price","duration","min_age","max_age"])])]),b(pe)],64)}}}),nl=A(ll,[["__scopeId","data-v-d0d15807"]]);export{nl as default};
