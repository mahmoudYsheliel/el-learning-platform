import{A as S}from"./AdminSidebar-DNticxSl.js";import{d as I,G as V,C as E,f as v,i as B,o as _,e as r,c as T,x as L,t as x,a1 as G,g as J,aC as b,w as N,b as g,m as P,J as F,H as w,_ as M,r as f,h as U,l as K,D as Q,N as W,s as q,F as X}from"./index-DlHkd-7m.js";const Y={class:"dialog"},Z={style:{width:"100%",margin:"0",padding:"0"}},ee={key:0,class:"element"},ae={class:"btn-container"},le=I({__name:"AdminAddTypeDialog",props:["showDialog","materialType","bteLabel"],setup(p){const t=p,u=B();function c(){let n={API:"",object:{}},o={},s="";o.description={en:b.value.descriptionEn.variable,ar:b.value.descriptionAr.variable},o.image=b.value.imageURL.variable,t.materialType=="Categories"?(o.category={en:b.value.titleEn.variable,ar:b.value.titleAr.variable},s="create_category",n={API:s,object:{new_category:o}}):(t.materialType=="Courses"||t.materialType=="Plans"||t.materialType=="Programs")&&(o.max_age=Number(b.value.maxAge.variable),o.min_age=Number(b.value.minAge.variable),o.title={en:b.value.titleEn.variable,ar:b.value.titleAr.variable}),t.materialType=="Plans"&&(s="create_plan",o.price=Number(b.value.price.variable),n={API:s,object:{new_plan:o}}),t.materialType=="Programs"&&(s="create_program",n={API:s,object:{new_program:o}}),t.materialType=="Courses"&&(s="create_course",o.price=Number(b.value.price.variable),n={API:s,object:{new_course:o}}),new w(n.API).callApi(n.object).then(a=>{var d,m,i,A;a!=null&&a.success&&(t.materialType=="Plans"&&u.push(`/editPlan/${(d=a==null?void 0:a.data)==null?void 0:d.plan_id}`),t.materialType=="Courses"&&u.push(`/editCourse/${(m=a==null?void 0:a.data)==null?void 0:m.course_id}`),t.materialType=="Programs"&&u.push(`/editProgram/${(i=a==null?void 0:a.data)==null?void 0:i.program_id}`),t.materialType=="Categories"&&u.push(`/editCategory/${(A=a==null?void 0:a.data)==null?void 0:A.category_id}`))})}return(n,o)=>(_(),V(v(F),{visible:t.showDialog,"onUpdate:visible":o[1]||(o[1]=s=>t.showDialog=s),modal:"",style:{width:"80%"},pt:{root:"border-none",mask:{style:"backdrop-filter: blur(2px)"}}},{container:E(({closeCallback:s})=>[r("main",null,[r("div",Y,[(_(!0),T(N,null,L(v(b),(a,d)=>(_(),T("div",Z,[a.forTypes.includes(p.materialType)?(_(),T("div",ee,[r("h4",null,x(a.label),1),(_(),V(G(a.component),{type:a.inputType,modelValue:a.variable,"onUpdate:modelValue":m=>a.variable=m},null,8,["type","modelValue","onUpdate:modelValue"]))])):J("",!0)]))),256)),r("div",ae,[g(v(P),{label:n.$props.bteLabel,style:{"font-size":"1rem","margin-top":"2rem"},onClick:c},null,8,["label"]),g(v(P),{label:"Cancel",style:{"font-size":"1rem","margin-top":"2rem"},onClick:o[0]||(o[0]=()=>{n.$emit("removeDialog")})})])])])]),_:1},8,["visible"]))}}),ie=M(le,[["__scopeId","data-v-e83773e8"]]),oe={class:"dialog"},te={style:{"font-weight":"1000"}},se=I({__name:"ConfirmDelete",props:["showDialog","mat","matType"],emits:["removeDialog"],setup(p,{emit:t}){const u=f(),c=p,n=t;function o(){var s,a,d,m;c.matType=="Programs"?new w("delete_program").callApi({program_id:(s=c.mat)==null?void 0:s.id}).then(i=>{i!=null&&i.success&&n("removeDialog",!0)}):c.matType=="Categories"?new w("delete_category").callApi({category_id:(a=c.mat)==null?void 0:a.id}).then(i=>{i!=null&&i.success&&n("removeDialog",!0)}):c.matType=="Plans"?new w("delete_plan").callApi({plan_id:(d=c.mat)==null?void 0:d.id}).then(i=>{i!=null&&i.success&&n("removeDialog",!0)}):c.matType=="Courses"&&new w("delete_course").callApi({course_id:(m=c.mat)==null?void 0:m.id}).then(i=>{i!=null&&i.success&&n("removeDialog",!0)})}return(s,a)=>(_(),V(v(F),{visible:c.showDialog,"onUpdate:visible":a[2]||(a[2]=d=>c.showDialog=d),modal:"",pt:{root:"border-none",mask:{style:"backdrop-filter: blur(2px)"}}},{container:E(({closeCallback:d})=>{var m,i,A,k,C,y;return[r("div",oe,[r("h2",null,[a[3]||(a[3]=U(" Type ")),r("strong",te,'"'+x(p.matType=="Categories"?(i=(m=p.mat)==null?void 0:m.category)==null?void 0:i.en:(k=(A=p.mat)==null?void 0:A.title)==null?void 0:k.en)+'"',1),a[4]||(a[4]=U(" to confirm deletion "))]),g(v(K),{modelValue:u.value,"onUpdate:modelValue":a[0]||(a[0]=j=>u.value=j)},null,8,["modelValue"]),g(v(P),{label:"Confirm Deletion",disabled:u.value!=((C=p.mat.title)==null?void 0:C.en)&&p.matType!="Categories"||u.value!=((y=p.mat.category)==null?void 0:y.en)&&p.matType=="Categories",onClick:o},null,8,["disabled"]),g(v(P),{label:"Cancel",onClick:a[1]||(a[1]=()=>{s.$emit("removeDialog",!0)})})])]}),_:1},8,["visible"]))}}),ne=M(se,[["__scopeId","data-v-5dffa862"]]),re={class:"container"},ce={class:"wrapper"},ue={class:"table-container"},de={class:"top-option"},me={class:"table"},ge={class:"row"},ve={class:"element"},pe={class:"element btnContainer"},be=I({__name:"manageCourses",setup(p){const t=B(),u=f(!1),c=f(""),n=f(""),o=new w("get_all_program"),s=f();o.callApi().then(e=>{var l;s.value=(l=e==null?void 0:e.data)==null?void 0:l.program});const a=new w("get_categories"),d=f();a.callApi().then(e=>{var l;d.value=(l=e==null?void 0:e.data)==null?void 0:l.categories});const m=new w("get_all_plans"),i=f();m.callApi().then(e=>{var l;i.value=(l=e==null?void 0:e.data)==null?void 0:l.plans});const A=new w("get_courses"),k=f();A.callApi().then(e=>{var l;k.value=(l=e==null?void 0:e.data)==null?void 0:l.courses});const C=Q(()=>[{label:"Programs",btn:"Add Program",value:s.value},{label:"Plans",btn:"Add Plan",value:i.value},{label:"Categories",btn:"Add Category",value:d.value},{label:"Courses",btn:"Add Course",value:k.value}]);function y(e,l){c.value=e,n.value=l,u.value=!0}const j=f(),R=f(!1),$=f();function O(e,l){l=="Programs"&&t.push(`/editProgram/${e==null?void 0:e.id}`),l=="Plans"&&t.push(`/editPlan/${e==null?void 0:e.id}`),l=="Categories"&&t.push(`/editCategory/${e==null?void 0:e.id}`),l=="Courses"&&t.push(`/editCourse/${e==null?void 0:e.id}`)}function z(e,l){j.value=e,$.value=l,R.value=!0}function H(){R.value=!1,$.value=="Programs"?o.callApi().then(e=>{var l;s.value=(l=e==null?void 0:e.data)==null?void 0:l.program}):$.value=="Categories"?a.callApi().then(e=>{var l;d.value=(l=e==null?void 0:e.data)==null?void 0:l.categories}):$.value=="Plans"?m.callApi().then(e=>{var l;i.value=(l=e==null?void 0:e.data)==null?void 0:l.plans}):$.value=="Courses"&&A.callApi().then(e=>{var l;k.value=(l=e==null?void 0:e.data)==null?void 0:l.courses})}return(e,l)=>(_(),T(N,null,[g(W),g(ie,{"show-dialog":u.value,materialType:c.value,bteLabel:n.value,onRemoveDialog:l[0]||(l[0]=h=>u.value=!1)},null,8,["show-dialog","materialType","bteLabel"]),g(ne,{"show-dialog":R.value,mat:j.value,onRemoveDialog:H,matType:$.value},null,8,["show-dialog","mat","matType"]),r("div",re,[g(S,{class:"sidebar",selected:"Manage Courses"}),r("div",ce,[(_(!0),T(N,null,L(C.value,h=>(_(),T("div",ue,[r("div",de,[r("h2",null,x(h.label),1),g(v(P),{label:h.btn,icon:"pi pi-plus-circle","icon-pos":"right",onClick:()=>{y(h.label,h.btn)}},null,8,["label","onClick"])]),r("div",me,[l[1]||(l[1]=r("div",{class:"row"},[r("h3",{class:"element"},"Title"),r("h3",{class:"element"},"Options")],-1)),(_(!0),T(N,null,L(h.value,D=>(_(),T("div",ge,[r("p",ve,x(h.label=="Categories"?v(q)(D==null?void 0:D.category):v(q)(D==null?void 0:D.title)),1),r("div",pe,[g(v(P),{label:"Edit",icon:"pi pi-pencil","icon-pos":"right",style:{"background-color":"blue"},onClick:()=>{O(D,h.label)}},null,8,["onClick"]),g(v(P),{label:"Delete",icon:"pi pi-trash","icon-pos":"right",style:{"background-color":"red"},onClick:()=>{z(D,h.label)}},null,8,["onClick"])])]))),256))])]))),256))])]),g(X)],64))}}),he=M(be,[["__scopeId","data-v-fdd302a9"]]);export{he as default};
