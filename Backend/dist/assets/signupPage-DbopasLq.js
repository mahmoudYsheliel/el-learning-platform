import{_ as G}from"./login-HlRQAw4O.js";import{d as H,r as d,H as V,c as g,b as i,e as s,t as u,f as e,g as b,h as O,i as j,j as L,o as h,N as z,s as t,k as l,l as J,m as K,F as Q,p as W,n as X,q as Y,a as Z,_ as ee}from"./index-Ue6_DIV6.js";import{s as U}from"./password.esm-ClTTNBGB.js";const ae=m=>(W("data-v-79291d7e"),m=m(),X(),m),oe={class:"container"},se=ae(()=>s("div",{class:"left borderRigth"},[s("img",{src:G,alt:""})],-1)),te={class:"right"},le={class:"welcome"},ne={class:"google-facebook-wrapper"},ie={key:0},ue={key:1},ce={key:2},de={class:"wrapper"},pe={class:"button"},me={style:{"margin-left":"5rem"}},re=H({__name:"signupPage",setup(m){const v=j(),r=d(),p=d(),f=d(),I=d(!1),w=d(!1),k=d(!1),P=new V("signup");function $(){if(!r.value||!p.value||!f.value)I.value=!0;else if(p.value!=f.value)w.value=!0;else{let _={user:{email:r.value,hashed_pass:p.value,user_type:"Parent"}};P.callApi(_).then(o=>{o.msg=="email is already used once"?k.value=!0:(o==null?void 0:o.success)==!0&&v.push("/login")})}}const D=_=>{const o=Y(_.credential);if(o.email_verified){let y={user:{email:o.email,hashed_pass:"mahmoud2000",user_type:"Parent"}};P.callApi(y).then(c=>{if(c.msg=="email is already used once")k.value=!0;else if((c==null?void 0:c.success)==!0){const n=new V("token"),E=Z();n.login(o.email,"mahmoud2000").then(F=>{F.access_token&&new V("personal_info").callApi().then(a=>{var N,R,q,C,x,A,B,M,S,T;a!=null&&a.success&&(E.addInfo({userType:(R=(N=a==null?void 0:a.data)==null?void 0:N.info)==null?void 0:R.user_type,notifications:[],id:(C=(q=a==null?void 0:a.data)==null?void 0:q.info)==null?void 0:C.id,firstName:(A=(x=a==null?void 0:a.data)==null?void 0:x.info)==null?void 0:A.first_name,lastName:(M=(B=a==null?void 0:a.data)==null?void 0:B.info)==null?void 0:M.last_name,email:(T=(S=a==null?void 0:a.data)==null?void 0:S.info)==null?void 0:T.email}),v.push("/"))})})}})}};return(_,o)=>{const y=L("Options"),c=L("GoogleLogin");return h(),g("main",null,[i(z),i(y),s("div",oe,[se,s("div",te,[s("div",le,[s("h1",null,u(e(t)(e(l).welcomeBack)),1),s("h1",null,u(e(t)(e(l).traceCommunity)),1)]),s("div",ne,[i(c,{callback:D})]),I.value?(h(),g("h4",ie,u(e(t)(e(l).dataMissing)),1)):b("",!0),w.value?(h(),g("h4",ue,u(e(t)(e(l).diffPass)),1)):b("",!0),k.value?(h(),g("h4",ce,u(e(t)(e(l).emailTaken)),1)):b("",!0),s("div",de,[i(e(J),{type:"email",class:"input",modelValue:r.value,"onUpdate:modelValue":o[0]||(o[0]=n=>r.value=n),placeholder:e(t)(e(l).email)},null,8,["modelValue","placeholder"]),i(e(U),{class:"input",modelValue:p.value,"onUpdate:modelValue":o[1]||(o[1]=n=>p.value=n),feedback:!1,toggleMask:"",placeholder:e(t)(e(l).pass)},null,8,["modelValue","placeholder"]),i(e(U),{id:"input",modelValue:f.value,"onUpdate:modelValue":o[2]||(o[2]=n=>f.value=n),feedback:!1,toggleMask:"",placeholder:e(t)(e(l).confirmPass)},null,8,["modelValue","placeholder"])]),s("div",pe,[i(e(K),{onClick:$,label:e(t)(e(l).signup)},null,8,["label"])]),s("p",me,[O(u(e(t)(e(l).haveAccount)),1),s("strong",{onClick:o[3]||(o[3]=n=>e(v).push("/login")),style:{cursor:"pointer"}},u(e(t)(e(l).login)),1)])])]),i(Q)])}}}),ve=ee(re,[["__scopeId","data-v-79291d7e"]]);export{ve as default};
