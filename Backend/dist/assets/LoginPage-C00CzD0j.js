import{_ as S}from"./login-HlRQAw4O.js";import{d as j,u as z,a as U,r as w,H as R,c as q,b as d,e as l,t as c,f as t,g as P,h as J,i as K,j as D,o as x,N as Q,s,k as u,l as W,m as X,F as Y,n as Z,_ as oo}from"./index-fOMn_fwj.js";import{s as ao}from"./index-CkOAY1fx.js";const to={class:"container"},no={class:"right"},eo={class:"welcome"},lo={class:"google-facebook-wrapper"},io={key:0},so={key:1},uo={key:2},co={class:"wrapper"},fo={class:"button"},po=j({__name:"LoginPage",setup(mo){z();const I=K(),F=U(),V=w(),b=w(),B=w(!1),C=w(!1),$=w(!1),G=new R("token");function H(){!V.value||!b.value?B.value=!0:G.login(V.value,b.value).then(i=>{(i==null?void 0:i.msg)=="no such user"?C.value=!0:(i==null?void 0:i.msg)=="user not verified"?$.value=!0:i!=null&&i.access_token&&new R("personal_info").callApi().then(o=>{var f,e,L,a,p,m,g,_,v,h,k,r,y,N;o!=null&&o.success&&(F.addInfo({userType:(e=(f=o==null?void 0:o.data)==null?void 0:f.info)==null?void 0:e.user_type,notifications:(a=(L=o==null?void 0:o.data)==null?void 0:L.info)==null?void 0:a.notifications,id:(m=(p=o==null?void 0:o.data)==null?void 0:p.info)==null?void 0:m.id,firstName:(_=(g=o==null?void 0:o.data)==null?void 0:g.info)==null?void 0:_.first_name,lastName:(h=(v=o==null?void 0:o.data)==null?void 0:v.info)==null?void 0:h.last_name,email:(r=(k=o==null?void 0:o.data)==null?void 0:k.info)==null?void 0:r.email,gender:(N=(y=o==null?void 0:o.data)==null?void 0:y.info)==null?void 0:N.gender}),I.push("/"))})})}const O=i=>{const n=Z(i.credential);if(n.email_verified,n.email_verified){const o=new R("token"),f=U();o.login(n.email,"mahmoud2000").then(e=>{(e==null?void 0:e.msg)=="no such user"?C.value=!0:e.access_token&&new R("personal_info").callApi().then(a=>{var p,m,g,_,v,h,k,r,y,N,A,E,M,T;a!=null&&a.success&&(f.addInfo({userType:(m=(p=a==null?void 0:a.data)==null?void 0:p.info)==null?void 0:m.user_type,notifications:(_=(g=a==null?void 0:a.data)==null?void 0:g.info)==null?void 0:_.notifications,id:(h=(v=a==null?void 0:a.data)==null?void 0:v.info)==null?void 0:h.id,firstName:(r=(k=a==null?void 0:a.data)==null?void 0:k.info)==null?void 0:r.first_name,lastName:(N=(y=a==null?void 0:a.data)==null?void 0:y.info)==null?void 0:N.last_name,email:(E=(A=a==null?void 0:a.data)==null?void 0:A.info)==null?void 0:E.email,gender:(T=(M=a==null?void 0:a.data)==null?void 0:M.info)==null?void 0:T.gender}),I.push("/"))})})}};return(i,n)=>{const o=D("Options"),f=D("GoogleLogin");return x(),q("main",null,[d(Q),d(o),l("div",to,[n[4]||(n[4]=l("div",{class:"left borderRigth"},[l("img",{src:S,alt:""})],-1)),l("div",no,[l("div",eo,[l("h1",null,c(t(s)(t(u).welcomeBack)),1),l("h1",null,c(t(s)(t(u).traceCommunity)),1)]),l("div",lo,[d(f,{callback:O})]),B.value?(x(),q("h4",io,c(t(s)(t(u).dataMissing)),1)):P("",!0),C.value?(x(),q("h4",so,c(t(s)(t(u).userNotExist)),1)):P("",!0),$.value?(x(),q("h4",uo,c(t(s)(t(u).verifyEmail)),1)):P("",!0),l("div",co,[d(t(W),{style:{width:"100%"},type:"email",class:"input",modelValue:V.value,"onUpdate:modelValue":n[0]||(n[0]=e=>V.value=e),placeholder:t(s)(t(u).email)},null,8,["modelValue","placeholder"]),d(t(ao),{class:"input",modelValue:b.value,"onUpdate:modelValue":n[1]||(n[1]=e=>b.value=e),feedback:!1,toggleMask:"",placeholder:t(s)(t(u).pass)},null,8,["modelValue","placeholder"]),l("p",{style:{margin:"0","font-weight":"800",color:"var(--accent1)","align-self":"flex-end",cursor:"pointer"},onClick:n[2]||(n[2]=e=>t(I).push("/forgotPassword"))},c(t(s)(t(u).forgeotPass)),1)]),l("div",fo,[d(t(X),{onClick:H,label:t(s)(t(u).login)},null,8,["label"])]),l("p",null,[J(c(t(s)(t(u).noAccount))+" ",1),l("strong",{onClick:n[3]||(n[3]=e=>t(I).push("/signup")),style:{cursor:"pointer","text-decoration":"underline",color:"var(--accent1)"}},c(t(s)(t(u).signup)),1)])])]),d(Y)])}}}),ho=oo(po,[["__scopeId","data-v-3c240204"]]);export{ho as default};
