import{d as T,r as k,x as $,H as R,c as m,b as v,e as t,y as f,f as e,t as o,z as A,g as O,q as b,v as x,w as P,i as M,o as u,N as Q,s,k as i,l as D,A as U,B as G,h as J,F as K,p as W,m as X,_ as Y}from"./index-hbg-z_1E.js";import{s as Z,a as ee}from"./accordiontab.esm-B_V5rNe3.js";import{I as te}from"./Information-DQ99FX5r.js";const se=h=>(W("data-v-db9dd3e0"),h=h(),X(),h),oe={class:"big-container"},le={style:{padding:"2em",display:"flex","flex-direction":"column","align-items":"center",gap:"2rem"}},ae={style:{margin:"0",color:"var(--secondary)"}},ne={style:{margin:"0",color:"var(--secondary)"}},ie=se(()=>t("i",{style:{"font-size":"6rem",color:"var(--accent3)"},class:"pi pi-check-circle"},null,-1)),re={class:"course-description"},ce={class:"head"},ue=["src"],de={class:"description"},pe={class:"header"},_e={class:"objectives"},me={class:"content"},ve={class:"card"},he={style:{display:"flex","justify-content":"space-between",gap:"2rem","padding-left":"2rem"}},ge={style:{padding:"0",margin:"0",color:"var(--accent1)"},class:"m-0"},fe=T({__name:"parentViewCourse",setup(h){const y=k(!1),H=$(),g=P(),q=M(),l=k(),E=new R("get_course"),I=k([]);E.callApi({course_id:g.params.courseId}).then(_=>{var d,p;l.value=(d=_==null?void 0:_.data)==null?void 0:d.course;for(let c of(p=l.value)==null?void 0:p.chapters){let a={title:"",lessonCount:0,quizCount:0,materials:[]};a.title=c==null?void 0:c.title;for(let n of c==null?void 0:c.materials)(n==null?void 0:n.type)==="Lesson"&&(a.lessonCount=a.lessonCount+1,a.materials.push({title:n.title,icon:"pi pi-book"})),(n==null?void 0:n.type)==="Quiz"&&(a.quizCount=a.quizCount+1,a.materials.push({title:n.title,icon:"pi pi-check-square"}));I.value.push(a)}});function F(){H.getIsAuthorized||q.push("/login");const _=new R("request_enrollment"),d={request:{course_id:g.params.courseId,created_at:new Date().toISOString(),student_id:g.params.studentId}};_.callApi(d).then(p=>{p.data.requesrt_enrollment_id&&(y.value=!0)})}function L(){q.push("/parentHome")}return(_,d)=>{var p,c,a,n,w,z,S,N,V,j;return u(),m(b,null,[v(Q),t("div",oe,[v(e(U),{visible:y.value,"onUpdate:visible":d[0]||(d[0]=r=>y.value=r),modal:"",pt:{root:"border-none",mask:{style:"backdrop-filter: blur(2px)"}}},{container:f(({closeCallback:r})=>{var C;return[t("div",le,[t("h2",null,o(e(s)(e(i).sentSuccessfully)),1),t("h3",ae,o(e(s)(e(i).pleaseSendInvoice))+" "+o((C=l.value)==null?void 0:C.price)+" "+o(e(s)(e(i).egyptianPound)),1),t("h3",ne,o(e(s)(e(i).attatchTheInvoice)),1),ie,v(e(D),{label:e(s)(e(i).returnHome),style:{width:"20rem"},onClick:L},null,8,["label"])])]}),_:1},8,["visible","pt"]),t("div",re,[t("div",ce,[t("h1",null,o(e(s)((p=l.value)==null?void 0:p.title)),1)]),t("img",{src:(c=l.value)==null?void 0:c.image,alt:""},null,8,ue),t("div",de,[t("div",pe,[t("h2",null,o(e(s)(e(i).courseDescription)),1),e(g).params.isEnrolled!="1"?(u(),A(e(D),{key:0,label:e(s)(e(i).enrollNow),onClick:F},null,8,["label"])):O("",!0)]),t("p",null,o(e(s)((a=l.value)==null?void 0:a.description)),1)]),t("div",_e,[t("h2",null,o(e(s)(e(i).courseObjectives)),1),(u(!0),m(b,null,x((n=l.value)==null?void 0:n.objectives,r=>(u(),m("p",null,"- "+o(e(s)(r)),1))),256))])]),t("div",me,[t("div",ve,[t("h2",null,o(e(s)(e(i).courseContent)),1),v(e(ee),{multiple:!0,activeIndex:[]},{default:f(()=>[(u(!0),m(b,null,x(I.value,(r,C)=>(u(),A(e(Z),{key:r.title,pt:{root:{style:"margin-block:0.5rem; border:solid 2px var(--accent1); border-radius:1rem; padding:0.25rem"}}},{header:f(()=>[t("div",null,[t("h4",null,o(e(s)(r.title)),1),t("div",he,[t("h5",null,o(r.lessonCount)+" "+o(e(s)(e(i).lessons)),1),t("h5",null,o(r.quizCount)+" "+o(e(s)(e(i).quiz)),1)])])]),default:f(()=>[(u(!0),m(b,null,x(r.materials,B=>(u(),m("p",ge,[t("i",{class:G(B.icon)},null,2),J(" "+o(e(s)(B.title)),1)]))),256))]),_:2},1032,["pt"]))),128))]),_:1})]),v(te,{categories:e(s)((w=l.value)==null?void 0:w.categories),title:e(s)((z=l.value)==null?void 0:z.title),price:(S=l.value)==null?void 0:S.price,duration:(N=l.value)==null?void 0:N.duration,min_age:(V=l.value)==null?void 0:V.min_age,max_age:(j=l.value)==null?void 0:j.max_age},null,8,["categories","title","price","duration","min_age","max_age"])])]),v(K)],64)}}}),ke=Y(fe,[["__scopeId","data-v-db9dd3e0"]]);export{ke as default};
