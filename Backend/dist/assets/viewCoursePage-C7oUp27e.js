import{G as Me,O as ve,j as X,o as c,c as u,e as s,I as N,J as ye,z as Z,g as P,D as M,K as xe,L as je,M as ae,P as Re,Q as qe,R as Te,S as Be,T as Ve,U as Ae,v as B,V as te,B as ne,W as Fe,h as W,t as g,w as Q,X as ze,b as A,d as oe,r as T,x as ie,f as i,i as Oe,y as se,s as y,_ as le,Y as fe,H as U,k as E,m as Y,C as Ze,Z as q,$ as Qe,p as We,n as Ue,a as Ye,E as Ge,N as Xe}from"./index-mmTtHggo.js";import{s as Ke,a as Je}from"./index.esm-D_Tc8EqA.js";import{s as et}from"./progressbar.esm-isJZJVa5.js";import{G as tt}from"./index-CdeYONtP.js";var nt={root:function(n){var e=n.props;return["p-tree p-component",{"p-tree-selectable":e.selectionMode!=null,"p-tree-loading":e.loading,"p-tree-flex-scrollable":e.scrollHeight==="flex"}]},loadingOverlay:"p-tree-loading-overlay p-component-overlay",loadingIcon:"p-tree-loading-icon",filterContainer:"p-tree-filter-container",input:"p-tree-filter p-inputtext p-component",searchIcon:"p-tree-filter-icon",wrapper:"p-tree-wrapper",container:"p-tree-container",node:function(n){var e=n.instance;return["p-treenode",{"p-treenode-leaf":e.leaf}]},content:function(n){var e=n.instance;return["p-treenode-content",e.node.styleClass,{"p-treenode-selectable":e.selectable,"p-highlight":e.checkboxMode&&e.$parentInstance.highlightOnSelect?e.checked:e.selected}]},toggler:"p-tree-toggler p-link",togglerIcon:"p-tree-toggler-icon",nodeTogglerIcon:"p-tree-node-toggler-icon",nodeCheckbox:function(n){var e=n.instance;return[{"p-indeterminate":e.partialChecked}]},nodeIcon:"p-treenode-icon",label:"p-treenode-label",subgroup:"p-treenode-children"},ot=Me.extend({name:"tree",classes:nt}),lt={root:function(n){var e=n.instance,o=n.props;return["p-checkbox p-component",{"p-highlight":e.checked,"p-disabled":o.disabled,"p-invalid":o.invalid,"p-variant-filled":o.variant?o.variant==="filled":e.$primevue.config.inputStyle==="filled"}]},box:"p-checkbox-box",input:"p-checkbox-input",icon:"p-checkbox-icon"},at=Me.extend({name:"checkbox",classes:lt}),rt={name:"BaseCheckbox",extends:xe,props:{value:null,modelValue:null,binary:Boolean,name:{type:String,default:null},trueValue:{type:null,default:!0},falseValue:{type:null,default:!1},variant:{type:String,default:null},invalid:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},readonly:{type:Boolean,default:!1},required:{type:Boolean,default:!1},tabindex:{type:Number,default:null},inputId:{type:String,default:null},inputClass:{type:[String,Object],default:null},inputStyle:{type:Object,default:null},ariaLabelledby:{type:String,default:null},ariaLabel:{type:String,default:null}},style:at,provide:function(){return{$parentInstance:this}}};function it(t){return ut(t)||dt(t)||ct(t)||st()}function st(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ct(t,n){if(t){if(typeof t=="string")return be(t,n);var e=Object.prototype.toString.call(t).slice(8,-1);if(e==="Object"&&t.constructor&&(e=t.constructor.name),e==="Map"||e==="Set")return Array.from(t);if(e==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e))return be(t,n)}}function dt(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function ut(t){if(Array.isArray(t))return be(t)}function be(t,n){(n==null||n>t.length)&&(n=t.length);for(var e=0,o=new Array(n);e<n;e++)o[e]=t[e];return o}var Le={name:"Checkbox",extends:rt,inheritAttrs:!1,emits:["update:modelValue","change","focus","blur"],methods:{getPTOptions:function(n){var e=n==="root"?this.ptmi:this.ptm;return e(n,{context:{checked:this.checked,disabled:this.disabled}})},onChange:function(n){var e=this;if(!this.disabled&&!this.readonly){var o;this.binary?o=this.checked?this.falseValue:this.trueValue:this.checked?o=this.modelValue.filter(function(a){return!ve.equals(a,e.value)}):o=this.modelValue?[].concat(it(this.modelValue),[this.value]):[this.value],this.$emit("update:modelValue",o),this.$emit("change",n)}},onFocus:function(n){this.$emit("focus",n)},onBlur:function(n){this.$emit("blur",n)}},computed:{checked:function(){return this.binary?this.modelValue===this.trueValue:ve.contains(this.value,this.modelValue)}},components:{CheckIcon:Ke}},ht=["data-p-highlight","data-p-disabled"],pt=["id","value","name","checked","tabindex","disabled","readonly","required","aria-labelledby","aria-label","aria-invalid"];function ft(t,n,e,o,a,l){var d=X("CheckIcon");return c(),u("div",N({class:t.cx("root")},l.getPTOptions("root"),{"data-p-highlight":l.checked,"data-p-disabled":t.disabled}),[s("input",N({id:t.inputId,type:"checkbox",class:[t.cx("input"),t.inputClass],style:t.inputStyle,value:t.value,name:t.name,checked:l.checked,tabindex:t.tabindex,disabled:t.disabled,readonly:t.readonly,required:t.required,"aria-labelledby":t.ariaLabelledby,"aria-label":t.ariaLabel,"aria-invalid":t.invalid||void 0,onFocus:n[0]||(n[0]=function(){return l.onFocus&&l.onFocus.apply(l,arguments)}),onBlur:n[1]||(n[1]=function(){return l.onBlur&&l.onBlur.apply(l,arguments)}),onChange:n[2]||(n[2]=function(){return l.onChange&&l.onChange.apply(l,arguments)})},l.getPTOptions("input")),null,16,pt),s("div",N({class:t.cx("box")},l.getPTOptions("box")),[ye(t.$slots,"icon",{checked:l.checked,class:M(t.cx("icon"))},function(){return[l.checked?(c(),Z(d,N({key:0,class:t.cx("icon")},l.getPTOptions("icon")),null,16,["class"])):P("",!0)]})],16)],16,ht)}Le.render=ft;var Ne={name:"MinusIcon",extends:je},mt=s("path",{d:"M13.2222 7.77778H0.777778C0.571498 7.77778 0.373667 7.69584 0.227806 7.54998C0.0819442 7.40412 0 7.20629 0 7.00001C0 6.79373 0.0819442 6.5959 0.227806 6.45003C0.373667 6.30417 0.571498 6.22223 0.777778 6.22223H13.2222C13.4285 6.22223 13.6263 6.30417 13.7722 6.45003C13.9181 6.5959 14 6.79373 14 7.00001C14 7.20629 13.9181 7.40412 13.7722 7.54998C13.6263 7.69584 13.4285 7.77778 13.2222 7.77778Z",fill:"currentColor"},null,-1),gt=[mt];function vt(t,n,e,o,a,l){return c(),u("svg",N({width:"14",height:"14",viewBox:"0 0 14 14",fill:"none",xmlns:"http://www.w3.org/2000/svg"},t.pti()),gt,16)}Ne.render=vt;var yt={name:"BaseTree",extends:xe,props:{value:{type:null,default:null},expandedKeys:{type:null,default:null},selectionKeys:{type:null,default:null},selectionMode:{type:String,default:null},metaKeySelection:{type:Boolean,default:!1},loading:{type:Boolean,default:!1},loadingIcon:{type:String,default:void 0},loadingMode:{type:String,default:"mask"},filter:{type:Boolean,default:!1},filterBy:{type:String,default:"label"},filterMode:{type:String,default:"lenient"},filterPlaceholder:{type:String,default:null},filterLocale:{type:String,default:void 0},highlightOnSelect:{type:Boolean,default:!1},scrollHeight:{type:String,default:null},level:{type:Number,default:0},ariaLabelledby:{type:String,default:null},ariaLabel:{type:String,default:null}},style:ot,provide:function(){return{$parentInstance:this}}};function he(t){"@babel/helpers - typeof";return he=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(n){return typeof n}:function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},he(t)}function _e(t,n){var e=typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(!e){if(Array.isArray(t)||(e=$e(t))||n&&t&&typeof t.length=="number"){e&&(t=e);var o=0,a=function(){};return{s:a,n:function(){return o>=t.length?{done:!0}:{done:!1,value:t[o++]}},e:function(r){throw r},f:a}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var l=!0,d=!1,h;return{s:function(){e=e.call(t)},n:function(){var r=e.next();return l=r.done,r},e:function(r){d=!0,h=r},f:function(){try{!l&&e.return!=null&&e.return()}finally{if(d)throw h}}}}function we(t,n){var e=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);n&&(o=o.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),e.push.apply(e,o)}return e}function Ie(t){for(var n=1;n<arguments.length;n++){var e=arguments[n]!=null?arguments[n]:{};n%2?we(Object(e),!0).forEach(function(o){bt(t,o,e[o])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(e)):we(Object(e)).forEach(function(o){Object.defineProperty(t,o,Object.getOwnPropertyDescriptor(e,o))})}return t}function bt(t,n,e){return n=Ct(n),n in t?Object.defineProperty(t,n,{value:e,enumerable:!0,configurable:!0,writable:!0}):t[n]=e,t}function Ct(t){var n=kt(t,"string");return he(n)=="symbol"?n:String(n)}function kt(t,n){if(he(t)!="object"||!t)return t;var e=t[Symbol.toPrimitive];if(e!==void 0){var o=e.call(t,n||"default");if(he(o)!="object")return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return(n==="string"?String:Number)(t)}function ue(t){return wt(t)||_t(t)||$e(t)||xt()}function xt(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function $e(t,n){if(t){if(typeof t=="string")return Ce(t,n);var e=Object.prototype.toString.call(t).slice(8,-1);if(e==="Object"&&t.constructor&&(e=t.constructor.name),e==="Map"||e==="Set")return Array.from(t);if(e==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e))return Ce(t,n)}}function _t(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function wt(t){if(Array.isArray(t))return Ce(t)}function Ce(t,n){(n==null||n>t.length)&&(n=t.length);for(var e=0,o=new Array(n);e<n;e++)o[e]=t[e];return o}var Ee={name:"TreeNode",hostName:"Tree",extends:xe,emits:["node-toggle","node-click","checkbox-change"],props:{node:{type:null,default:null},expandedKeys:{type:null,default:null},loadingMode:{type:String,default:"mask"},selectionKeys:{type:null,default:null},selectionMode:{type:String,default:null},templates:{type:null,default:null},level:{type:Number,default:null},index:null},nodeTouched:!1,toggleClicked:!1,mounted:function(){this.setAllNodesTabIndexes()},methods:{toggle:function(){this.$emit("node-toggle",this.node),this.toggleClicked=!0},label:function(n){return typeof n.label=="function"?n.label():n.label},onChildNodeToggle:function(n){this.$emit("node-toggle",n)},getPTOptions:function(n){return this.ptm(n,{context:{index:this.index,expanded:this.expanded,selected:this.selected,checked:this.checked,leaf:this.leaf}})},onClick:function(n){if(this.toggleClicked||ae.getAttribute(n.target,'[data-pc-section="toggler"]')||ae.getAttribute(n.target.parentElement,'[data-pc-section="toggler"]')){this.toggleClicked=!1;return}this.isCheckboxSelectionMode()?this.toggleCheckbox():this.$emit("node-click",{originalEvent:n,nodeTouched:this.nodeTouched,node:this.node}),this.nodeTouched=!1},onChildNodeClick:function(n){this.$emit("node-click",n)},onTouchEnd:function(){this.nodeTouched=!0},onKeyDown:function(n){if(this.isSameNode(n))switch(n.code){case"Tab":this.onTabKey(n);break;case"ArrowDown":this.onArrowDown(n);break;case"ArrowUp":this.onArrowUp(n);break;case"ArrowRight":this.onArrowRight(n);break;case"ArrowLeft":this.onArrowLeft(n);break;case"Enter":case"NumpadEnter":case"Space":this.onEnterKey(n);break}},onArrowDown:function(n){var e=n.target.getAttribute("data-pc-section")==="toggler"?n.target.closest('[role="treeitem"]'):n.target,o=e.children[1];if(o)this.focusRowChange(e,o.children[0]);else if(e.nextElementSibling)this.focusRowChange(e,e.nextElementSibling);else{var a=this.findNextSiblingOfAncestor(e);a&&this.focusRowChange(e,a)}n.preventDefault()},onArrowUp:function(n){var e=n.target;if(e.previousElementSibling)this.focusRowChange(e,e.previousElementSibling,this.findLastVisibleDescendant(e.previousElementSibling));else{var o=this.getParentNodeElement(e);o&&this.focusRowChange(e,o)}n.preventDefault()},onArrowRight:function(n){var e=this;this.leaf||this.expanded||(n.currentTarget.tabIndex=-1,this.$emit("node-toggle",this.node),this.$nextTick(function(){e.onArrowDown(n)}))},onArrowLeft:function(n){var e=ae.findSingle(n.currentTarget,'[data-pc-section="toggler"]');if(this.level===0&&!this.expanded)return!1;if(this.expanded&&!this.leaf)return e.click(),!1;var o=this.findBeforeClickableNode(n.currentTarget);o&&this.focusRowChange(n.currentTarget,o)},onEnterKey:function(n){this.setTabIndexForSelectionMode(n,this.nodeTouched),this.onClick(n),n.preventDefault()},onTabKey:function(){this.setAllNodesTabIndexes()},setAllNodesTabIndexes:function(){var n=ae.find(this.$refs.currentNode.closest('[data-pc-section="container"]'),'[role="treeitem"]'),e=ue(n).some(function(a){return a.getAttribute("aria-selected")==="true"||a.getAttribute("aria-checked")==="true"});if(ue(n).forEach(function(a){a.tabIndex=-1}),e){var o=ue(n).filter(function(a){return a.getAttribute("aria-selected")==="true"||a.getAttribute("aria-checked")==="true"});o[0].tabIndex=0;return}ue(n)[0].tabIndex=0},setTabIndexForSelectionMode:function(n,e){if(this.selectionMode!==null){var o=ue(ae.find(this.$refs.currentNode.parentElement,'[role="treeitem"]'));n.currentTarget.tabIndex=e===!1?-1:0,o.every(function(a){return a.tabIndex===-1})&&(o[0].tabIndex=0)}},focusRowChange:function(n,e,o){n.tabIndex="-1",e.tabIndex="0",this.focusNode(o||e)},findBeforeClickableNode:function(n){var e=n.closest("ul").closest("li");if(e){var o=ae.findSingle(e,"button");return o&&o.style.visibility!=="hidden"?e:this.findBeforeClickableNode(n.previousElementSibling)}return null},toggleCheckbox:function(){var n=this.selectionKeys?Ie({},this.selectionKeys):{},e=!this.checked;this.propagateDown(this.node,e,n),this.$emit("checkbox-change",{node:this.node,check:e,selectionKeys:n})},propagateDown:function(n,e,o){if(e?o[n.key]={checked:!0,partialChecked:!1}:delete o[n.key],n.children&&n.children.length){var a=_e(n.children),l;try{for(a.s();!(l=a.n()).done;){var d=l.value;this.propagateDown(d,e,o)}}catch(h){a.e(h)}finally{a.f()}}},propagateUp:function(n){var e=n.check,o=Ie({},n.selectionKeys),a=0,l=!1,d=_e(this.node.children),h;try{for(d.s();!(h=d.n()).done;){var f=h.value;o[f.key]&&o[f.key].checked?a++:o[f.key]&&o[f.key].partialChecked&&(l=!0)}}catch(r){d.e(r)}finally{d.f()}e&&a===this.node.children.length?o[this.node.key]={checked:!0,partialChecked:!1}:(e||delete o[this.node.key],l||a>0&&a!==this.node.children.length?o[this.node.key]={checked:!1,partialChecked:!0}:delete o[this.node.key]),this.$emit("checkbox-change",{node:n.node,check:n.check,selectionKeys:o})},onChildCheckboxChange:function(n){this.$emit("checkbox-change",n)},findNextSiblingOfAncestor:function(n){var e=this.getParentNodeElement(n);return e?e.nextElementSibling?e.nextElementSibling:this.findNextSiblingOfAncestor(e):null},findLastVisibleDescendant:function(n){var e=n.children[1];if(e){var o=e.children[e.children.length-1];return this.findLastVisibleDescendant(o)}else return n},getParentNodeElement:function(n){var e=n.parentElement.parentElement;return ae.getAttribute(e,"role")==="treeitem"?e:null},focusNode:function(n){n.focus()},isCheckboxSelectionMode:function(){return this.selectionMode==="checkbox"},isSameNode:function(n){return n.currentTarget&&(n.currentTarget.isSameNode(n.target)||n.currentTarget.isSameNode(n.target.closest('[role="treeitem"]')))}},computed:{hasChildren:function(){return this.node.children&&this.node.children.length>0},expanded:function(){return this.expandedKeys&&this.expandedKeys[this.node.key]===!0},leaf:function(){return this.node.leaf===!1?!1:!(this.node.children&&this.node.children.length)},selectable:function(){return this.node.selectable===!1?!1:this.selectionMode!=null},selected:function(){return this.selectionMode&&this.selectionKeys?this.selectionKeys[this.node.key]===!0:!1},checkboxMode:function(){return this.selectionMode==="checkbox"&&this.node.selectable!==!1},checked:function(){return this.selectionKeys?this.selectionKeys[this.node.key]&&this.selectionKeys[this.node.key].checked:!1},partialChecked:function(){return this.selectionKeys?this.selectionKeys[this.node.key]&&this.selectionKeys[this.node.key].partialChecked:!1},ariaChecked:function(){return this.selectionMode==="single"||this.selectionMode==="multiple"?this.selected:void 0},ariaSelected:function(){return this.checkboxMode?this.checked:void 0}},components:{Checkbox:Le,ChevronDownIcon:Re,ChevronRightIcon:qe,CheckIcon:Ke,MinusIcon:Ne,SpinnerIcon:Te},directives:{ripple:Be}},It=["aria-label","aria-selected","aria-expanded","aria-setsize","aria-posinset","aria-level","aria-checked","tabindex"],St=["data-p-highlight","data-p-selectable"];function Mt(t,n,e,o,a,l){var d=X("SpinnerIcon"),h=X("Checkbox"),f=X("TreeNode",!0),r=Ve("ripple");return c(),u("li",N({ref:"currentNode",class:t.cx("node"),role:"treeitem","aria-label":l.label(e.node),"aria-selected":l.ariaSelected,"aria-expanded":l.expanded,"aria-setsize":e.node.children?e.node.children.length:0,"aria-posinset":e.index+1,"aria-level":e.level,"aria-checked":l.ariaChecked,tabindex:e.index===0?0:-1,onKeydown:n[4]||(n[4]=function(){return l.onKeyDown&&l.onKeyDown.apply(l,arguments)})},e.level===1?l.getPTOptions("node"):t.ptm("subgroup")),[s("div",N({class:t.cx("content"),onClick:n[2]||(n[2]=function(){return l.onClick&&l.onClick.apply(l,arguments)}),onTouchend:n[3]||(n[3]=function(){return l.onTouchEnd&&l.onTouchEnd.apply(l,arguments)}),style:e.node.style},l.getPTOptions("content"),{"data-p-highlight":l.checkboxMode?l.checked:l.selected,"data-p-selectable":l.selectable}),[Ae((c(),u("button",N({type:"button",class:t.cx("toggler"),onClick:n[0]||(n[0]=function(){return l.toggle&&l.toggle.apply(l,arguments)}),tabindex:"-1","aria-hidden":"true"},l.getPTOptions("toggler")),[e.node.loading&&e.loadingMode==="icon"?(c(),u(B,{key:0},[e.templates.nodetogglericon?(c(),Z(te(e.templates.nodetogglericon),{key:0,class:M(t.cx("nodetogglericon"))},null,8,["class"])):(c(),Z(d,N({key:1,spin:"",class:t.cx("nodetogglericon")},t.ptm("nodetogglericon")),null,16,["class"]))],64)):(c(),u(B,{key:1},[e.templates.togglericon?(c(),Z(te(e.templates.togglericon),{key:0,node:e.node,expanded:l.expanded,class:M(t.cx("togglerIcon"))},null,8,["node","expanded","class"])):l.expanded?(c(),Z(te(e.node.expandedIcon?"span":"ChevronDownIcon"),N({key:1,class:t.cx("togglerIcon")},l.getPTOptions("togglerIcon")),null,16,["class"])):(c(),Z(te(e.node.collapsedIcon?"span":"ChevronRightIcon"),N({key:2,class:t.cx("togglerIcon")},l.getPTOptions("togglerIcon")),null,16,["class"]))],64))],16)),[[r]]),l.checkboxMode?(c(),Z(h,{key:0,modelValue:l.checked,binary:!0,class:M(t.cx("nodeCheckbox")),tabindex:-1,unstyled:t.unstyled,pt:l.getPTOptions("nodeCheckbox"),"data-p-checked":l.checked,"data-p-partialchecked":l.partialChecked},{icon:ne(function(p){return[e.templates.checkboxicon?(c(),Z(te(e.templates.checkboxicon),{key:0,checked:p.checked,partialChecked:l.partialChecked,class:M(p.class)},null,8,["checked","partialChecked","class"])):(c(),Z(te(l.checked?"CheckIcon":l.partialChecked?"MinusIcon":null),N({key:1,class:p.class},l.getPTOptions("nodeCheckbox.icon")),null,16,["class"]))]}),_:1},8,["modelValue","class","unstyled","pt","data-p-checked","data-p-partialchecked"])):P("",!0),s("span",N({class:[t.cx("nodeIcon"),e.node.icon]},l.getPTOptions("nodeIcon")),null,16),s("span",N({class:t.cx("label")},l.getPTOptions("label"),{onKeydown:n[1]||(n[1]=Fe(function(){},["stop"]))}),[e.templates[e.node.type]||e.templates.default?(c(),Z(te(e.templates[e.node.type]||e.templates.default),{key:0,node:e.node},null,8,["node"])):(c(),u(B,{key:1},[W(g(l.label(e.node)),1)],64))],16)],16,St),l.hasChildren&&l.expanded?(c(),u("ul",N({key:0,class:t.cx("subgroup"),role:"group"},t.ptm("subgroup")),[(c(!0),u(B,null,Q(e.node.children,function(p){return c(),Z(f,{key:p.key,node:p,templates:e.templates,level:e.level+1,expandedKeys:e.expandedKeys,onNodeToggle:l.onChildNodeToggle,onNodeClick:l.onChildNodeClick,selectionMode:e.selectionMode,selectionKeys:e.selectionKeys,onCheckboxChange:l.propagateUp,unstyled:t.unstyled,pt:t.pt},null,8,["node","templates","level","expandedKeys","onNodeToggle","onNodeClick","selectionMode","selectionKeys","onCheckboxChange","unstyled","pt"])}),128))],16)):P("",!0)],16,It)}Ee.render=Mt;function pe(t){"@babel/helpers - typeof";return pe=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(n){return typeof n}:function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},pe(t)}function ge(t,n){var e=typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(!e){if(Array.isArray(t)||(e=Pe(t))||n&&t&&typeof t.length=="number"){e&&(t=e);var o=0,a=function(){};return{s:a,n:function(){return o>=t.length?{done:!0}:{done:!1,value:t[o++]}},e:function(r){throw r},f:a}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var l=!0,d=!1,h;return{s:function(){e=e.call(t)},n:function(){var r=e.next();return l=r.done,r},e:function(r){d=!0,h=r},f:function(){try{!l&&e.return!=null&&e.return()}finally{if(d)throw h}}}}function Tt(t){return Kt(t)||Ot(t)||Pe(t)||At()}function At(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Pe(t,n){if(t){if(typeof t=="string")return ke(t,n);var e=Object.prototype.toString.call(t).slice(8,-1);if(e==="Object"&&t.constructor&&(e=t.constructor.name),e==="Map"||e==="Set")return Array.from(t);if(e==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e))return ke(t,n)}}function Ot(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Kt(t){if(Array.isArray(t))return ke(t)}function ke(t,n){(n==null||n>t.length)&&(n=t.length);for(var e=0,o=new Array(n);e<n;e++)o[e]=t[e];return o}function Se(t,n){var e=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);n&&(o=o.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),e.push.apply(e,o)}return e}function re(t){for(var n=1;n<arguments.length;n++){var e=arguments[n]!=null?arguments[n]:{};n%2?Se(Object(e),!0).forEach(function(o){Lt(t,o,e[o])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(e)):Se(Object(e)).forEach(function(o){Object.defineProperty(t,o,Object.getOwnPropertyDescriptor(e,o))})}return t}function Lt(t,n,e){return n=Nt(n),n in t?Object.defineProperty(t,n,{value:e,enumerable:!0,configurable:!0,writable:!0}):t[n]=e,t}function Nt(t){var n=$t(t,"string");return pe(n)=="symbol"?n:String(n)}function $t(t,n){if(pe(t)!="object"||!t)return t;var e=t[Symbol.toPrimitive];if(e!==void 0){var o=e.call(t,n||"default");if(pe(o)!="object")return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return(n==="string"?String:Number)(t)}var De={name:"Tree",extends:yt,inheritAttrs:!1,emits:["node-expand","node-collapse","update:expandedKeys","update:selectionKeys","node-select","node-unselect","filter"],data:function(){return{d_expandedKeys:this.expandedKeys||{},filterValue:null}},watch:{expandedKeys:function(n){this.d_expandedKeys=n}},methods:{onNodeToggle:function(n){var e=n.key;this.d_expandedKeys[e]?(delete this.d_expandedKeys[e],this.$emit("node-collapse",n)):(this.d_expandedKeys[e]=!0,this.$emit("node-expand",n)),this.d_expandedKeys=re({},this.d_expandedKeys),this.$emit("update:expandedKeys",this.d_expandedKeys)},onNodeClick:function(n){if(this.selectionMode!=null&&n.node.selectable!==!1){var e=n.nodeTouched?!1:this.metaKeySelection,o=e?this.handleSelectionWithMetaKey(n):this.handleSelectionWithoutMetaKey(n);this.$emit("update:selectionKeys",o)}},onCheckboxChange:function(n){this.$emit("update:selectionKeys",n.selectionKeys),n.check?this.$emit("node-select",n.node):this.$emit("node-unselect",n.node)},handleSelectionWithMetaKey:function(n){var e=n.originalEvent,o=n.node,a=e.metaKey||e.ctrlKey,l=this.isNodeSelected(o),d;return l&&a?(this.isSingleSelectionMode()?d={}:(d=re({},this.selectionKeys),delete d[o.key]),this.$emit("node-unselect",o)):(this.isSingleSelectionMode()?d={}:this.isMultipleSelectionMode()&&(d=a?this.selectionKeys?re({},this.selectionKeys):{}:{}),d[o.key]=!0,this.$emit("node-select",o)),d},handleSelectionWithoutMetaKey:function(n){var e=n.node,o=this.isNodeSelected(e),a;return this.isSingleSelectionMode()?o?(a={},this.$emit("node-unselect",e)):(a={},a[e.key]=!0,this.$emit("node-select",e)):o?(a=re({},this.selectionKeys),delete a[e.key],this.$emit("node-unselect",e)):(a=this.selectionKeys?re({},this.selectionKeys):{},a[e.key]=!0,this.$emit("node-select",e)),a},isSingleSelectionMode:function(){return this.selectionMode==="single"},isMultipleSelectionMode:function(){return this.selectionMode==="multiple"},isNodeSelected:function(n){return this.selectionMode&&this.selectionKeys?this.selectionKeys[n.key]===!0:!1},isChecked:function(n){return this.selectionKeys?this.selectionKeys[n.key]&&this.selectionKeys[n.key].checked:!1},isNodeLeaf:function(n){return n.leaf===!1?!1:!(n.children&&n.children.length)},onFilterKeydown:function(n){(n.code==="Enter"||n.code==="NumpadEnter")&&n.preventDefault(),this.$emit("filter",{originalEvent:n,value:n.target.value})},findFilteredNodes:function(n,e){if(n){var o=!1;if(n.children){var a=Tt(n.children);n.children=[];var l=ge(a),d;try{for(l.s();!(d=l.n()).done;){var h=d.value,f=re({},h);this.isFilterMatched(f,e)&&(o=!0,n.children.push(f))}}catch(r){l.e(r)}finally{l.f()}}if(o)return!0}},isFilterMatched:function(n,e){var o=e.searchFields,a=e.filterText,l=e.strict,d=!1,h=ge(o),f;try{for(h.s();!(f=h.n()).done;){var r=f.value,p=String(ve.resolveFieldData(n,r)).toLocaleLowerCase(this.filterLocale);p.indexOf(a)>-1&&(d=!0)}}catch(m){h.e(m)}finally{h.f()}return(!d||l&&!this.isNodeLeaf(n))&&(d=this.findFilteredNodes(n,{searchFields:o,filterText:a,strict:l})||d),d}},computed:{filteredValue:function(){var n=[],e=this.filterBy.split(","),o=this.filterValue.trim().toLocaleLowerCase(this.filterLocale),a=this.filterMode==="strict",l=ge(this.value),d;try{for(l.s();!(d=l.n()).done;){var h=d.value,f=re({},h),r={searchFields:e,filterText:o,strict:a};(a&&(this.findFilteredNodes(f,r)||this.isFilterMatched(f,r))||!a&&(this.isFilterMatched(f,r)||this.findFilteredNodes(f,r)))&&n.push(f)}}catch(p){l.e(p)}finally{l.f()}return n},valueToRender:function(){return this.filterValue&&this.filterValue.trim().length>0?this.filteredValue:this.value}},components:{TreeNode:Ee,SearchIcon:Je,SpinnerIcon:Te}},Et=["placeholder"],Pt=["aria-labelledby","aria-label"];function Dt(t,n,e,o,a,l){var d=X("SpinnerIcon"),h=X("SearchIcon"),f=X("TreeNode");return c(),u("div",N({class:t.cx("root")},t.ptmi("root")),[t.loading&&t.loadingMode==="mask"?(c(),u("div",N({key:0,class:t.cx("loadingOverlay")},t.ptm("loadingOverlay")),[ye(t.$slots,"loadingicon",{class:M(t.cx("loadingIcon"))},function(){return[t.loadingIcon?(c(),u("i",N({key:0,class:[t.cx("loadingIcon"),"pi-spin",t.loadingIcon]},t.ptm("loadingIcon")),null,16)):(c(),Z(d,N({key:1,spin:"",class:t.cx("loadingIcon")},t.ptm("loadingIcon")),null,16,["class"]))]})],16)):P("",!0),t.filter?(c(),u("div",N({key:1,class:t.cx("filterContainer")},t.ptm("filterContainer")),[Ae(s("input",N({"onUpdate:modelValue":n[0]||(n[0]=function(r){return a.filterValue=r}),type:"text",autocomplete:"off",class:t.cx("input"),placeholder:t.filterPlaceholder,onKeydown:n[1]||(n[1]=function(){return l.onFilterKeydown&&l.onFilterKeydown.apply(l,arguments)})},t.ptm("input")),null,16,Et),[[ze,a.filterValue]]),ye(t.$slots,"searchicon",{class:M(t.cx("searchIcon"))},function(){return[A(h,N({class:t.cx("searchIcon")},t.ptm("searchIcon")),null,16,["class"])]})],16)):P("",!0),s("div",N({class:t.cx("wrapper"),style:{maxHeight:t.scrollHeight}},t.ptm("wrapper")),[s("ul",N({class:t.cx("container"),role:"tree","aria-labelledby":t.ariaLabelledby,"aria-label":t.ariaLabel},t.ptm("container")),[(c(!0),u(B,null,Q(l.valueToRender,function(r,p){return c(),Z(f,{key:r.key,node:r,templates:t.$slots,level:t.level+1,index:p,expandedKeys:a.d_expandedKeys,onNodeToggle:l.onNodeToggle,onNodeClick:l.onNodeClick,selectionMode:t.selectionMode,selectionKeys:t.selectionKeys,onCheckboxChange:l.onCheckboxChange,loadingMode:t.loadingMode,unstyled:t.unstyled,pt:t.pt},null,8,["node","templates","level","index","expandedKeys","onNodeToggle","onNodeClick","selectionMode","selectionKeys","onCheckboxChange","loadingMode","unstyled","pt"])}),128))],16,Pt)],16)],16)}De.render=Dt;const Ht={id:"wrapper"},jt=["onClick"],Rt=["onClick"],qt=["onClick"],Bt=["onClick"],Vt=["onClick"],Ft=oe({__name:"SideBar",props:["chapters","courseTitle"],setup(t){const n=t,e=Oe(),o=se(),a=T(!0),l=T(),d=ie(()=>{var f;let h=n.chapters;for(let r=0;r<(h==null?void 0:h.length);r++){h[r].label=y(h[r].title),h[r].children=h[r].materials,h[r].key="k"+r.toString();for(let p=0;p<((f=h[r].children)==null?void 0:f.length);p++)h[r].children[p].label=y(h[r].children[p].title),h[r].children[p].key="k"+r.toString()+"_"+p.toString(),h[r].children[p].Id==o.params.materialId&&(l.value=Object.fromEntries(new Map([[h[r].children[p].key,!0]])))}return h});return(h,f)=>(c(),u("div",Ht,[s("span",{onClick:f[0]||(f[0]=r=>a.value=!a.value),class:"circle"},[s("span",{class:M(["upper-arrow",{upperArrowShrink:a.value}])},null,2),s("span",{class:M(["down-arrow",{downArrowShrink:a.value}])},null,2)]),s("div",{class:M(["container",{shrink:a.value}])},[s("h3",null,g(i(y)(t.courseTitle)),1),A(i(De),{value:d.value,class:"tree"},{default:ne(r=>[s("p",{class:M(["default",{head:r.node.status=="head"}])},g(r.node.label),3)]),Quiz:ne(r=>[s("p",{class:M(["unselected",{done:r.node.status=="Done",selected:r.node.Id==i(o).params.materialId}]),onClick:()=>{i(e).push(`/viewCoursePage/${i(o).params.courseId}/${i(o).params.enrollmentId}/${r.node.Id}`)}},[s("i",{class:M(r.node.matIcon)},null,2),W(" "+g(r.node.label),1)],10,jt)]),Lesson:ne(r=>[s("p",{class:M(["unselected",{selected:r.node.Id==i(o).params.materialId,done:r.node.status=="Done"}]),onClick:()=>{i(e).push(`/viewCoursePage/${i(o).params.courseId}/${i(o).params.enrollmentId}/${r.node.Id}`)}},[s("i",{class:M(r.node.matIcon)},null,2),W(" "+g(r.node.label),1)],10,Rt)]),Simulation:ne(r=>[s("p",{class:M(["unselected",{selected:r.node.Id==i(o).params.materialId,done:r.node.status=="Done"}]),onClick:()=>{i(e).push(`/viewCoursePage/${i(o).params.courseId}/${i(o).params.enrollmentId}/${r.node.Id}`)}},[s("i",{class:M(r.node.matIcon)},null,2),W(" "+g(r.node.label),1)],10,qt)]),Activity:ne(r=>[s("p",{class:M(["unselected",{selected:r.node.Id==i(o).params.materialId,done:r.node.status=="Done"}]),onClick:()=>{i(e).push(`/viewCoursePage/${i(o).params.courseId}/${i(o).params.enrollmentId}/${r.node.Id}`)}},[s("i",{class:M(r.node.matIcon)},null,2),W(" "+g(r.node.label),1)],10,Bt)]),Project:ne(r=>[s("p",{class:M(["unselected",{selected:r.node.Id==i(o).params.materialId,done:r.node.status=="Done"}]),onClick:()=>{i(e).push(`/viewCoursePage/${i(o).params.courseId}/${i(o).params.enrollmentId}/${r.node.Id}`)}},[s("i",{class:M(r.node.matIcon)},null,2),W(" "+g(r.node.label),1)],10,Vt)]),_:1},8,["value"])],2)]))}}),zt=le(Ft,[["__scopeId","data-v-318b6002"]]),Zt={class:"container"},Qt={class:"wrapper"},Wt=["src"],Ut=oe({__name:"Lesson",props:["completed"],emits:["next"],setup(t,{emit:n}){const e=n,o=se(),a=T(),l=ie(()=>o.params.materialId);fe(l,()=>{d()});const d=()=>{new U("get_lesson").callApi({lesson_id:o.params.materialId}).then(r=>{var p;r!=null&&r.success&&(a.value=(p=r==null?void 0:r.data)==null?void 0:p.lesson)})};d();function h(){const f=new U("add_progress");let r={lesson_progress:{lesson_id:o.params.materialId,completed_at:new Date().toISOString()},material_type:"Lesson"};f.callApi({progres:r,enrolment_id:o.params.enrollmentId}).then(p=>{e("next",!0)})}return(f,r)=>{var p,m,O;return c(),u("main",null,[s("div",Zt,[s("h2",null,g(i(y)((p=a.value)==null?void 0:p.title)),1),s("p",null,g(i(y)((m=a.value)==null?void 0:m.description)),1),s("div",Qt,[s("iframe",{src:(O=a.value)==null?void 0:O.source,frameborder:"0",sandbox:"allow-scripts allow-same-origin",allowfullscreen:""},null,8,Wt)]),A(i(Y),{disabled:t.completed,icon:"pi pi-check-circle",label:i(y)(i(E).markCompleted),"icon-pos":"right",onClick:h},null,8,["disabled","label"])])])}}}),Yt=le(Ut,[["__scopeId","data-v-434a707a"]]),Gt={class:"container"},Xt={style:{color:"var(--accent2)"}},Jt=["src"],en=oe({__name:"Simulation",props:["completed"],emits:["next"],setup(t,{emit:n}){const e=n,o=se(),a=T(),l=ie(()=>o.params.materialId);fe(l,()=>{d()});const d=()=>{new U("get_simulation").callApi({simulation_id:o.params.materialId}).then(p=>{var m;p!=null&&p.success&&(a.value=(m=p==null?void 0:p.data)==null?void 0:m.simulation)})};d();function h(){const r=new U("add_progress");let p={simulation_progress:{simulation_id:o.params.materialId,completed_at:new Date().toISOString()},material_type:"Simulation"};r.callApi({progres:p,enrolment_id:o.params.enrollmentId}).then(m=>{e("next",!0)})}function f(r){window.open(r)}return(r,p)=>{var m,O,I;return c(),u("main",null,[s("div",Gt,[s("h2",null,g(i(y)((m=a.value)==null?void 0:m.title)),1),s("p",null,g(i(y)((O=a.value)==null?void 0:O.description)),1),s("div",{class:"wrapper",style:{cursor:"pointer"},onClick:p[0]||(p[0]=()=>{var K;f((K=a.value)==null?void 0:K.source)})},[s("h4",Xt,g(i(y)(i(E).clickToView)),1),s("img",{src:(I=a.value)==null?void 0:I.image},null,8,Jt)]),A(i(Y),{disabled:t.completed,icon:"pi pi-check-circle",label:i(y)(i(E).markCompleted),"icon-pos":"right",onClick:h},null,8,["disabled","label"])])])}}}),tn=le(en,[["__scopeId","data-v-9dfc33b3"]]),nn={class:"container"},on={class:"wrapper"},ln=["src"],an=oe({__name:"Project",props:["completed"],emits:["next"],setup(t,{emit:n}){const e=n,o=se(),a=T(),l=ie(()=>o.params.materialId);fe(l,()=>{d()});const d=()=>{new U("get_project").callApi({project_id:o.params.materialId}).then(r=>{var p;r!=null&&r.success&&(a.value=(p=r==null?void 0:r.data)==null?void 0:p.project)})};d();function h(){const f=new U("add_progress");let r={project_progress:{project_id:o.params.materialId,completed_at:new Date().toISOString()},material_type:"Project"};f.callApi({progres:r,enrolment_id:o.params.enrollmentId}).then(p=>{e("next",!0)})}return(f,r)=>{var p,m,O;return c(),u("main",null,[s("div",nn,[s("h2",null,g(i(y)((p=a.value)==null?void 0:p.title)),1),s("p",null,g(i(y)((m=a.value)==null?void 0:m.description)),1),s("div",on,[s("iframe",{src:(O=a.value)==null?void 0:O.source,frameborder:"0",sandbox:"allow-scripts allow-same-origin",allowfullscreen:""},null,8,ln)]),A(i(Y),{disabled:t.completed,icon:"pi pi-check-circle",label:i(y)(i(E).markCompleted),"icon-pos":"right",onClick:h},null,8,["disabled","label"])])])}}}),rn=le(an,[["__scopeId","data-v-e77f0317"]]),sn={class:"container"},cn={key:0},dn={class:"wrapper"},un={key:0,class:"images"},hn=["src"],pn={key:1,class:"items"},fn={class:"item"},mn=["onClick"],gn={class:"allitems"},vn={key:0,class:"items"},yn={key:0,class:"images"},bn=["src"],Cn={class:"item"},kn={key:0},xn=["src"],_n={key:1,class:"images"},wn=["src"],In={key:2,class:"images"},Sn=["src"],Mn=oe({__name:"Activity",props:["completed"],emits:["next"],setup(t,{emit:n}){const e=n,o=se(),a=T(),l=T(E),d=ie(()=>o.params.materialId);fe(d,()=>{h()});const h=()=>{new U("get_activity").callApi({activity_id:o.params.materialId}).then(O=>{var I;O!=null&&O.success&&(a.value=(I=O==null?void 0:O.data)==null?void 0:I.activity)})};h();function f(){const m=new U("add_progress");let O={activity_progress:{activity_id:o.params.materialId,completed_at:new Date().toISOString()},material_type:"Activity"};m.callApi({progres:O,enrolment_id:o.params.enrollmentId}).then(I=>{e("next",!0)})}const r=["objectives","terms_concepts","materials","instructions","results","conclusions"];function p(m){window.open(m)}return(m,O)=>{var I,K,R,V,_,$,C,v,S;return c(),u("main",null,[s("div",sn,[s("h2",null,g(i(y)((I=a.value)==null?void 0:I.title)),1),(K=a.value)!=null&&K.description?(c(),u("p",cn,g(i(y)((R=a.value)==null?void 0:R.description)),1)):P("",!0),s("div",dn,[(V=a.value)!=null&&V.start_images?(c(),u("div",un,[(c(!0),u(B,null,Q((_=a.value)==null?void 0:_.start_images,b=>(c(),u("img",{src:b,alt:""},null,8,hn))),256))])):P("",!0),($=a.value)!=null&&$.sources?(c(),u("div",pn,[s("h3",null,g(i(y)(i(E).sources)),1),(c(!0),u(B,null,Q((C=a.value)==null?void 0:C.sources,(b,x)=>(c(),u("div",fn,[s("p",{style:{color:"var(--secondary)",cursor:"pointer"},onClick:()=>{p(b)}},g(i(y)(i(E).source))+" "+g(x+1),9,mn)]))),256))])):P("",!0),(c(),u(B,null,Q(r,b=>{var x,k,D,j,F,z,ee,J,w,L,ce,G;return s("div",gn,[(x=a.value)!=null&&x[b]?(c(),u("div",vn,[(D=(k=a.value)==null?void 0:k[b])!=null&&D.start_images?(c(),u("div",yn,[(c(!0),u(B,null,Q((F=(j=a.value)==null?void 0:j[b])==null?void 0:F.start_images,H=>(c(),u("img",{src:H,alt:""},null,8,bn))),256))])):P("",!0),s("h3",null,g(i(y)((z=l.value)==null?void 0:z[b])),1),(c(!0),u(B,null,Q((J=(ee=a.value)==null?void 0:ee[b])==null?void 0:J.items,H=>(c(),u("div",Cn,[s("p",null,[s("span",{class:M({terms:b=="terms_concepts"})}," - "+g(i(y)(H.text)),3),H.description?(c(),u("span",kn,": "+g(i(y)(H.description)),1)):P("",!0)]),H!=null&&H.image?(c(),u("img",{key:0,src:H==null?void 0:H.image,alt:""},null,8,xn)):P("",!0)]))),256)),(L=(w=a.value)==null?void 0:w[b])!=null&&L.end_images?(c(),u("div",_n,[(c(!0),u(B,null,Q((G=(ce=a.value)==null?void 0:ce[b])==null?void 0:G.end_images,H=>(c(),u("img",{src:H,alt:""},null,8,wn))),256))])):P("",!0)])):P("",!0)])}),64)),(v=a.value)!=null&&v.end_images?(c(),u("div",In,[(c(!0),u(B,null,Q((S=a.value)==null?void 0:S.end_images,b=>(c(),u("img",{src:b,alt:""},null,8,Sn))),256))])):P("",!0)]),A(i(Y),{disabled:t.completed,icon:"pi pi-check-circle",label:i(y)(i(E).markCompleted),"icon-pos":"right",onClick:f},null,8,["disabled","label"])])])}}}),Tn=le(Mn,[["__scopeId","data-v-7fedae6c"]]),An={class:"container"},On={class:"wrapper"},Kn={key:0},Ln={style:{"text-align":"center",color:"var(--accent1)"}},Nn={class:"count-down"},$n={key:1,class:"question-wrapper"},En={class:"quiz-duration"},Pn={style:{width:"fit-content"}},Dn={style:{direction:"ltr"}},Hn={key:0},jn={key:0,class:"question"},Rn={class:"question-order"},qn={class:"question-text"},Bn={class:"choices-wrapper"},Vn=["onClick"],Fn={class:"controls"},zn={class:"dialog-wrapper",style:{display:"flex","align-items":"center","flex-direction":"column"}},Zn={key:0,class:"score"},Qn={key:0,class:"interaction",src:"https://i.pinimg.com/originals/56/da/ac/56daac56f90ba6cf039125586181f6ea.gif",alt:""},Wn={key:1,class:"interaction",src:"https://img.freepik.com/free-vector/hand-drawn-facepalm-illustration_23-2150212662.jpg?t=st=1720110311~exp=1720113911~hmac=f9f12f7c863341a0acb15d0ec44f785e42038ebf827f157f7863f0ea96805826&w=826",alt:""},Un={key:1,class:"answers"},Yn={class:"question",style:{"min-height":"2rem"}},Gn={class:"question-order"},Xn={class:"question-text"},Jn={class:"choices-wrapper"},eo={class:"quiz-duration"},to={key:0},no={class:"controls"},oo=oe({__name:"Quiz2",emits:["next"],setup(t){const n=se(),e=T(!0),o=T(0),a=T(0),l=T(0),d=T(0),h=T(!1),f=T(!0),r=T(0),p=ie(()=>n.params.materialId);fe(p,()=>{O()});const m=T(),O=()=>{new U("get_quiz").callApi({quiz_id:n.params.materialId}).then(v=>{var S,b,x,k,D;if(v!=null&&v.success&&(m.value=(S=v==null?void 0:v.data)==null?void 0:S.quiz,(b=m.value)!=null&&b.questions))for(let j of(x=m.value)==null?void 0:x.questions){const F=T(!1),z=T(-1);j.showAnswer=F,j.selected=z}r.value=Math.floor(100/((D=(k=m.value)==null?void 0:k.questions)==null?void 0:D.length)),_()})};O(),setInterval(()=>{f.value||(a.value=a.value+1)},1e3);function I(){o.value=3;const C=setInterval(()=>{o.value==0&&(clearInterval(C),e.value=!1,K()),o.value=o.value-1},1e3)}function K(){a.value=0,f.value=!1}const R=T(!1);h.value=!1;function V(){var b,x;f.value=!0,R.value=!0;for(let k of(b=m.value)==null?void 0:b.questions)(k==null?void 0:k.correct_answer_id)==(k==null?void 0:k.selected)&&d.value++;const C=new U("add_progress");let v=[];for(let k of(x=m.value)==null?void 0:x.questions)(k==null?void 0:k.selected)!=-1&&v.push({question_id:k==null?void 0:k.id,choice_id:k==null?void 0:k.selected});let S={quiz_progress:{quiz_id:n.params.materialId,time_taken:a.value,created_at:new Date().toISOString(),answers:v},material_type:"Quiz"};C.callApi({progres:S,enrolment_id:n.params.enrollmentId})}function _(){var C,v,S,b;if(e.value=!0,o.value=3,l.value=0,d.value=0,h.value=!1,f.value=!0,R.value=!1,r.value=0,r.value=Math.floor(100/((v=(C=m.value)==null?void 0:C.questions)==null?void 0:v.length)),(S=m.value)!=null&&S.questions)for(let x of(b=m.value)==null?void 0:b.questions)x.selected=-1;I()}function $(){var x,k;let C=10,v=r.value,S=Math.floor((l.value+1)/((k=(x=m.value)==null?void 0:x.questions)==null?void 0:k.length)*100),b=10;for(let D=0;D<=b;D++)setTimeout(()=>{r.value=Math.floor(v+(S-v)/b*D)},C*D)}return(C,v)=>{var S,b,x,k,D;return c(),u("main",null,[s("div",An,[s("h2",null,g(i(y)((S=m.value)==null?void 0:S.title)),1),s("p",null,g(i(y)((b=m.value)==null?void 0:b.description)),1),s("div",On,[e.value?(c(),u("div",Kn,[s("h1",Ln,g(i(y)(i(E).quizWillStart)),1),s("h1",Nn,g(o.value),1)])):(c(),u("div",$n,[s("div",En,[s("span",Pn,[W(g(i(y)(i(E).yourTime))+" ",1),s("strong",Dn,[W(g(Math.floor(a.value/60))+": ",1),a.value%60<10?(c(),u("strong",Hn,"0")):P("",!0),W(g(a.value%60),1)])])]),(c(!0),u(B,null,Q((x=m.value)==null?void 0:x.questions,(j,F)=>(c(),u("div",{key:j},[F==l.value?(c(),u("div",jn,[A(i(et),{style:{width:"75%","margin-bottom":"1rem"},value:r.value},null,8,["value"]),s("h3",Rn,g(i(y)(i(E).question))+" "+g(F+1),1),s("h4",qn,g(i(y)(j==null?void 0:j.question)),1),s("div",Bn,[(c(!0),u(B,null,Q(j==null?void 0:j.choices,z=>(c(),u("p",{class:M(["choice-text",{selectedChoice:m.value.questions[F].selected==z.id}]),key:z,onClick:()=>{m.value.questions[F].selected=z.id}},g(i(y)(z.choice)),11,Vn))),128))])])):P("",!0)]))),128)),s("div",Fn,[A(i(Y),{label:i(y)(i(E).prevQuestion),disabled:l.value==0,onClick:v[0]||(v[0]=()=>{l.value--,$()})},null,8,["label","disabled"]),A(i(Y),{label:i(y)(i(E).finishQuiz),onClick:V},null,8,["label"]),A(i(Y),{label:i(y)(i(E).nextQuestion),disabled:l.value+1==((D=(k=m.value)==null?void 0:k.questions)==null?void 0:D.length),onClick:v[1]||(v[1]=()=>{l.value++,$()})},null,8,["label","disabled"])])]))])]),A(i(Ze),{visible:R.value,"onUpdate:visible":v[4]||(v[4]=j=>R.value=j),modal:"",class:"dialog",style:{"max-width":"75%"},pt:{root:"border-none",mask:{style:"backdrop-filter: blur(2px)"}}},{container:ne(({closeCallback:j})=>{var F,z,ee,J,w,L,ce;return[s("div",zn,[h.value?(c(),u("div",Un,[(c(!0),u(B,null,Q((ce=m.value)==null?void 0:ce.questions,(G,H)=>(c(),u("div",{key:G},[s("div",Yn,[s("h4",Gn,g(i(y)(i(E).question))+" "+g(H+1),1),s("h4",Xn,g(i(y)(G==null?void 0:G.question)),1),s("div",Jn,[(c(!0),u(B,null,Q(G==null?void 0:G.choices,de=>(c(),u("p",{class:M(["choice-text",{correct:de.id==m.value.questions[H].correct_answer_id,selectedChoice:m.value.questions[H].selected==de.id,wrong:m.value.questions[H].selected!=m.value.questions[H].correct_answer_id&&m.value.questions[H].selected==de.id}]),key:de,style:{cursor:"auto"}},g(i(y)(de.choice)),3))),128))])])]))),128))])):(c(),u("div",Zn,[s("p",null,g(i(y)(i(E).yourScore)),1),s("p",null,g(Math.floor(d.value/((z=(F=m.value)==null?void 0:F.questions)==null?void 0:z.length)*100))+"%",1),d.value/((J=(ee=m.value)==null?void 0:ee.questions)==null?void 0:J.length)>.9?(c(),u("img",Qn)):P("",!0),d.value/((L=(w=m.value)==null?void 0:w.questions)==null?void 0:L.length)<.5?(c(),u("img",Wn)):P("",!0)])),s("div",eo,[s("span",null,[W(g(i(y)(i(E).yourTime))+" ",1),s("strong",null,[W(g(Math.floor(a.value/60))+": ",1),a.value%60<10?(c(),u("strong",to,"0")):P("",!0),W(g(a.value%60),1)])])]),s("div",no,[A(i(Y),{label:i(y)(i(E).showAnswer),onClick:v[2]||(v[2]=G=>h.value=!0)},null,8,["label"]),A(i(Y),{label:i(y)(i(E).tryAgain),onClick:_},null,8,["label"]),A(i(Y),{label:i(y)(i(E).nextLesson),onClick:v[3]||(v[3]=G=>C.$emit("next",!0))},null,8,["label"])])])]}),_:1},8,["visible","pt"])])}}}),lo=le(oo,[["__scopeId","data-v-5b8d888e"]]);(function(){try{if(typeof document<"u"){var t=document.createElement("style");t.appendChild(document.createTextNode(".div[data-v-9bed9119]{position:relative}.div:hover div[data-v-9bed9119]{display:block}.div-2[data-v-9bed9119]{position:relative;border-radius:.75rem;padding:1rem;width:fit-content;max-width:80%;margin-bottom:1rem;margin-left:auto}.div-3[data-v-9bed9119]{position:absolute;width:max-content;display:none;bottom:0px;border-radius:.25rem;left:0px;transform:translate(-50%) translateY(50%);box-shadow:#0003 0 0 2px;padding:.25rem;z-index:9999}.div-4[data-v-9bed9119]{position:relative;border-radius:.75rem;padding:1rem;width:fit-content;max-width:80%;margin-bottom:1rem;margin-right:auto}.div-5[data-v-9bed9119]{position:absolute;width:max-content;display:none;bottom:0px;right:0px;border-radius:.25rem;transform:translate(50%) translateY(50%);box-shadow:#0003 0 0 2px;padding:.25rem;z-index:9999}.input[data-v-46284fc5]:focus{outline:none}.svg[data-v-46284fc5]{height:1.5rem;width:1.5rkm}")),document.head.appendChild(t)}}catch(n){console.error("vite-plugin-css-injected-by-js",n)}})();const me=(t,n)=>{const e=t.__vccOpts||t;for(const[o,a]of n)e[o]=a;return e},ao={name:"chat-messages",props:["bgColorChat","chat","bgColorMessagePerson","textColorMessagePerson","bgColorMessageTimestamp","textColorMessageTimestamp","bgColorMessageChatbot","textColorMessageChatbot"],data:()=>({chatElementAdded:!1}),updated(){const t=document.getElementById("chat-container");t&&this.chatElementAdded&&(this.scrollToEnd(t),this.chatElementAdded=!1)},watch:{onUpdateHook0:{handler(){document.getElementById("chat-container")&&(this.chatElementAdded=!0)},immediate:!0}},computed:{onUpdateHook0(){return{0:this.chat.length}}},methods:{scrollToEnd:function(t){const n=t.clientHeight,e=t.scrollHeight;t.scrollTop=e-n}}},ro={key:0,class:"div"},io={key:1,class:"div"};function so(t,n,e,o,a,l){return c(),u("div",{id:"chat-container",style:q({height:"100%",overscrollBehaviorY:"contain",overflowY:"auto",overflowX:"hidden",backgroundColor:e.bgColorChat||"#EAEEF3",padding:"1.5rem"})},[(c(!0),u(B,null,Q(e.chat,(d,h)=>(c(),u("div",{key:h},[d.type=="person"?(c(),u("div",ro,[s("div",{class:"div-2",style:q({backgroundColor:e.bgColorMessagePerson||"#025CDB",color:e.textColorMessagePerson||"white"})},[d.timestamp?(c(),u("div",{key:0,class:"div-3",style:q({backgroundColor:e.bgColorMessageTimestamp||"white",color:e.textColorMessageTimestamp||"black"})},g(d.timestamp),5)):P("",!0),W(" "+g(d.message),1)],4)])):P("",!0),d.type=="chatbot"?(c(),u("div",io,[s("div",{class:"div-4",style:q({backgroundColor:e.bgColorMessageChatbot||"white",color:e.textColorMessageChatbot||"black"})},[d.timestamp?(c(),u("div",{key:0,class:"div-5",style:q({backgroundColor:e.bgColorMessageTimestamp||"white",color:e.textColorMessageTimestamp||"black"})},g(d.timestamp),5)):P("",!0),W(" "+g(d.message),1)],4)])):P("",!0)]))),128))],4)}const co=me(ao,[["render",so],["__scopeId","data-v-9bed9119"]]),uo={name:"chat-input",props:["onSend","inputHeight","bgColorInput","textColorInput","inputPlaceholder"],data:()=>({inputField:""}),methods:{sendMessage(t){t.preventDefault(),this.onSend&&this.onSend(this.inputField),this.inputField=""}}},ho=t=>(We("data-v-46284fc5"),t=t(),Ue(),t),po=["placeholder","value"],fo=["strokeWidth"],mo=ho(()=>s("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M6 12L3.269 3.126A59.768 59.768 0 0121.485 12 59.77 59.77 0 013.27 20.876L5.999 12zm0 0h7.5"},null,-1)),go=[mo];function vo(t,n,e,o,a,l){return c(),u("form",{onSubmit:n[1]||(n[1]=(...d)=>l.sendMessage&&l.sendMessage(...d)),style:q({display:"flex",height:e.inputHeight||"60px",backgroundColor:e.bgColorInput||"white",color:e.textColorInput||"black"})},[s("input",{class:"input",placeholder:e.inputPlaceholder||"Type your message here",onInput:n[0]||(n[0]=d=>t.inputField=d.target.value),value:t.inputField,style:q({borderWidth:"0px",backgroundColor:e.bgColorInput||"white",color:e.textColorInput||"black",width:"100%",marginLeft:"1rem",fontSize:"1rem"})},null,44,po),s("button",{style:q({backgroundColor:e.bgColorInput||"white",flexShrink:"0",all:"unset",cursor:"pointer",margin:"auto 1rem"})},[(c(),u("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",class:"svg",strokeWidth:1.5},go,8,fo))],4)],36)}const yo=me(uo,[["render",vo],["__scopeId","data-v-46284fc5"]]),bo={name:"chat-icon"},Co={style:{height:"32px",width:"32px"}},ko=Qe('<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19.3259 5.77772L18.4944 6.33329V6.33329L19.3259 5.77772ZM19.3259 16.2223L18.4944 15.6667V15.6667L19.3259 16.2223ZM18.2223 17.3259L17.6667 16.4944H17.6667L18.2223 17.3259ZM14 17.9986L13.9956 16.9986C13.4451 17.001 13 17.4481 13 17.9986H14ZM14 18L14.8944 18.4472C14.9639 18.3084 15 18.1552 15 18H14ZM10 18H9C9 18.1552 9.03615 18.3084 9.10557 18.4472L10 18ZM10 17.9986H11C11 17.4481 10.5549 17.001 10.0044 16.9986L10 17.9986ZM5.77772 17.3259L6.33329 16.4944H6.33329L5.77772 17.3259ZM4.67412 16.2223L5.50559 15.6667L5.50559 15.6667L4.67412 16.2223ZM4.67412 5.77772L5.50559 6.33329L4.67412 5.77772ZM5.77772 4.67412L6.33329 5.50559L5.77772 4.67412ZM18.2223 4.67412L17.6667 5.50559L17.6667 5.50559L18.2223 4.67412ZM21 11C21 9.61635 21.0012 8.50334 20.9106 7.61264C20.8183 6.70523 20.6225 5.91829 20.1573 5.22215L18.4944 6.33329C18.7034 6.64604 18.8446 7.06578 18.9209 7.81505C18.9988 8.58104 19 9.57473 19 11H21ZM20.1573 16.7779C20.6225 16.0817 20.8183 15.2948 20.9106 14.3874C21.0012 13.4967 21 12.3836 21 11H19C19 12.4253 18.9988 13.419 18.9209 14.1849C18.8446 14.9342 18.7034 15.354 18.4944 15.6667L20.1573 16.7779ZM18.7779 18.1573C19.3238 17.7926 19.7926 17.3238 20.1573 16.7779L18.4944 15.6667C18.2755 15.9943 17.9943 16.2755 17.6667 16.4944L18.7779 18.1573ZM14.0044 18.9986C15.0785 18.9939 15.9763 18.9739 16.7267 18.8701C17.4931 18.7642 18.1699 18.5636 18.7779 18.1573L17.6667 16.4944C17.3934 16.6771 17.0378 16.8081 16.4528 16.889C15.8518 16.9721 15.0792 16.9939 13.9956 16.9986L14.0044 18.9986ZM15 18V17.9986H13V18H15ZM13.7889 20.6584L14.8944 18.4472L13.1056 17.5528L12 19.7639L13.7889 20.6584ZM10.2111 20.6584C10.9482 22.1325 13.0518 22.1325 13.7889 20.6584L12 19.7639L12 19.7639L10.2111 20.6584ZM9.10557 18.4472L10.2111 20.6584L12 19.7639L10.8944 17.5528L9.10557 18.4472ZM9 17.9986V18H11V17.9986H9ZM5.22215 18.1573C5.83014 18.5636 6.50685 18.7642 7.2733 18.8701C8.02368 18.9739 8.92154 18.9939 9.99564 18.9986L10.0044 16.9986C8.92075 16.9939 8.14815 16.9721 7.54716 16.889C6.96223 16.8081 6.60665 16.6771 6.33329 16.4944L5.22215 18.1573ZM3.84265 16.7779C4.20744 17.3238 4.6762 17.7926 5.22215 18.1573L6.33329 16.4944C6.00572 16.2755 5.72447 15.9943 5.50559 15.6667L3.84265 16.7779ZM3 11C3 12.3836 2.99879 13.4967 3.0894 14.3874C3.18171 15.2948 3.3775 16.0817 3.84265 16.7779L5.50559 15.6667C5.29662 15.354 5.15535 14.9342 5.07913 14.1849C5.00121 13.419 5 12.4253 5 11H3ZM3.84265 5.22215C3.3775 5.91829 3.18171 6.70523 3.0894 7.61264C2.99879 8.50334 3 9.61635 3 11H5C5 9.57473 5.00121 8.58104 5.07913 7.81505C5.15535 7.06578 5.29662 6.64604 5.50559 6.33329L3.84265 5.22215ZM5.22215 3.84265C4.6762 4.20744 4.20744 4.6762 3.84265 5.22215L5.50559 6.33329C5.72447 6.00572 6.00572 5.72447 6.33329 5.50559L5.22215 3.84265ZM11 3C9.61635 3 8.50334 2.99879 7.61264 3.0894C6.70523 3.18171 5.91829 3.3775 5.22215 3.84265L6.33329 5.50559C6.64604 5.29662 7.06578 5.15535 7.81505 5.07913C8.58104 5.00121 9.57473 5 11 5V3ZM13 3H11V5H13V3ZM18.7779 3.84265C18.0817 3.3775 17.2948 3.18171 16.3874 3.0894C15.4967 2.99879 14.3836 3 13 3V5C14.4253 5 15.419 5.00121 16.1849 5.07913C16.9342 5.15535 17.354 5.29662 17.6667 5.50559L18.7779 3.84265ZM20.1573 5.22215C19.7926 4.6762 19.3238 4.20744 18.7779 3.84265L17.6667 5.50559C17.9943 5.72447 18.2755 6.00572 18.4944 6.33329L20.1573 5.22215Z"></path><circle cx="16" cy="11" r="1" stroke-linecap="round"></circle><circle cx="12" cy="11" r="1" stroke-linecap="round"></circle><circle cx="8" cy="11" r="1" stroke-linecap="round"></circle></svg>',1),xo=[ko];function _o(t,n,e,o,a,l){return c(),u("div",Co,xo)}const He=me(bo,[["render",_o]]),wo={name:"chat-header",components:{ChatIcon:He},props:["headerHeight","bgColorHeader","bgColorIcon","fillColorIcon","textColorHeader","offline","colorOffline","colorOnline","closeChat"]},Io={style:{display:"flex"}},So={key:0},Mo={key:1},To=s("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M6 18L18 6M6 6l12 12"},null,-1),Ao=[To];function Oo(t,n,e,o,a,l){const d=X("chat-icon");return c(),u("div",{style:q({display:"flex",height:e.headerHeight||"90px",flexShrink:"0",backgroundColor:e.bgColorHeader||"white"})},[s("div",{style:q({position:"flex",borderRadius:"50%",backgroundColor:e.bgColorIcon||"#025CDB",marginTop:"auto",marginBottom:"auto",marginLeft:"1.25rem",marginRight:"1.25rem",padding:"0.75rem",fill:e.fillColorIcon||"white"})},[A(d)],4),s("div",{style:q({marginTop:"auto",marginBottom:"auto",width:"100%",color:e.textColorHeader||"black"})},[s("div",{style:q({fontWeight:"600",fontSize:"1.10rem",lineHeight:"1.5rem"})}," ChatBot ",4),s("div",Io,[s("div",{style:q({borderRadius:"50%",height:"8px",width:"8px",margin:"auto 4px",backgroundColor:e.offline?e.colorOffline||"red":e.colorOnline||"green"})},null,4),e.offline?(c(),u("div",So,"Offline")):(c(),u("div",Mo,"Online"))])],4),(c(),u("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",stroke:"currentColor","stroke-width":"2",onClick:n[0]||(n[0]=h=>e.closeChat()),style:q({height:"1.75rem",width:"1.75rem",flexShrink:"0",margin:"1rem",cursor:"pointer",color:e.textColorHeader||"black"})},Ao,4))],4)}const Ko=me(wo,[["render",Oo]]),Lo={name:"chat",components:{ChatIcon:He,ChatHeader:Ko,ChatMessages:co,ChatInput:yo},props:["bgColorIcon","margin","fillColorIcon","width","height","boxShadow","headerHeight","bgColorHeader","textColorHeader","offline","colorOffline","colorOnline","bgColorChat","bgColorMessageChatbot","bgColorMessagePerson","bgColorMessageTimestamp","textColorMessageChatbot","textColorMessagePerson","textColorMessageTimestamp","chat","onSend","inputHeight","bgColorInput","textColorInput","inputPlaceholder"],data:()=>({chatOpen:!1}),methods:{stateCloseChat(){this.chatOpen=!1},stateOpenChat(){this.chatOpen=!0}}},No={style:{display:"flex",flexDirection:"column",height:"100%"}};function $o(t,n,e,o,a,l){const d=X("chat-icon"),h=X("chat-header"),f=X("chat-messages"),r=X("chat-input");return c(),u("div",null,[s("div",{onClick:n[0]||(n[0]=p=>l.stateOpenChat()),style:q({position:"fixed",bottom:"0px",right:"0px",overflow:"hidden",transform:t.chatOpen?"translateY(100%)":"translateY(0%)",transitionTimingFunction:"cubic-bezier(0.4, 0, 0.2, 1)",transitionDuration:"300ms",transitionDelay:t.chatOpen?"0ms":"300ms"})},[s("div",{style:q({position:"flex",borderRadius:"50%",cursor:"pointer",backgroundColor:e.bgColorIcon||"#025CDB",margin:e.margin||"20px",padding:"0.75rem",fill:e.fillColorIcon||"white"})},[A(d)],4)],4),s("div",{style:q({position:"fixed",bottom:"0px",right:"0px",maxHeight:"100%",maxWidth:"100%",width:e.width||"410px",height:e.height||"700px",overflow:"hidden",transform:t.chatOpen?"translateY(0%)":"translateY(100%)",transitionTimingFunction:"cubic-bezier(0.4, 0, 0.2, 1)",transitionDuration:"300ms",transitionDelay:t.chatOpen?"300ms":"0ms"})},[s("div",{style:q({margin:e.margin||"20px",overflow:"hidden",borderRadius:"0.75rem",boxShadow:e.boxShadow||"rgba(0,0,0,0.4) 0 0 6px",maxHeight:e.margin?"calc(100% - "+e.margin+" - "+e.margin+")":"calc(100% - 40px)",maxWidth:e.margin?"calc(100% - "+e.margin+" - "+e.margin+")":"calc(100% - 40px)",width:e.width&&e.margin?"calc("+e.width+" - "+e.margin+" - "+e.margin+")":e.width?"calc("+e.width+" - 40px)":e.margin?"calc(410px - "+e.margin+" - "+e.margin+")":"calc(410px - 40px)",height:e.height&&e.margin?"calc("+e.height+" - "+e.margin+" - "+e.margin+")":e.height?"calc("+e.height+" - 40px)":e.margin?"calc(700px - "+e.margin+" - "+e.margin+")":"calc(700px - 40px)"})},[s("div",No,[A(h,{closeChat:l.stateCloseChat,headerHeight:e.headerHeight,bgColorHeader:e.bgColorHeader,bgColorIcon:e.bgColorIcon,textColorHeader:e.textColorHeader,fillColorIcon:e.fillColorIcon,offline:e.offline,colorOffline:e.colorOffline,colorOnline:e.colorOnline},null,8,["closeChat","headerHeight","bgColorHeader","bgColorIcon","textColorHeader","fillColorIcon","offline","colorOffline","colorOnline"]),A(f,{bgColorChat:e.bgColorChat,bgColorMessageChatbot:e.bgColorMessageChatbot,bgColorMessagePerson:e.bgColorMessagePerson,bgColorMessageTimestamp:e.bgColorMessageTimestamp,textColorMessageChatbot:e.textColorMessageChatbot,textColorMessagePerson:e.textColorMessagePerson,textColorMessageTimestamp:e.textColorMessageTimestamp,chat:e.chat},null,8,["bgColorChat","bgColorMessageChatbot","bgColorMessagePerson","bgColorMessageTimestamp","textColorMessageChatbot","textColorMessagePerson","textColorMessageTimestamp","chat"]),A(r,{onSend:e.onSend,inputHeight:e.inputHeight,bgColorInput:e.bgColorInput,textColorInput:e.textColorInput,inputPlaceholder:e.inputPlaceholder},null,8,["onSend","inputHeight","bgColorInput","textColorInput","inputPlaceholder"])])],4)],4)])}const Eo=me(Lo,[["render",$o]]),Po={class:"chat",style:{"background-color":"blue"}},Do="AIzaSyB6WTXMQsbP9QJCe1ymDInuXRQ0a_uk4uQ",Ho=oe({__name:"ChatBot",setup(t){const o=new tt(Do).getGenerativeModel({model:"gemini-1.5-flash",generationConfig:{temperature:1}}).startChat({history:[]}),a=T(""),l=T("");async function d(){const p=await o.sendMessage(a.value);l.value=p.response.text()}const h=T([]);async function f(p){if(p=="")return;const m={type:"person",message:p};h.value.push(m),a.value=p,await d();const O={type:"chatbot",message:r(l.value)};h.value.push(O)}function r(p){let m=p.replace(/##/g,"");return m=m.replace(/\*\*/g,""),m=m.replace(/\*/g,""),m}return(p,m)=>(c(),u("div",Po,[A(i(Eo),{class:"chat",onSend:f,chat:h.value,bgColorHeader:"#7302ff",bgColorChat:"#C8E7EF",bgColorInput:"#ffffff",bgColorIcon:"#7302ff",bgColorMessageChatbot:"#fff",textColorMessageChatbot:"#282828",bgColorMessagePerson:"#7302ff",textColorInput:"#282828",textColorHeader:"#fff",textColorMessagePerson:"",colorOnline:"#7302ff",inputHeight:"3rem",width:"25rem",height:"70vh",boxShadow:"",fillColorIcon:"#fff"},null,8,["chat"])]))}}),jo=le(Ho,[["__scopeId","data-v-4e8b2e6b"]]),Ro={class:"container"},qo={class:"sidebar"},Bo={class:"wrapper"},Vo={class:"Button-Wrapper"},Fo=oe({__name:"viewCoursePage",setup(t){const n=T(),e=T(),o=T(),a=se(),l=Oe(),d=Ye();new U("get_enrollment").callApi({course_id:a.params.courseId}).then(I=>{(I==null?void 0:I.success)==!1&&l.push("/")}),(async()=>{new U("get_course").callApi({course_id:a.params.courseId}).then(K=>{var R,V,_,$,C,v;if(K!=null&&K.success){n.value=(V=(R=K==null?void 0:K.data)==null?void 0:R.course)==null?void 0:V.chapters,e.value=($=(_=K==null?void 0:K.data)==null?void 0:_.course)==null?void 0:$.title,o.value=(v=(C=K==null?void 0:K.data)==null?void 0:C.course)==null?void 0:v.image;for(let S of n.value)for(let b=0;b<S.materials.length;b++)for(let x of Ge)S.materials[b].type===x.name&&(S.materials[b].matIcon=x.icon)}})})();const r=ie(()=>{var V;const I=T();new U("get_enrollment").callApi({course_id:a.params.courseId}).then(_=>{var $,C,v,S,b,x,k,D,j,F,z,ee;if(_!=null&&_.success){I.value=(C=($=_==null?void 0:_.data)==null?void 0:$.enrollment)==null?void 0:C.progress;for(let J of n.value)for(let w of J==null?void 0:J.materials)(S=(v=I.value)==null?void 0:v.lessons_completed)!=null&&S.some(L=>(L==null?void 0:L.lesson_id)==(w==null?void 0:w.Id))||(x=(b=I.value)==null?void 0:b.quizes_completed)!=null&&x.some(L=>(L==null?void 0:L.quiz_id)==(w==null?void 0:w.Id))||(D=(k=I.value)==null?void 0:k.activities_completed)!=null&&D.some(L=>(L==null?void 0:L.activity_id)==(w==null?void 0:w.Id))||(F=(j=I.value)==null?void 0:j.simulations_completed)!=null&&F.some(L=>(L==null?void 0:L.simulation_id)==(w==null?void 0:w.Id))||(ee=(z=I.value)==null?void 0:z.projects_completed)!=null&&ee.some(L=>(L==null?void 0:L.project_id)==(w==null?void 0:w.Id))?w.status="Done":w.status="Unselected"}});let R=a.params.materialId;for(let _=0;_<((V=n.value)==null?void 0:V.length);_++){const $=n.value[_];for(let C=0;C<$.materials.length;C++){const v=$.materials[C];if(v.Id===R){let S=null,b=null;if(C>0)S=$.materials[C-1].Id;else if(_>0){const D=n.value[_-1];S=D.materials[D.materials.length-1].Id}if(C<$.materials.length-1)b=$.materials[C+1].Id;else if(_<n.value.length-1){const D=n.value[_+1];D.materials.length>0&&(b=D.materials[0].Id)}let x,k=!1;return v.type==="Lesson"&&(x=Yt),v.type==="Simulation"&&(x=tn),v.type==="Project"&&(x=rn),v.type==="Activity"&&(x=Tn),v.status=="Done"&&(k=!0),v.type==="Quiz"&&(x=lo),{type:x,prevMaterialId:S,nextMaterialId:b,isCompleted:k}}}}return null});function p(){r.value&&r.value.prevMaterialId&&l.push(`/viewCoursePage/${a.params.courseId}/${a.params.enrollmentId}/${r.value.prevMaterialId}`)}function m(){r.value&&r.value.nextMaterialId&&l.push(`/viewCoursePage/${a.params.courseId}/${a.params.enrollmentId}/${r.value.nextMaterialId}`)}function O(){var K,R,V,_,$;let I={new_chat:{course_title:(K=e.value)==null?void 0:K.en,course_id:a.params.courseId,student_name:((R=d.getInfo)==null?void 0:R.firstName)+" "+((V=d.getInfo)==null?void 0:V.lastName),avatar:o.value,participants:[{id:(_=d.getInfo)==null?void 0:_.id,username:($=d.getInfo)==null?void 0:$.email}]}};new U("create_chat").callApi(I).then(C=>{var v;C!=null&&C.success&&l.push(`/childChats/${(v=C==null?void 0:C.data)==null?void 0:v.chat_id}`)})}return(I,K)=>{var R,V,_,$;return c(),u("main",null,[A(jo),A(i(Y),{label:i(y)(i(E).chats),icon:"pi pi-user","icon-pos":"right",style:{"font-size":"0.6rem",position:"absolute",left:"1rem",bottom:"1rem","z-index":"2","background-color":"var(--accent2)"},onClick:O},null,8,["label"]),A(Xe),s("div",Ro,[s("div",qo,[A(zt,{chapters:n.value,"course-title":e.value},null,8,["chapters","course-title"])]),s("div",Bo,[(c(),Z(te((R=r.value)==null?void 0:R.type),{onNext:m,completed:(V=r.value)==null?void 0:V.isCompleted},null,40,["completed"])),s("div",Vo,[A(i(Y),{label:i(y)(i(E).prev),class:M({hide:!((_=r.value)!=null&&_.prevMaterialId)}),onClick:p},null,8,["label","class"]),A(i(Y),{label:i(y)(i(E).next),class:M({hide:!(($=r.value)!=null&&$.nextMaterialId)}),onClick:m},null,8,["label","class"])])])])])}}}),Uo=le(Fo,[["__scopeId","data-v-b5cb69ee"]]);export{Uo as default};
