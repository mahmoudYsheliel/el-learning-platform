import{A as H}from"./AdminSidebar-BDvWwQ2d.js";import{d as L,G as R,C as E,f as v,i as S,o as _,e as c,c as T,w as x,t as V,V as G,g as J,an as b,v as N,b as g,m as P,J as B,H as w,_ as M,r as f,h as U,l as K,D as Q,N as W,s as q,F as X,p as Y,n as Z}from"./index-B4bJB-nK.js";const ee={class:"dialog"},ae={style:{width:"100%",margin:"0",padding:"0"}},le={key:0,class:"element"},ie={class:"btn-container"},oe=L({__name:"AdminAddTypeDialog",props:["showDialog","materialType","bteLabel"],setup(r){const t=r,d=S();function u(){let n={API:"",object:{}},o={},s="";o.description={en:b.value.descriptionEn.variable,ar:b.value.descriptionAr.variable},o.image=b.value.imageURL.variable,t.materialType=="Categories"?(o.category={en:b.value.titleEn.variable,ar:b.value.titleAr.variable},s="create_category",n={API:s,object:{new_category:o}}):(t.materialType=="Courses"||t.materialType=="Plans"||t.materialType=="Programs")&&(o.max_age=Number(b.value.maxAge.variable),o.min_age=Number(b.value.minAge.variable),o.title={en:b.value.titleEn.variable,ar:b.value.titleAr.variable}),t.materialType=="Plans"&&(s="create_plan",o.price=Number(b.value.price.variable),n={API:s,object:{new_plan:o}}),t.materialType=="Programs"&&(s="create_program",n={API:s,object:{new_program:o}}),t.materialType=="Courses"&&(s="create_course",o.price=Number(b.value.price.variable),n={API:s,object:{new_course:o}}),new w(n.API).callApi(n.object).then(a=>{var m,p,i,A;a!=null&&a.success&&(t.materialType=="Plans"&&d.push(`/editPlan/${(m=a==null?void 0:a.data)==null?void 0:m.plan_id}`),t.materialType=="Courses"&&d.push(`/editCourse/${(p=a==null?void 0:a.data)==null?void 0:p.course_id}`),t.materialType=="Programs"&&d.push(`/editProgram/${(i=a==null?void 0:a.data)==null?void 0:i.program_id}`),t.materialType=="Categories"&&d.push(`/editCategory/${(A=a==null?void 0:a.data)==null?void 0:A.category_id}`))})}return(n,o)=>(_(),R(v(B),{visible:t.showDialog,"onUpdate:visible":o[1]||(o[1]=s=>t.showDialog=s),modal:"",style:{width:"80%"},pt:{root:"border-none",mask:{style:"backdrop-filter: blur(2px)"}}},{container:E(({closeCallback:s})=>[c("main",null,[c("div",ee,[(_(!0),T(N,null,x(v(b),(a,m)=>(_(),T("div",ae,[a.forTypes.includes(r.materialType)?(_(),T("div",le,[c("h4",null,V(a.label),1),(_(),R(G(a.component),{type:a.inputType,modelValue:a.variable,"onUpdate:modelValue":p=>a.variable=p},null,8,["type","modelValue","onUpdate:modelValue"]))])):J("",!0)]))),256)),c("div",ie,[g(v(P),{label:n.$props.bteLabel,style:{"font-size":"1rem","margin-top":"2rem"},onClick:u},null,8,["label"]),g(v(P),{label:"Cancel",style:{"font-size":"1rem","margin-top":"2rem"},onClick:o[0]||(o[0]=()=>{n.$emit("removeDialog")})})])])])]),_:1},8,["visible","pt"]))}}),te=M(oe,[["__scopeId","data-v-e83773e8"]]),se={class:"dialog"},ne={style:{"font-weight":"1000"}},ce=L({__name:"ConfirmDelete",props:["showDialog","mat","matType"],emits:["removeDialog"],setup(r,{emit:t}){const d=f(),u=r,n=t;function o(){var s,a,m,p;u.matType=="Programs"?new w("delete_program").callApi({program_id:(s=u.mat)==null?void 0:s.id}).then(i=>{i!=null&&i.success&&n("removeDialog",!0)}):u.matType=="Categories"?new w("delete_category").callApi({category_id:(a=u.mat)==null?void 0:a.id}).then(i=>{i!=null&&i.success&&n("removeDialog",!0)}):u.matType=="Plans"?new w("delete_plan").callApi({plan_id:(m=u.mat)==null?void 0:m.id}).then(i=>{i!=null&&i.success&&n("removeDialog",!0)}):u.matType=="Courses"&&new w("delete_course").callApi({course_id:(p=u.mat)==null?void 0:p.id}).then(i=>{i!=null&&i.success&&n("removeDialog",!0)})}return(s,a)=>(_(),R(v(B),{visible:u.showDialog,"onUpdate:visible":a[2]||(a[2]=m=>u.showDialog=m),modal:"",pt:{root:"border-none",mask:{style:"backdrop-filter: blur(2px)"}}},{container:E(({closeCallback:m})=>{var p,i,A,k,y,C;return[c("div",se,[c("h2",null,[U(" Type "),c("strong",ne,'"'+V(r.matType=="Categories"?(i=(p=r.mat)==null?void 0:p.category)==null?void 0:i.en:(k=(A=r.mat)==null?void 0:A.title)==null?void 0:k.en)+'"',1),U(" to confirm deletion ")]),g(v(K),{modelValue:d.value,"onUpdate:modelValue":a[0]||(a[0]=j=>d.value=j)},null,8,["modelValue"]),g(v(P),{label:"Confirm Deletion",disabled:d.value!=((y=r.mat.title)==null?void 0:y.en)&&r.matType!="Categories"||d.value!=((C=r.mat.category)==null?void 0:C.en)&&r.matType=="Categories",onClick:o},null,8,["disabled"]),g(v(P),{label:"Cancel",onClick:a[1]||(a[1]=()=>{s.$emit("removeDialog",!0)})})])]}),_:1},8,["visible","pt"]))}}),re=M(ce,[["__scopeId","data-v-5dffa862"]]),ue=r=>(Y("data-v-fdd302a9"),r=r(),Z(),r),de={class:"container"},me={class:"wrapper"},pe={class:"table-container"},ge={class:"top-option"},ve={class:"table"},be=ue(()=>c("div",{class:"row"},[c("h3",{class:"element"},"Title"),c("h3",{class:"element"},"Options")],-1)),fe={class:"row"},_e={class:"element"},he={class:"element btnContainer"},we=L({__name:"manageCourses",setup(r){const t=S(),d=f(!1),u=f(""),n=f(""),o=new w("get_all_program"),s=f();o.callApi().then(e=>{var l;s.value=(l=e==null?void 0:e.data)==null?void 0:l.program});const a=new w("get_categories"),m=f();a.callApi().then(e=>{var l;m.value=(l=e==null?void 0:e.data)==null?void 0:l.categories});const p=new w("get_all_plans"),i=f();p.callApi().then(e=>{var l;i.value=(l=e==null?void 0:e.data)==null?void 0:l.plans});const A=new w("get_courses"),k=f();A.callApi().then(e=>{var l;k.value=(l=e==null?void 0:e.data)==null?void 0:l.courses});const y=Q(()=>[{label:"Programs",btn:"Add Program",value:s.value},{label:"Plans",btn:"Add Plan",value:i.value},{label:"Categories",btn:"Add Category",value:m.value},{label:"Courses",btn:"Add Course",value:k.value}]);function C(e,l){u.value=e,n.value=l,d.value=!0}const j=f(),I=f(!1),$=f();function F(e,l){l=="Programs"&&t.push(`/editProgram/${e==null?void 0:e.id}`),l=="Plans"&&t.push(`/editPlan/${e==null?void 0:e.id}`),l=="Categories"&&t.push(`/editCategory/${e==null?void 0:e.id}`),l=="Courses"&&t.push(`/editCourse/${e==null?void 0:e.id}`)}function O(e,l){j.value=e,$.value=l,I.value=!0}function z(){I.value=!1,$.value=="Programs"?o.callApi().then(e=>{var l;s.value=(l=e==null?void 0:e.data)==null?void 0:l.program}):$.value=="Categories"?a.callApi().then(e=>{var l;m.value=(l=e==null?void 0:e.data)==null?void 0:l.categories}):$.value=="Plans"?p.callApi().then(e=>{var l;i.value=(l=e==null?void 0:e.data)==null?void 0:l.plans}):$.value=="Courses"&&A.callApi().then(e=>{var l;k.value=(l=e==null?void 0:e.data)==null?void 0:l.courses})}return(e,l)=>(_(),T(N,null,[g(W),g(te,{"show-dialog":d.value,materialType:u.value,bteLabel:n.value,onRemoveDialog:l[0]||(l[0]=h=>d.value=!1)},null,8,["show-dialog","materialType","bteLabel"]),g(re,{"show-dialog":I.value,mat:j.value,onRemoveDialog:z,matType:$.value},null,8,["show-dialog","mat","matType"]),c("div",de,[g(H,{class:"sidebar",selected:"Manage Courses"}),c("div",me,[(_(!0),T(N,null,x(y.value,h=>(_(),T("div",pe,[c("div",ge,[c("h2",null,V(h.label),1),g(v(P),{label:h.btn,icon:"pi pi-plus-circle","icon-pos":"right",onClick:()=>{C(h.label,h.btn)}},null,8,["label","onClick"])]),c("div",ve,[be,(_(!0),T(N,null,x(h.value,D=>(_(),T("div",fe,[c("p",_e,V(h.label=="Categories"?v(q)(D==null?void 0:D.category):v(q)(D==null?void 0:D.title)),1),c("div",he,[g(v(P),{label:"Edit",icon:"pi pi-pencil","icon-pos":"right",style:{"background-color":"blue"},onClick:()=>{F(D,h.label)}},null,8,["onClick"]),g(v(P),{label:"Delete",icon:"pi pi-trash","icon-pos":"right",style:{"background-color":"red"},onClick:()=>{O(D,h.label)}},null,8,["onClick"])])]))),256))])]))),256))])]),g(X)],64))}}),Te=M(we,[["__scopeId","data-v-fdd302a9"]]);export{Te as default};
