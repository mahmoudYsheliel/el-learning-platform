import{C as P}from"./ChildSidebar-BOgkgzZ3.js";import{d as H,i as z,E as J,r as u,H as m,D as L,s as k,o as n,c,e as o,g as q,b as f,C as O,t as R,ar as T,f as r,k as B,m as K,_ as S,w as N,x as V,N as Q,G as U,F as W}from"./index-BsXmYjyP.js";const X={key:0,class:"first"},Y={key:0,class:"last"},Z=["src"],j=H({__name:"ChildCourseCard",props:["courseId"],setup(D){const v=D,h=z(),I=J(),C=u();new m("get_course").callApi({course_id:v.courseId}).then(l=>{var e;return C.value=(e=l==null?void 0:l.data)==null?void 0:e.course});const i=L(()=>{var l,e;return(l=I.params)!=null&&l.isEnrolled?(e=I.params)==null?void 0:e.isEnrolled:0}),a=L(()=>{var l,e;return(l=I.params)!=null&&l.childId?(e=I.params)==null?void 0:e.childId:0}),p=u(!1),E=u(!1),G=u(!1),y=u(""),A=u(""),M=u(""),x=u("");return new m("get_course_plan").callApi({course_id:v.courseId}).then(l=>{var w,$,g,F;let e=($=(w=l==null?void 0:l.data)==null?void 0:w.plan)==null?void 0:$.courses;y.value=(g=e==null?void 0:e.find(s=>(s==null?void 0:s.Id)==v.courseId))==null?void 0:g.ristriction_on_course,M.value=(F=e==null?void 0:e.find(s=>(s==null?void 0:s.ristriction_on_course)==v.courseId))==null?void 0:F.Id,M.value&&new m("get_course").callApi({course_id:M.value}).then(s=>{var d,_;x.value=k((_=(d=s==null?void 0:s.data)==null?void 0:d.course)==null?void 0:_.title)||""}),y.value&&(new m("get_course").callApi({course_id:y.value}).then(s=>{var d,_;A.value=k((_=(d=s==null?void 0:s.data)==null?void 0:d.course)==null?void 0:_.title)||""}),new m("get_enrollment").callApi({course_id:y.value}).then(s=>{var d,_;G.value=!((_=(d=s==null?void 0:s.data)==null?void 0:d.enrollment)!=null&&_.is_completed)}))}),(l,e)=>{var w,$;return n(),c("main",null,[o("div",{class:"container",onClick:e[4]||(e[4]=()=>{r(h).push(`/courseDetails/${v.courseId}/${a.value}/${i.value}`)})},[A.value?(n(),c("i",{key:0,onMousemove:e[0]||(e[0]=g=>p.value=!0),onMouseleave:e[1]||(e[1]=g=>p.value=!1),class:"pi pi-lock first"},null,32)):q("",!0),f(T,{name:"fade",appear:""},{default:O(()=>[A.value&&p.value?(n(),c("p",X,R(A.value),1)):q("",!0)]),_:1}),x.value?(n(),c("i",{key:1,onMousemove:e[2]||(e[2]=g=>E.value=!0),onMouseleave:e[3]||(e[3]=g=>E.value=!1),class:"pi pi-key last"},null,32)):q("",!0),f(T,{name:"fade"},{default:O(()=>[x.value&&E.value?(n(),c("p",Y,R(x.value),1)):q("",!0)]),_:1}),o("img",{src:(w=C.value)==null?void 0:w.image,alt:""},null,8,Z),o("h2",null,R(r(k)(($=C.value)==null?void 0:$.title)),1),f(r(K),{label:r(k)(r(B).learnMore)},null,8,["label"])])])}}}),b=S(j,[["__scopeId","data-v-a74f6c8a"]]),ee={class:"container"},se={class:"wrapper"},te={class:"courses"},ae={class:"child-courses"},le={class:"enrolled-courses"},oe={class:"course-container"},ne={class:"availavle-courses"},ue={class:"unenrolled-courses"},ce={class:"course-container"},re=H({__name:"childCourses",setup(D){const v=new m("get_enrollments"),h=u();v.callApi().then(t=>{var i,a;(i=t==null?void 0:t.data)!=null&&i.enrollments&&(h.value=(a=t==null?void 0:t.data)==null?void 0:a.enrollments)});const I=new m("get_courses"),C=u([]);return I.callApi().then(t=>{var i,a;(i=t==null?void 0:t.data)!=null&&i.courses&&(C.value=(a=t==null?void 0:t.data)==null?void 0:a.courses)}),(t,i)=>(n(),c(N,null,[f(Q),o("div",ee,[f(P,{class:"sidebar",selected:"home"}),o("div",se,[o("div",te,[o("div",ae,[o("h1",null,R(r(k)(r(B).enrolledCourses)),1),o("div",le,[(n(!0),c(N,null,V(h.value,a=>(n(),c("div",oe,[f(b,{class:"card",courseId:a.course_id},null,8,["courseId"])]))),256))])]),o("div",ne,[o("h1",null,R(r(k)(r(B).canEnroll)),1),o("div",ue,[(n(!0),c(N,null,V(C.value,a=>(n(),c("div",ce,[!h.value||!h.value.some(p=>(p==null?void 0:p.course_id)==(a==null?void 0:a.id))?(n(),U(b,{key:0,class:"card",courseId:a.id},null,8,["courseId"])):q("",!0)]))),256))])])])])]),f(W)],64))}}),ve=S(re,[["__scopeId","data-v-f0ad2003"]]);export{ve as default};
