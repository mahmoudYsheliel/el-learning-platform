import{P as N}from"./ParentSidebar-DcOdEnsw.js";import{d as q,i as S,r as _,H as m,o as r,c as n,e as s,t as v,f as o,s as C,b as i,k as $,l as b,_ as R,w as y,q as I,v as E,g as w,h as A,y as B,N as P,F as V}from"./index-vIkyQCYi.js";import{S as F}from"./SelectChild-vXO4udBE.js";import"./dropdown.esm-PnvIj9kv.js";import"./index.esm-wiCtErUF.js";const D={class:"container"},H=["src"],L=q({__name:"ParentCourseCard",props:["programId","childId","isEnrolled"],setup(d){const t=d,u=S(),l=_();return new m("get_course").callApi({course_id:t.programId}).then(p=>l.value=p.data.course),(p,f)=>{var a,c;return r(),n("main",null,[s("div",D,[s("img",{src:(a=l.value)==null?void 0:a.image,alt:""},null,8,H),s("h2",null,v(o(C)((c=l.value)==null?void 0:c.title)),1),i(o(b),{onClick:f[0]||(f[0]=()=>{o(u).push(`/courseDetails/${t.programId}/${t.childId}/${t.isEnrolled}`)}),label:o(C)(o($).learnMore)},null,8,["label"])])])}}}),x=R(L,[["__scopeId","data-v-d9977d1f"]]),M={key:0,class:"courses"},T={class:"child-courses"},z={class:"enrolled-courses"},G={class:"course-container"},J={class:"availavle-courses"},K={class:"unenrolled-courses"},O={class:"course-container"},Q=q({__name:"ChildCourses",props:["childId"],setup(d){const t=d,u=_([]),l=_(),h=y(()=>{l.value=null,new m("get_courses").callApi().then(e=>{e.data.courses&&(u.value=e.data.courses)});const c=new m("get_child_enrollments");return t.childId&&c.callApi({child_id:t.childId}).then(e=>{e.data.enrollments&&(l.value=e.data.enrollments)}),null}),p=_();return new m("get_all_plans").callApi().then(a=>{var c;a.success&&(p.value=(c=a==null?void 0:a.data)==null?void 0:c.plans)}),(a,c)=>(r(),n(I,null,[d.childId?(r(),n("div",M,[s("div",T,[s("h1",null,v(o(C)(o($).enrolledCourses)),1),s("div",z,[(r(!0),n(I,null,E(l.value,e=>(r(),n("div",G,[i(x,{class:"card",isEnrolled:1,programId:e.course_id,childId:d.childId},null,8,["programId","childId"])]))),256))])]),s("div",J,[s("h1",null,v(o(C)(o($).canEnroll)),1),s("div",K,[(r(!0),n(I,null,E(u.value,e=>{var k;return r(),n("div",O,[(k=l.value)!=null&&k.some(g=>(g==null?void 0:g.course_id)==(e==null?void 0:e.id))?w("",!0):(r(),B(x,{key:0,class:"card",isEnrolled:0,programId:e.id,childId:d.childId},null,8,["programId","childId"]))])}),256))])])])):w("",!0),A(" "+v(h.value),1)],64))}}),U=R(Q,[["__scopeId","data-v-21a3da71"]]),W={class:"container"},X={class:"wrapper"},Y={class:"select-child"},Z=q({__name:"childrenCourses",setup(d){const t=_(null);return(u,l)=>(r(),n(I,null,[i(P),s("div",W,[i(N,{class:"sidebar",selected:"childCourses"}),s("div",X,[s("div",Y,[i(F,{onSelectedChild:l[0]||(l[0]=h=>t.value=h)}),i(U,{childId:t.value},null,8,["childId"])])])]),i(V)],64))}}),ae=R(Z,[["__scopeId","data-v-301972bc"]]);export{ae as default};
