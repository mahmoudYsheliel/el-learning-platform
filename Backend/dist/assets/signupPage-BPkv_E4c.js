import{_ as G}from"./login-HlRQAw4O.js";import{d as H,r as d,H as V,c as g,b as i,e as t,t as u,f as e,g as b,h as O,i as j,j as L,o as v,N as z,s,k as l,l as J,m as K,F as Q,p as W,n as X,q as Y,a as Z,_ as ee}from"./index-mmTtHggo.js";import{s as U}from"./password.esm-BaBoTcLx.js";const ae=m=>(W("data-v-e057df48"),m=m(),X(),m),oe={class:"container"},te=ae(()=>t("div",{class:"left borderRigth"},[t("img",{src:G,alt:""})],-1)),se={class:"right"},le={class:"welcome"},ne={class:"google-facebook-wrapper"},ie={key:0},ue={key:1},ce={key:2},de={class:"wrapper"},pe={class:"button"},me={style:{"margin-left":"5rem"}},re=H({__name:"signupPage",setup(m){const h=j(),r=d(),p=d(),f=d(),I=d(!1),w=d(!1),k=d(!1),P=new V("signup");function $(){if(!r.value||!p.value||!f.value)I.value=!0;else if(p.value!=f.value)w.value=!0;else{let _={user:{email:r.value,hashed_pass:p.value,user_type:"Parent"}};P.callApi(_).then(o=>{o.msg=="email is already used once"?k.value=!0:(o==null?void 0:o.success)==!0&&h.push("/login")})}}const D=_=>{const o=Y(_.credential);if(o.email_verified){let y={user:{email:o.email,hashed_pass:"mahmoud2000",user_type:"Parent"}};P.callApi(y).then(c=>{if(c.msg=="email is already used once")k.value=!0;else if((c==null?void 0:c.success)==!0){const n=new V("token"),E=Z();n.login(o.email,"mahmoud2000").then(F=>{F.access_token&&new V("personal_info").callApi().then(a=>{var N,R,q,C,x,A,M,S,T,B;a!=null&&a.success&&(E.addInfo({userType:(R=(N=a==null?void 0:a.data)==null?void 0:N.info)==null?void 0:R.user_type,notifications:[],id:(C=(q=a==null?void 0:a.data)==null?void 0:q.info)==null?void 0:C.id,firstName:(A=(x=a==null?void 0:a.data)==null?void 0:x.info)==null?void 0:A.first_name,lastName:(S=(M=a==null?void 0:a.data)==null?void 0:M.info)==null?void 0:S.last_name,email:(B=(T=a==null?void 0:a.data)==null?void 0:T.info)==null?void 0:B.email}),h.push("/"))})})}})}};return(_,o)=>{const y=L("Options"),c=L("GoogleLogin");return v(),g("main",null,[i(z),i(y),t("div",oe,[te,t("div",se,[t("div",le,[t("h1",null,u(e(s)(e(l).welcome)),1),t("h1",null,u(e(s)(e(l).traceCommunity)),1)]),t("div",ne,[i(c,{callback:D})]),I.value?(v(),g("h4",ie,u(e(s)(e(l).dataMissing)),1)):b("",!0),w.value?(v(),g("h4",ue,u(e(s)(e(l).diffPass)),1)):b("",!0),k.value?(v(),g("h4",ce,u(e(s)(e(l).emailTaken)),1)):b("",!0),t("div",de,[i(e(J),{type:"email",class:"input",modelValue:r.value,"onUpdate:modelValue":o[0]||(o[0]=n=>r.value=n),placeholder:e(s)(e(l).email)},null,8,["modelValue","placeholder"]),i(e(U),{class:"input",modelValue:p.value,"onUpdate:modelValue":o[1]||(o[1]=n=>p.value=n),feedback:!1,toggleMask:"",placeholder:e(s)(e(l).pass)},null,8,["modelValue","placeholder"]),i(e(U),{id:"input",modelValue:f.value,"onUpdate:modelValue":o[2]||(o[2]=n=>f.value=n),feedback:!1,toggleMask:"",placeholder:e(s)(e(l).confirmPass)},null,8,["modelValue","placeholder"])]),t("div",pe,[i(e(K),{onClick:$,label:e(s)(e(l).signup)},null,8,["label"])]),t("p",me,[O(u(e(s)(e(l).haveAccount))+" ",1),t("strong",{onClick:o[3]||(o[3]=n=>e(h).push("/login")),style:{cursor:"pointer","text-decoration":"underline",color:"var(--accent1)"}},u(e(s)(e(l).login)),1)])])]),i(Q)])}}}),he=ee(re,[["__scopeId","data-v-e057df48"]]);export{he as default};
