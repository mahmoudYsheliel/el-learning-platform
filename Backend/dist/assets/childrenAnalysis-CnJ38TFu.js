import{P as q,_ as F}from"./html2canvas.esm-CRe7hb8-.js";import{P as z}from"./ParentSidebar-CXm6onJF.js";import{d as B,a0 as H,r as m,c as I,b as C,f as e,o as g,a1 as Y,_ as O,x as L,g as $,s,k as v,a as U,Y as T,e as t,t as n,h as Z,z as M,v as j,w as G,a2 as J,H as E,a3 as N,$ as K,N as W,m as X,F as tt}from"./index-Bu0fH9xw.js";import{S as et}from"./SelectChild-DwtbM9ZU.js";import"./accordiontab.esm-DQn1lDVA.js";import"./progressbar.esm-DbWQirx8.js";import"./dropdown.esm-BB3d-mQ2.js";import"./index.esm-ErxDq7H5.js";const at={class:"card"},lt=B({__name:"BiChart",props:["traitsDistribution","title"],setup(b){const r=b;H(()=>{y.value=_(),d.value=u()});const y=m(),d=m(),_=()=>{var o,f;const a=getComputedStyle(document.documentElement);return{labels:(o=r.traitsDistribution)==null?void 0:o.titles,datasets:[{label:r.title,data:(f=r.traitsDistribution)==null?void 0:f.scores,backgroundColor:[a.getPropertyValue("--accent1"),a.getPropertyValue("--accent2"),a.getPropertyValue("--accent3"),a.getPropertyValue("--accent4"),a.getPropertyValue("--secondary"),a.getPropertyValue("--accent1"),a.getPropertyValue("--accent2")]}]}},u=()=>{const a=getComputedStyle(document.documentElement),o=a.getPropertyValue("--header"),f=a.getPropertyValue("--header"),D=a.getPropertyValue("--choiceBackgroundColor");return{plugins:{legend:{labels:{color:o}}},scales:{x:{ticks:{color:f},grid:{color:D}},y:{beginAtZero:!0,ticks:{color:f},grid:{color:D}}}}};return(a,o)=>(g(),I("div",at,[C(e(Y),{type:"bar",data:y.value,options:d.value,style:{width:"40rem","aspect-ratio":"1.5/1","margin-inline":"auto"},class:"chart",pt:{canvas:{style:"width: 100%;"}}},null,8,["data","options"])]))}}),st=O(lt,[["__scopeId","data-v-714e3189"]]),nt={key:0},ot=B({__name:"IQChart",props:["IQChart"],setup(b){const r=b,y=L(()=>{var _,u,a;let d={titles:[],scores:[]};for(let o=0;o<((_=r.IQChart)==null?void 0:_.length);o++)d.titles.push((u=r.IQChart[o])==null?void 0:u.name),d.scores.push((a=r.IQChart[o])==null?void 0:a.total_score);return d});return(d,_)=>y.value?(g(),I("div",nt,[C(st,{class:"chart","traits-distribution":y.value,title:e(s)(e(v).results)},null,8,["traits-distribution","title"])])):$("",!0)}}),it=O(ot,[["__scopeId","data-v-2925a420"]]),ct={key:0,class:"constainer"},rt={class:"field"},dt={class:"labeled_text"},ut={style:{color:"var(--text)"}},_t={style:{display:"flex","justify-content":"start","align-items":"start"}},pt={class:"field"},ht={class:"labeled_text"},vt={class:"labeled_text"},mt=["src"],yt={style:{display:"flex","justify-content":"start","align-items":"start"}},gt={class:"field"},ft={class:"labeled_text"},Ct={class:"labeled_text"},bt={class:"labeled_text"},kt=["src"],It=B({__name:"ChildrenAnalysis",props:["childId"],setup(b){const r=b,y=U(),d=m(),_=m(),u=m(),a=m(),o=m();function f(p){var i;let l=p[0];for(let h=0;h<p.length;h++)((i=p[h])==null?void 0:i.score)>(l==null?void 0:l.score)&&(l=p[h]);return l}T(r,()=>{const p=new E("get_analysis");_.value=null,u.value=null,a.value=null,r.childId&&p.callApi({student_id:r.childId}).then(l=>{var i,h,P,S,V,Q,A;if(l!=null&&l.success){d.value=(i=l==null?void 0:l.data)==null?void 0:i.analysis_quiz,o.value=(S=(P=(h=d.value)==null?void 0:h.section_results)==null?void 0:P.find(c=>(c==null?void 0:c.section)=="IQ"))==null?void 0:S.sub_sections,_.value=0;for(let c=0;c<o.value.length;c++)_.value+=(V=o.value[c])==null?void 0:V.total_score;_.value=Math.round(_.value/o.value.length);const k=f((Q=d.value)==null?void 0:Q.learning_styles_results);console.log(k),new E("get_learning_style").callApi({id:k==null?void 0:k.learning_style_id}).then(c=>{var w;u.value=(w=c==null?void 0:c.data)==null?void 0:w.learning_style});const x=f((A=d.value)==null?void 0:A.tracks_recommendation_results);new E("get_tracks_recommendation").callApi({id:x==null?void 0:x.tracks_recommendation_id}).then(c=>{var w;a.value=(w=c==null?void 0:c.data)==null?void 0:w.track_recommendation})}else d.value=null})});function D(p){for(const l of J){const i=l.min,h=l.max;if((i===null||p>=i)&&(h===null||p<=h))return l.desc}return{en:"",ar:""}}const R=m();return T(a,()=>{var p,l;console.log(1);for(let i=0;i<N.length;i++)if(((p=a.value)==null?void 0:p.name)==N[i].name&&((l=y.getInfo)==null?void 0:l.gender)==N[i].type){R.value=N[i].path;return}R.value=""}),(p,l)=>{var i,h,P,S,V,Q,A,k,x;return b.childId?(g(),I("div",ct,[t("div",rt,[t("h1",null,n(e(s)(e(v).summary)),1),t("div",dt,[t("h2",null,[t("span",ut,n(e(s)(e(v).yourChildIQ)),1),Z(" "+n(_.value)+" ("+n(e(s)(D(_.value)))+")",1)])]),o.value?(g(),M(it,{key:0,IQChart:o.value},null,8,["IQChart"])):$("",!0)]),t("div",_t,[t("div",pt,[t("h1",null,n(e(s)(e(v).learningStyle)),1),t("h2",null,n(e(s)((i=u.value)==null?void 0:i.title)),1),t("div",ht,[t("h3",null,n(e(s)(e(v).styleOverview)),1),t("p",null,n(e(s)((h=u.value)==null?void 0:h.description)),1)]),t("div",vt,[t("h3",null,n(e(s)(e(v).supportTips)),1),t("p",null,n(e(s)((P=u.value)==null?void 0:P.advice)),1)])]),(S=u.value)!=null&&S.image?(g(),I("img",{key:0,src:(V=u.value)==null?void 0:V.image,style:{"margin-top":"8rem"},alt:""},null,8,mt)):$("",!0)]),t("div",yt,[t("div",gt,[t("h1",null,n(e(s)(e(v).recommendTracks)),1),t("h2",null,n(e(s)((Q=a.value)==null?void 0:Q.title)),1),t("div",ft,[t("h3",null,n(e(s)(e(v).aboutTrack)),1),t("p",null,n(e(s)((A=a.value)==null?void 0:A.description)),1)]),t("div",Ct,[t("h3",null,n(e(s)(e(v).guidingPath)),1),t("p",null,n(e(s)((k=a.value)==null?void 0:k.advice)),1)]),t("div",bt,[t("h3",null,n(e(s)(e(v).keySkills)),1),(g(!0),I(j,null,G((x=a.value)==null?void 0:x.key_skills,c=>(g(),I("p",null,n(e(s)(c)),1))),256))])]),t("img",{src:R.value,style:{"margin-top":"8rem"},alt:""},null,8,kt)])])):$("",!0)}}}),xt=O(It,[["__scopeId","data-v-cd117fb5"]]),Pt=K('<div class="print_only" data-v-e10e107c><div class="report_header" data-v-e10e107c><img src="'+F+'" alt="" data-v-e10e107c><div class="report_title" data-v-e10e107c><h2 style="color:black;" data-v-e10e107c>IQ SCORE REPORT</h2><h4 style="color:var(--accent1);" data-v-e10e107c>TRACE EDUCATION COMPANY</h4></div></div></div>',1),St={class:"container"},Vt={class:"wrapper"},Qt={class:"button-container no_print"},At=B({__name:"childrenAnalysis",setup(b){const r=m(null),y=m();function d(){window.print()}return(_,u)=>(g(),I(j,null,[C(W,{class:"no_print"}),t("div",{ref_key:"file",ref:y},[Pt,t("div",St,[C(z,{class:"sidebar no_print",selected:"childAnalysis"}),t("div",Vt,[C(et,{class:"print",onSelectedChild:u[0]||(u[0]=a=>r.value=a)}),C(q,{class:"print_only","child-id":r.value},null,8,["child-id"]),C(xt,{class:"no_print","child-id":r.value},null,8,["child-id"]),t("div",Qt,[r.value?(g(),M(e(X),{key:0,style:{width:"6rem"},onClick:d,label:e(s)(e(v).print)},null,8,["label"])):$("",!0)])])])],512),C(tt,{class:"no_print"})],64))}}),Tt=O(At,[["__scopeId","data-v-e10e107c"]]);export{Tt as default};
