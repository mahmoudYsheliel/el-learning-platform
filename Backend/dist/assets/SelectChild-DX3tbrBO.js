import{d as x,r as A,H as r,c as m,e as u,b as V,f as h,t as g,g as B,i as N,A as $,a as D,o as v,s as k,k as b,m as H,_ as L}from"./index-eNF47aEj.js";import{s as j}from"./dropdown.esm-BVNTXr86.js";const E={class:"container"},M={key:0,class:"selectedChildInfo"},O={class:"info"},P={class:"childImage"},U=["src"],z={key:1,class:"pi pi-user"},F={class:"childInfo"},G={style:{color:"var(--text)",margin:"0","line-height":"1rem"}},J={style:{color:"var(--accent1)",margin:"0","line-height":"2rem"}},K=x({__name:"SelectChild",emits:["selectedChild"],setup(Q){const w=A([]),a=A(null);new r("get_all_program").callApi().then(s=>{var t;const e=(t=s==null?void 0:s.data)==null?void 0:t.program;new r("personal_info").callApi().then(l=>{var c,d,o,i;if((d=(c=l==null?void 0:l.data)==null?void 0:c.info)!=null&&d.children)for(let n of(i=(o=l==null?void 0:l.data)==null?void 0:o.info)==null?void 0:i.children)new r("personal_another_user_info").callApi({another_userId:n}).then(p=>{var R,q,I,y;if((R=p==null?void 0:p.data)!=null&&R.info){let _=(q=p==null?void 0:p.data)==null?void 0:q.info;_.id=n,_.child_group_image=(I=e.find(C=>C.id==_.child_group))==null?void 0:I.image,_.child_group=(y=e.find(C=>C.id==_.child_group))==null?void 0:y.title,w.value.push(_)}})})});const S=N();function T(s){const e=$();new r("switch_to_child").callApi({child_id:s}).then(t=>{var l;if(t!=null&&t.success){e.logout(),e.addToken((l=t==null?void 0:t.data)==null?void 0:l.access_token);const c=new r("personal_info"),d=D();c.callApi().then(o=>{var i,n;o!=null&&o.success&&(d.addInfo({userType:(n=(i=o==null?void 0:o.data)==null?void 0:i.info)==null?void 0:n.user_type,notifications:[]}),S.push("/"))})}})}return(s,e)=>{var f,t,l,c,d,o;return v(),m("main",null,[u("div",E,[V(h(j),{onChange:e[0]||(e[0]=i=>{var n;return s.$emit("selectedChild",(n=a.value)==null?void 0:n.id)}),modelValue:a.value,"onUpdate:modelValue":e[1]||(e[1]=i=>a.value=i),options:w.value,optionLabel:"email",placeholder:h(k)(h(b).selectChild),class:"dropDown"},null,8,["modelValue","options","placeholder"]),a.value?(v(),m("div",M,[u("div",O,[u("div",P,[((f=a.value)==null?void 0:f.image)!=""?(v(),m("img",{key:0,src:(t=a.value)==null?void 0:t.image,alt:""},null,8,U)):(v(),m("i",z))]),u("div",F,[u("p",G,g((l=a.value)==null?void 0:l.email),1),u("h2",J,g((c=a.value)==null?void 0:c.first_name)+" "+g((d=a.value)==null?void 0:d.last_name),1),V(h(H),{label:h(k)(h(b).switchToChild),onClick:e[2]||(e[2]=()=>{T(a.value.id)})},null,8,["label"])])]),u("h3",null,g(h(k)((o=a.value)==null?void 0:o.child_group)),1)])):B("",!0)])])}}}),ee=L(K,[["__scopeId","data-v-eca5cf74"]]);export{ee as S};
