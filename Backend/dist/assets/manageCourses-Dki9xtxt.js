import{A as Y}from"./AdminSidebar-CZQuxuL4.js";import{d as N,r as c,y as G,A as J,f as d,i as K,o as w,e as t,c as V,g as x,b as i,q,v as O,l as T,B as Q,p as W,m as X,H as $,_ as B,h as F,t as S,w as Z,N as ee,s as z,F as le}from"./index-vIkyQCYi.js";import{s as H,a as L}from"./inputnumber.esm-C_nY65h-.js";import{s as R}from"./inputtext.esm-CSF6Q_pY.js";const D=o=>(W("data-v-0814f522"),o=o(),X(),o),ae={class:"dialog"},te={key:0,style:{"text-align":"center",color:"red","font-weight":"700"}},oe={class:"element"},se=D(()=>t("h4",null,"English Title",-1)),ie={class:"element"},ue=D(()=>t("h4",null,"Arabic Title",-1)),ne={class:"element"},de=D(()=>t("h4",null,"English Description",-1)),ce={class:"element"},re=D(()=>t("h4",null,"Arabic Description",-1)),ve={class:"element"},me=D(()=>t("h4",null,"Image Url",-1)),ge={key:1,class:"element"},pe=D(()=>t("h4",null,"Min Age",-1)),he={key:2,class:"element"},be=D(()=>t("h4",null,"Max Age",-1)),fe={key:3,class:"element"},_e=D(()=>t("h4",null,"Price (EGP)",-1)),we={key:4,class:"element"},Ae=D(()=>t("h4",null,"Objectives",-1)),Ve={class:"objectives"},$e={class:"objective"},ke=["onClick"],De={class:"btn-container"},Pe=N({__name:"AdminAddTypeDialog",props:["showDialog","materialType","bteLabel"],setup(o){const A=o,b=c(!1),s=c(),v=c(),p=c(),r=c(),u=c(),g=c(),m=c(),n=c(),h=c([]),k=K();function C(f){h.value.splice(f,1)}function y(){h.value.push({en:"English Objective",ar:"الهدف بالعربية"})}y();function U(){if(!s.value||!v.value||!p.value||!r.value||!g.value||!u.value||!m.value||!n.value)b.value=!0;else{const f=new $("create_course");let e={new_course:{title:{en:s.value,ar:v.value},description:{en:p.value,ar:r.value},price:g.value,min_age:m.value,max_age:n.value,objectives:h.value,image:u.value}};f.callApi(e).then(l=>{var a;l.success&&k.push(`/editCourse/${(a=l==null?void 0:l.data)==null?void 0:a.course_id}`)})}}function j(){if(!s.value||!v.value||!p.value||!r.value||!u.value)b.value=!0;else{const f=new $("create_category");let e={new_category:{category:{en:s.value,ar:v.value},description:{en:p.value,ar:r.value},image:u.value}};f.callApi(e).then(l=>{var a;l.success&&k.push(`/editCategory/${(a=l==null?void 0:l.data)==null?void 0:a.category_id}`)})}}function P(){if(!s.value||!v.value||!p.value||!r.value||!u.value||!m.value||!n.value)b.value=!0;else{const f=new $("create_program");let e={new_program:{title:{en:s.value,ar:v.value},description:{en:p.value,ar:r.value},min_age:m.value,max_age:n.value,image:u.value}};f.callApi(e).then(l=>{var a;l.success&&k.push(`/editProgram/${(a=l==null?void 0:l.data)==null?void 0:a.program_id}`)})}}function M(){if(!s.value||!v.value||!p.value||!r.value||!g.value||!u.value||!m.value||!n.value)b.value=!0;else{const f=new $("create_plan");let e={new_plan:{name:s.value,title:{en:s.value,ar:v.value},description:{en:p.value,ar:r.value},price:g.value,min_age:m.value,max_age:n.value,image:u.value,objectives:h.value}};f.callApi(e).then(l=>{var a;l.success&&k.push(`/editPlan/${(a=l==null?void 0:l.data)==null?void 0:a.plan_id}`)})}}function E(){A.materialType=="Plans"?M():A.materialType=="Programs"?P():A.materialType=="Categories"?j():A.materialType=="Courses"&&U()}return(f,e)=>(w(),G(d(Q),{visible:A.showDialog,"onUpdate:visible":e[9]||(e[9]=l=>A.showDialog=l),modal:"",style:{width:"80%"},pt:{root:"border-none",mask:{style:"backdrop-filter: blur(2px)"}}},{container:J(({closeCallback:l})=>[t("main",null,[t("div",ae,[b.value?(w(),V("h2",te," Some Fields Are Missing ")):x("",!0),t("div",oe,[se,i(d(R),{modelValue:s.value,"onUpdate:modelValue":e[0]||(e[0]=a=>s.value=a)},null,8,["modelValue"])]),t("div",ie,[ue,i(d(R),{modelValue:v.value,"onUpdate:modelValue":e[1]||(e[1]=a=>v.value=a)},null,8,["modelValue"])]),t("div",ne,[de,i(d(H),{modelValue:p.value,"onUpdate:modelValue":e[2]||(e[2]=a=>p.value=a)},null,8,["modelValue"])]),t("div",ce,[re,i(d(H),{modelValue:r.value,"onUpdate:modelValue":e[3]||(e[3]=a=>r.value=a)},null,8,["modelValue"])]),t("div",ve,[me,i(d(R),{modelValue:u.value,"onUpdate:modelValue":e[4]||(e[4]=a=>u.value=a)},null,8,["modelValue"])]),o.materialType=="Courses"||o.materialType=="Programs"||o.materialType=="Plans"?(w(),V("div",ge,[pe,i(d(L),{class:"num",modelValue:m.value,"onUpdate:modelValue":e[5]||(e[5]=a=>m.value=a)},null,8,["modelValue"])])):x("",!0),o.materialType=="Courses"||o.materialType=="Programs"||o.materialType=="Plans"?(w(),V("div",he,[be,i(d(L),{class:"num",modelValue:n.value,"onUpdate:modelValue":e[6]||(e[6]=a=>n.value=a)},null,8,["modelValue"])])):x("",!0),o.materialType=="Courses"||o.materialType=="Plans"?(w(),V("div",fe,[_e,i(d(L),{class:"num",modelValue:g.value,"onUpdate:modelValue":e[7]||(e[7]=a=>g.value=a)},null,8,["modelValue"])])):x("",!0),o.materialType=="Courses"||o.materialType=="Plans"?(w(),V("div",we,[Ae,t("div",Ve,[(w(!0),V(q,null,O(h.value,(a,_)=>(w(),V("div",$e,[i(d(R),{modelValue:h.value[_].en,"onUpdate:modelValue":I=>h.value[_].en=I},null,8,["modelValue","onUpdate:modelValue"]),i(d(R),{modelValue:h.value[_].ar,"onUpdate:modelValue":I=>h.value[_].ar=I},null,8,["modelValue","onUpdate:modelValue"]),t("i",{style:{cursor:"pointer"},onClick:()=>{C(_)},class:"pi pi-times-circle"},null,8,ke)]))),256)),i(d(T),{style:{width:"fit-content","font-size":"0.75rem"},label:"Add Objective",onClick:y})])])):x("",!0),t("div",De,[i(d(T),{label:f.$props.bteLabel,style:{"font-size":"1rem","margin-top":"2rem"},onClick:E},null,8,["label"]),i(d(T),{label:"Cancel",style:{"font-size":"1rem","margin-top":"2rem"},onClick:e[8]||(e[8]=()=>{f.$emit("removeDialog")})})])])])]),_:1},8,["visible","pt"]))}}),Te=B(Pe,[["__scopeId","data-v-0814f522"]]),ye={class:"dialog"},Ce={style:{"font-weight":"1000"}},Ue=N({__name:"ConfirmDelete",props:["showDialog","mat","matType"],emits:["removeDialog"],setup(o,{emit:A}){const b=c(),s=o,v=A;function p(){var r,u,g,m;s.matType=="Programs"?new $("delete_program").callApi({program_id:(r=s.mat)==null?void 0:r.id}).then(n=>{n.success&&v("removeDialog",!0)}):s.matType=="Categories"?new $("delete_category").callApi({category_id:(u=s.mat)==null?void 0:u.id}).then(n=>{n.success&&v("removeDialog",!0)}):s.matType=="Plans"?new $("delete_plan").callApi({plan_id:(g=s.mat)==null?void 0:g.id}).then(n=>{n.success&&v("removeDialog",!0)}):s.matType=="Courses"&&new $("delete_course").callApi({course_id:(m=s.mat)==null?void 0:m.id}).then(n=>{n.success&&v("removeDialog",!0)})}return(r,u)=>(w(),G(d(Q),{visible:s.showDialog,"onUpdate:visible":u[2]||(u[2]=g=>s.showDialog=g),modal:"",pt:{root:"border-none",mask:{style:"backdrop-filter: blur(2px)"}}},{container:J(({closeCallback:g})=>{var m,n,h,k,C,y;return[t("div",ye,[t("h2",null,[F(" Type "),t("strong",Ce,'"'+S(o.matType=="Categories"?(n=(m=o.mat)==null?void 0:m.category)==null?void 0:n.en:(k=(h=o.mat)==null?void 0:h.title)==null?void 0:k.en)+'"',1),F(" to confirm deletion ")]),i(d(R),{modelValue:b.value,"onUpdate:modelValue":u[0]||(u[0]=U=>b.value=U)},null,8,["modelValue"]),i(d(T),{label:"Confirm Deletion",disabled:b.value!=((C=o.mat.title)==null?void 0:C.en)&&o.matType!="Categories"||b.value!=((y=o.mat.category)==null?void 0:y.en)&&o.matType=="Categories",onClick:p},null,8,["disabled"]),i(d(T),{label:"Cancel",onClick:u[1]||(u[1]=()=>{r.$emit("removeDialog",!0)})})])]}),_:1},8,["visible","pt"]))}}),Re=B(Ue,[["__scopeId","data-v-e626f782"]]),je=o=>(W("data-v-3d3a13df"),o=o(),X(),o),xe={class:"container"},qe={class:"wrapper"},Me={class:"table-container"},Ee={class:"top-option"},Ie={class:"table"},Le=je(()=>t("div",{class:"row"},[t("h3",{class:"element"},"Title"),t("h3",{class:"element"},"Options")],-1)),Oe={class:"row"},Se={class:"element"},Ne={class:"element btnContainer"},Be=N({__name:"manageCourses",setup(o){const A=K(),b=c(!1),s=c(""),v=c(""),p=new $("get_all_program"),r=c();p.callApi().then(e=>{var l;r.value=(l=e==null?void 0:e.data)==null?void 0:l.program});const u=new $("get_categories"),g=c();u.callApi().then(e=>{var l;g.value=(l=e==null?void 0:e.data)==null?void 0:l.categories});const m=new $("get_all_plans"),n=c();m.callApi().then(e=>{var l;n.value=(l=e==null?void 0:e.data)==null?void 0:l.plans});const h=new $("get_courses"),k=c();h.callApi().then(e=>{var l;k.value=(l=e==null?void 0:e.data)==null?void 0:l.courses});const C=Z(()=>[{label:"Programs",btn:"Add Program",value:r.value},{label:"Plans",btn:"Add Plan",value:n.value},{label:"Categories",btn:"Add Category",value:g.value},{label:"Courses",btn:"Add Course",value:k.value}]);function y(e,l){s.value=e,v.value=l,b.value=!0}const U=c(),j=c(!1),P=c();function M(e,l){l=="Programs"&&A.push(`/editProgram/${e==null?void 0:e.id}`),l=="Plans"&&A.push(`/editPlan/${e==null?void 0:e.id}`),l=="Categories"&&A.push(`/editCategory/${e==null?void 0:e.id}`),l=="courses"&&A.push(`/editCourse/${e==null?void 0:e.id}`)}function E(e,l){U.value=e,console.log(l),P.value=l,j.value=!0}function f(){j.value=!1,P.value=="Programs"?p.callApi().then(e=>{var l;r.value=(l=e==null?void 0:e.data)==null?void 0:l.program}):P.value=="Categories"?u.callApi().then(e=>{var l;g.value=(l=e==null?void 0:e.data)==null?void 0:l.categories}):P.value=="Plans"?m.callApi().then(e=>{var l;n.value=(l=e==null?void 0:e.data)==null?void 0:l.plans}):P.value=="Courses"&&h.callApi().then(e=>{var l;k.value=(l=e==null?void 0:e.data)==null?void 0:l.courses})}return(e,l)=>(w(),V(q,null,[i(ee),i(Te,{"show-dialog":b.value,materialType:s.value,bteLabel:v.value,onRemoveDialog:l[0]||(l[0]=a=>b.value=!1)},null,8,["show-dialog","materialType","bteLabel"]),i(Re,{"show-dialog":j.value,mat:U.value,onRemoveDialog:f,matType:P.value},null,8,["show-dialog","mat","matType"]),t("div",xe,[i(Y,{class:"sidebar",selected:"Manage Courses"}),t("div",qe,[(w(!0),V(q,null,O(C.value,a=>(w(),V("div",Me,[t("div",Ee,[t("h2",null,S(a.label),1),i(d(T),{label:a.btn,icon:"pi pi-plus-circle","icon-pos":"right",onClick:()=>{y(a.label,a.btn)}},null,8,["label","onClick"])]),t("div",Ie,[Le,(w(!0),V(q,null,O(a.value,_=>(w(),V("div",Oe,[t("p",Se,S(a.label=="Categories"?d(z)(_==null?void 0:_.category):d(z)(_==null?void 0:_.title)),1),t("div",Ne,[i(d(T),{label:"Edit",icon:"pi pi-pencil","icon-pos":"right",style:{"background-color":"blue"},onClick:()=>{M(_,a.label)}},null,8,["onClick"]),i(d(T),{label:"Delete",icon:"pi pi-trash","icon-pos":"right",style:{"background-color":"red"},onClick:()=>{E(_,a.label)}},null,8,["onClick"])])]))),256))])]))),256))])]),i(le)],64))}}),Je=B(Be,[["__scopeId","data-v-3d3a13df"]]);export{Je as default};
