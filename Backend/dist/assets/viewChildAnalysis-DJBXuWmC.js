import{_ as I,P as R}from"./PrintReport-BQijPSkj.js";import{d as N,a as k,r as m,v as D,c as S,b as c,e as a,t as g,f as t,C as x,i as B,H as F,o as H,N as A,s as p,k as u,m as E,F as G,_ as L}from"./index-je7sGhnG.js";import{E as W,h as y}from"./html2canvas.esm-DmeV2e9A.js";import"./index-DDWLCDbD.js";const j={class:"container"},q={class:"report_title"},z={style:{color:"black"}},J={style:{color:"var(--accent1)"}},M={class:"wrapper"},O={style:{display:"flex","justify-content":"center","align-items":"center","flex-wrap":"wrap",gap:"2rem"}},U={style:{"font-weight":"bolder","font-size":"1.25rem"}},V=N({__name:"viewChildAnalysis",setup($){const w=k(),f=m(),d=m(),b=B();D(()=>{var o;f.value=(o=w.getInfo)==null?void 0:o.id});const _=m("");async function P(o){const e=new W,n=1;let h=0;if(!d.value)return;await y(d.value,{scale:n,useCORS:!0}).then(s=>{if(!d.value)return;const r=s.toDataURL("image/png"),l=210,i=s.height*l/s.width;h=i,e.addImage(r,"PNG",0,0,l,i)});for(let s=0;s<o.length;s++)await y(o[s],{scale:n,useCORS:!0}).then(r=>{const l=r.toDataURL("image/png"),i=210,v=r.height*i/r.width;s==0?e.addImage(l,"PNG",0,h+10,i,v):e.addImage(l,"PNG",0,0,i,v),s!=o.length-1&&e.addPage()});const C=e.output("datauristring");new F("send_page").callApi({request:{html_content:"",image_base64:C,recipient:"s-mahmoud.sheliel@zewailcity.edu.eg",subject:"Webpage PDF",body:"str"}})}return(o,e)=>(H(),S(x,null,[c(A,{class:"no_print"}),a("div",j,[a("div",{class:"report_header",ref_key:"file",ref:d},[e[3]||(e[3]=a("img",{src:I,alt:""},null,-1)),a("div",q,[a("h2",z,g(t(p)(t(u).IQReport)),1),a("h4",J,g(t(p)(t(u).traceEdu)),1)])],512),a("div",M,[c(R,{onSelectProgram:e[0]||(e[0]=n=>{_.value=n}),class:"print_only","child-id":f.value,onSections:e[1]||(e[1]=n=>{P(n)})},null,8,["child-id"])]),a("div",O,[a("p",U,g(t(p)(t(u).startTraceJourney)),1),c(t(E),{label:t(p)(t(u).startJourney),onClick:e[2]||(e[2]=n=>t(b).push(`/programs/${_.value}`))},null,8,["label"])])]),c(G,{class:"no_print"})],64))}}),Y=L(V,[["__scopeId","data-v-6b96a966"]]);export{Y as default};
