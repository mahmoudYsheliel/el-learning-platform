import{d as H,r as I,H as N,av as t,aw as u,c as v,b as d,e as s,v as g,w as y,f as n,B as b,g as S,y as L,o as i,N as M,t as z,z as A,W as E,l as B,m as W,F as j,p as G,n as J,a4 as K,_ as O}from"./index-eNF47aEj.js";import{s as U,a as P}from"./accordiontab.esm-CZDf7rbV.js";import{s as Q}from"./dropdown.esm-BVNTXr86.js";import"./index.esm-CvPICZKS.js";const R=f=>(G("data-v-55d02fbb"),f=f(),J(),f),T={class:"container"},X={class:"element"},Y=R(()=>s("h3",null,"Courses",-1)),Z={class:"row"},ee={class:"courseelement"},le=["onClick"],oe={class:"btn-container"},se={class:"row"},ae={class:"courseelement"},te=["onClick"],ue={class:"btn-container"},ne=["onClick"],ie={class:"element"},ce=R(()=>s("h3",null,"Image Source",-1)),re={key:0,class:"img-container"},pe=["src"],ve={class:"btn-container"},de=H({__name:"editInstructor",setup(f){const x=L(),_=I(""),r=I([]),V=I(),F=new N("get_courses"),$=new N("personal_another_user_info");F.callApi().then(p=>{var c,l;p!=null&&p.success&&(V.value=(c=p==null?void 0:p.data)==null?void 0:c.courses,$.callApi({another_userId:(l=x.params)==null?void 0:l.instructorId}).then(o=>{var a,h,m;if(o!=null&&o.success){let e=(a=o==null?void 0:o.data)==null?void 0:a.info;t.value={email:{...t.value.email,value:(e==null?void 0:e.email)||""},phoneNumber:{...t.value.phoneNumber,value:e==null?void 0:e.phone_number},firstName:{...t.value.firstName,value:e==null?void 0:e.first_name},lastName:{...t.value.lastName,value:e==null?void 0:e.last_name},title:{...t.value.title,value:e==null?void 0:e.title},biography:{...t.value.biography,value:e==null?void 0:e.biography},philosophy:{...t.value.philosophy,value:e==null?void 0:e.philisophy}},u.value={experience:{...u.value.experience,value:e==null?void 0:e.experience},specializations:{...u.value.specializations,value:e==null?void 0:e.specializations},educationBackground:{...u.value.educationBackground,value:e==null?void 0:e.education_background}},_.value=e==null?void 0:e.image;let w=[];for(let C=0;C<((h=e==null?void 0:e.courses)==null?void 0:h.length);C++){let D=(m=V.value)==null?void 0:m.find(k=>(k==null?void 0:k.id)==(e==null?void 0:e.courses[C]));w.push(D)}r.value=w}}))});function q(){var l,o;let p={email:t.value.email.value,phone_number:t.value.phoneNumber.value,last_name:t.value.lastName.value,first_name:t.value.firstName.value,image:_.value},c={title:t.value.title.value,specializations:u.value.specializations.value,biography:t.value.biography.value,education_background:u.value.educationBackground.value,experience:u.value.experience.value,philisophy:t.value.philosophy.value,courses:[]};for(let a=0;a<r.value.length;a++)(l=r.value[a])!=null&&l.id&&c.courses.push((o=r.value[a])==null?void 0:o.id);new N("update_another_user_info").callApi({user_type_specific_info:c,user_to_change:x.params.instructorId,update:p}).then(a=>{a!=null&&a.success&&K.push("/manageInstructors")})}return(p,c)=>(i(),v(g,null,[d(M),s("div",T,[(i(!0),v(g,null,y(n(t),l=>(i(),v("div",X,[s("h3",null,z(l.name),1),(i(),A(E(l.component),{modelValue:l.value,"onUpdate:modelValue":o=>l.value=o,disabled:l.disabled},null,8,["modelValue","onUpdate:modelValue","disabled"]))]))),256)),d(n(P),{activeIndex:0},{default:b(()=>[d(n(U),{pt:{headerAction:{style:"padding-inline:0"}}},{header:b(()=>[Y]),default:b(()=>[s("div",null,[(i(!0),v(g,null,y(r.value,(l,o)=>(i(),v("div",Z,[s("div",ee,[d(n(Q),{modelValue:r.value[o],"onUpdate:modelValue":a=>r.value[o]=a,options:V.value,optionLabel:"title.en",placeholder:"Select a Course"},null,8,["modelValue","onUpdate:modelValue","options"]),s("i",{class:"pi pi-times-circle",onClick:()=>{r.value.splice(o,1)}},null,8,le)])]))),256)),s("div",oe,[s("i",{onClick:c[0]||(c[0]=()=>{var l;(l=r.value)==null||l.push(null)}),class:"pi pi-plus-circle",label:"Add Course to Road Map",style:{"font-size":"1.5rem",color:"var(--accent1)"}})])])]),_:1}),(i(!0),v(g,null,y(n(u),(l,o)=>(i(),A(n(U),{pt:{headerAction:{style:"padding-inline:0"}}},{header:b(()=>[s("h3",null,z(l.name),1)]),default:b(()=>[s("div",null,[l.value?(i(!0),v(g,{key:0},y(l.value,(a,h)=>(i(),v("div",se,[s("div",ae,[d(n(B),{modelValue:l.value[h],"onUpdate:modelValue":m=>l.value[h]=m},null,8,["modelValue","onUpdate:modelValue"]),s("i",{class:"pi pi-times-circle",onClick:()=>{if(l.value){const m=[...l.value];m.splice(h,1),u.value={...n(u),[o.toString()]:{...n(u)[o],value:m}},console.log(n(u))}}},null,8,te)])]))),256)):S("",!0),s("div",ue,[s("i",{onClick:()=>{const a=[...l.value];a.push(""),u.value={...n(u),[o.toString()]:{...n(u)[o],value:a}},console.log(n(u))},class:"pi pi-plus-circle",label:"Add Course to Road Map",style:{"font-size":"1.5rem",color:"var(--accent1)"}},null,8,ne)])])]),_:2},1024))),256))]),_:1}),s("div",ie,[ce,d(n(B),{modelValue:_.value,"onUpdate:modelValue":c[1]||(c[1]=l=>_.value=l)},null,8,["modelValue"])]),_.value?(i(),v("div",re,[s("img",{src:_.value,alt:""},null,8,pe)])):S("",!0),s("div",ve,[d(n(W),{label:"Save Changes",onClick:q})])]),d(j)],64))}}),be=O(de,[["__scopeId","data-v-55d02fbb"]]);export{be as default};
