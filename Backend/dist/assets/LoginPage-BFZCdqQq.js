import{_ as O}from"./login-HlRQAw4O.js";import{d as j,u as z,a as U,r as R,H as q,c as L,b as d,e as n,t as p,f as t,g as $,h as J,i as K,j as D,o as S,N as Q,s,k as c,l as W,m as X,F as Y,p as Z,n as oo,q as ao,_ as to}from"./index-DdBBpJFO.js";import{s as no}from"./password.esm-Bo0ZZmug.js";const eo=b=>(Z("data-v-25e3a7e6"),b=b(),oo(),b),lo={class:"container"},io=eo(()=>n("div",{class:"left borderRigth"},[n("img",{src:O,alt:""})],-1)),so={class:"right"},co={class:"welcome"},uo={class:"google-facebook-wrapper"},po={key:0},fo={key:1},mo={class:"wrapper"},_o={class:"button"},go=j({__name:"LoginPage",setup(b){z();const r=K(),E=U(),w=R(),V=R(),B=R(!1),x=R(!1),F=new q("token");function G(){!w.value||!V.value?B.value=!0:F.login(w.value,V.value).then(l=>{console.log(l),(l==null?void 0:l.msg)=="no such user"?x.value=!0:l!=null&&l.access_token&&new q("personal_info").callApi().then(o=>{var u,i,C,a,f,m,_,g,h,v,k,I,N,y;o!=null&&o.success&&(E.addInfo({userType:(i=(u=o==null?void 0:o.data)==null?void 0:u.info)==null?void 0:i.user_type,notifications:(a=(C=o==null?void 0:o.data)==null?void 0:C.info)==null?void 0:a.notifications,id:(m=(f=o==null?void 0:o.data)==null?void 0:f.info)==null?void 0:m.id,firstName:(g=(_=o==null?void 0:o.data)==null?void 0:_.info)==null?void 0:g.first_name,lastName:(v=(h=o==null?void 0:o.data)==null?void 0:h.info)==null?void 0:v.last_name,email:(I=(k=o==null?void 0:o.data)==null?void 0:k.info)==null?void 0:I.email,gender:(y=(N=o==null?void 0:o.data)==null?void 0:N.info)==null?void 0:y.gender}),r.push("/"))})})}const H=l=>{const e=ao(l.credential);if(e.email_verified,e.email_verified){const o=new q("token"),u=U();o.login(e.email,"mahmoud2000").then(i=>{i.msg=="no such user"?x.value=!0:i.access_token&&new q("personal_info").callApi().then(a=>{var f,m,_,g,h,v,k,I,N,y,A,M,P,T;a!=null&&a.success&&(u.addInfo({userType:(m=(f=a==null?void 0:a.data)==null?void 0:f.info)==null?void 0:m.user_type,notifications:(g=(_=a==null?void 0:a.data)==null?void 0:_.info)==null?void 0:g.notifications,id:(v=(h=a==null?void 0:a.data)==null?void 0:h.info)==null?void 0:v.id,firstName:(I=(k=a==null?void 0:a.data)==null?void 0:k.info)==null?void 0:I.first_name,lastName:(y=(N=a==null?void 0:a.data)==null?void 0:N.info)==null?void 0:y.last_name,email:(M=(A=a==null?void 0:a.data)==null?void 0:A.info)==null?void 0:M.email,gender:(T=(P=a==null?void 0:a.data)==null?void 0:P.info)==null?void 0:T.gender}),r.push("/"))})})}};return(l,e)=>{const o=D("Options"),u=D("GoogleLogin");return S(),L("main",null,[d(Q),d(o),n("div",lo,[io,n("div",so,[n("div",co,[n("h1",null,p(t(s)(t(c).welcomeBack)),1),n("h1",null,p(t(s)(t(c).traceCommunity)),1)]),n("div",uo,[d(u,{callback:H})]),B.value?(S(),L("h4",po,p(t(s)(t(c).dataMissing)),1)):$("",!0),x.value?(S(),L("h4",fo,p(t(s)(t(c).userNotExist)),1)):$("",!0),n("div",mo,[d(t(W),{style:{width:"100%"},type:"email",class:"input",modelValue:w.value,"onUpdate:modelValue":e[0]||(e[0]=i=>w.value=i),placeholder:t(s)(t(c).email)},null,8,["modelValue","placeholder"]),d(t(no),{class:"input",modelValue:V.value,"onUpdate:modelValue":e[1]||(e[1]=i=>V.value=i),feedback:!1,toggleMask:"",placeholder:t(s)(t(c).pass)},null,8,["modelValue","placeholder"])]),n("div",_o,[d(t(X),{onClick:G,label:t(s)(t(c).login)},null,8,["label"])]),n("p",null,[J(p(t(s)(t(c).noAccount))+" ",1),n("strong",{onClick:e[2]||(e[2]=i=>t(r).push("/signup")),style:{cursor:"pointer","text-decoration":"underline",color:"var(--accent1)"}},p(t(s)(t(c).signup)),1)])])]),d(Y)])}}}),Io=to(go,[["__scopeId","data-v-25e3a7e6"]]);export{Io as default};
