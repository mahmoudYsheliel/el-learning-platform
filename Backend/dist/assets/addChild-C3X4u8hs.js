import{P}from"./ParentSidebar-5M5f3GTE.js";import{d as $,r as d,H as S,s as o,c as B,b as n,e as s,A as F,f as e,t as u,q as R,k as t,o as G,N as H,l as q,a8 as I,B as M,a9 as E,aa as J,ab as L,F as T,_ as W}from"./index-CfZpnbSe.js";import{s as m}from"./inputtext.esm-mBXOcNnC.js";import{s as C}from"./dropdown.esm-B7ASxPdH.js";import{s as j}from"./calendar.esm-Clj8fiYH.js";import"./index.esm-D99QzMd6.js";const z={class:"container"},K={class:"dialog-container"},O={style:{color:"var(--secondary)"}},Q={class:"big-wrapper"},X={class:"wrapper"},Y={class:"element"},Z={class:"element"},ee={class:"element"},le={class:"element"},ae={class:"element"},se={class:"element"},oe={class:"element"},te={class:"element"},ne={class:"element"},ue={class:"element"},de=$({__name:"addChild",setup(ie){const v=d(),c=d(),r=d(),p=d(),V=d(),b=d(),f=d(),_=d(),h=d(),g=d(),y=d(),U=d(!1),k=d([]);new S("get_all_program").callApi().then(i=>{var a;if(i.success)for(let l of(a=i==null?void 0:i.data)==null?void 0:a.program)k.value.push({label:o(l==null?void 0:l.title),code:l==null?void 0:l.id})});function x(){var i,a,l,w;if(!v.value||!c.value||!r.value||!p.value||!V.value||!b.value||!f.value||!g.value||!_.value||!h.value)y.value=o(t.dataMissing);else if(p.value!==V.value)y.value=o(t.diffPass);else{const A=new S("add_child");let D={user:{email:r.value,hashed_pass:p.value,user_type:"Child",first_name:v.value,last_name:c.value,gender:(i=b.value)==null?void 0:i.value,birth_day:f.value},child:{user_id:"",grade:(a=g.value)==null?void 0:a.value,child_group:(l=_.value)==null?void 0:l.code,education_system:(w=h.value)==null?void 0:w.value}};A.callApi(D).then(N=>{N.success?U.value=!0:N.msg=="email is already used once"&&(y.value=o(t.emailTaken))})}}return(i,a)=>(G(),B(R,null,[n(H),s("div",z,[n(e(M),{modal:"",visible:U.value,"onUpdate:visible":a[1]||(a[1]=l=>U.value=l),pt:{root:"border-none",mask:{style:"backdrop-filter: blur(2px)"},header:{style:"display:none"}}},{default:F(()=>[s("div",K,[s("h3",null,u(e(o)(e(t).childAdded)),1),s("h3",null,u(e(o)(e(t).loginWith)),1),s("h3",O,u(r.value)+" Account",1),s("h3",null,u(e(o)(e(t).toStartJourney)),1),n(e(q),{label:e(o)(e(t).viewChild),onClick:a[0]||(a[0]=l=>e(I).push("/childrenCourses"))},null,8,["label"])])]),_:1},8,["visible","pt"]),n(P,{class:"sidebar",selected:"addChild"}),s("div",Q,[s("h2",null,u(y.value),1),s("div",X,[s("div",Y,[s("p",null,u(e(o)(e(t).firstName)),1),n(e(m),{modelValue:v.value,"onUpdate:modelValue":a[2]||(a[2]=l=>v.value=l)},null,8,["modelValue"])]),s("div",Z,[s("p",null,u(e(o)(e(t).lastName)),1),n(e(m),{modelValue:c.value,"onUpdate:modelValue":a[3]||(a[3]=l=>c.value=l)},null,8,["modelValue"])]),s("div",ee,[s("p",null,u(e(o)(e(t).email)),1),n(e(m),{modelValue:r.value,"onUpdate:modelValue":a[4]||(a[4]=l=>r.value=l)},null,8,["modelValue"])]),s("div",le,[s("p",null,u(e(o)(e(t).pass)),1),n(e(m),{modelValue:p.value,"onUpdate:modelValue":a[5]||(a[5]=l=>p.value=l)},null,8,["modelValue"])]),s("div",ae,[s("p",null,u(e(o)(e(t).confirmPass)),1),n(e(m),{modelValue:V.value,"onUpdate:modelValue":a[6]||(a[6]=l=>V.value=l)},null,8,["modelValue"])]),s("div",se,[s("p",null,u(e(o)(e(t).gender)),1),n(e(C),{modelValue:b.value,"onUpdate:modelValue":a[7]||(a[7]=l=>b.value=l),options:e(E),"option-label":"label"},null,8,["modelValue","options"])]),s("div",oe,[s("p",null,u(e(o)(e(t).birthDate)),1),n(e(j),{modelValue:f.value,"onUpdate:modelValue":a[8]||(a[8]=l=>f.value=l),showIcon:"",iconDisplay:"input"},null,8,["modelValue"])]),s("div",te,[s("p",null,u(e(o)(e(t).grade)),1),n(e(C),{modelValue:g.value,"onUpdate:modelValue":a[9]||(a[9]=l=>g.value=l),options:e(J),"option-label":"label","option-group-label":"label",optionGroupChildren:"items"},null,8,["modelValue","options"])]),s("div",ne,[s("p",null,u(e(o)(e(t).programs)),1),n(e(C),{modelValue:_.value,"onUpdate:modelValue":a[10]||(a[10]=l=>_.value=l),options:k.value,"option-label":"label"},null,8,["modelValue","options"])]),s("div",ue,[s("p",null,u(e(o)(e(t).educationSystem)),1),n(e(C),{modelValue:h.value,"onUpdate:modelValue":a[11]||(a[11]=l=>h.value=l),options:e(L),"option-label":"label"},null,8,["modelValue","options"])])]),n(e(q),{label:e(o)(e(t).addChild),onClick:x},null,8,["label"])])]),n(T)],64))}}),fe=W(de,[["__scopeId","data-v-0baf11c3"]]);export{fe as default};
