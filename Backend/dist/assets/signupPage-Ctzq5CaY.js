import{s as q,_ as M}from"./password.esm-q74buaoS.js";import{d as S,r as c,H as b,c as _,b as n,e as a,t as i,f as e,g as y,h as T,i as L,j as U,o as g,N as $,O as D,s as l,k as t,l as E,m as F,F as G,p as H,n as O,q as j,a as z,_ as J}from"./index-CuT-hcow.js";const K=r=>(H("data-v-05b7b02b"),r=r(),O(),r),Q={class:"container"},W=K(()=>a("div",{class:"left borderRigth"},[a("img",{src:M,alt:""})],-1)),X={class:"right"},Y={class:"welcome"},Z={class:"google-facebook-wrapper"},ee={key:0},se={key:1},ae={key:2},oe={class:"wrapper"},le={class:"button"},te={style:{"margin-left":"5rem"}},ne=S({__name:"signupPage",setup(r){const h=L(),p=c(),d=c(),m=c(),V=c(!1),I=c(!1),v=c(!1),w=new b("signup");function C(){if(!p.value||!d.value||!m.value)V.value=!0;else if(d.value!=m.value)I.value=!0;else{let f={user:{email:p.value,hashed_pass:d.value,user_type:"Parent"}};w.callApi(f).then(s=>{s.msg=="email is already used once"?v.value=!0:(s==null?void 0:s.success)==!0&&h.push("/login")})}}const N=f=>{const s=j(f.credential);if(s.email_verified){let k={user:{email:s.email,hashed_pass:"mahmoud2000",user_type:"Parent"}};w.callApi(k).then(o=>{if(o.msg=="email is already used once")v.value=!0;else if((o==null?void 0:o.success)==!0){const x=new b("token"),A=z();x.login(s.email,"mahmoud2000").then(B=>{B.access_token&&new b("personal_info").callApi().then(u=>{var P,R;u!=null&&u.success&&(A.addInfo({userType:(R=(P=u==null?void 0:u.data)==null?void 0:P.info)==null?void 0:R.user_type,notifications:[]}),h.push("/"))})})}})}};return(f,s)=>{const k=U("GoogleLogin");return g(),_("main",null,[n($),n(D),a("div",Q,[W,a("div",X,[a("div",Y,[a("h1",null,i(e(l)(e(t).welcomeBack)),1),a("h1",null,i(e(l)(e(t).traceCommunity)),1)]),a("div",Z,[n(k,{callback:N})]),V.value?(g(),_("h4",ee,i(e(l)(e(t).dataMissing)),1)):y("",!0),I.value?(g(),_("h4",se,i(e(l)(e(t).diffPass)),1)):y("",!0),v.value?(g(),_("h4",ae,i(e(l)(e(t).emailTaken)),1)):y("",!0),a("div",oe,[n(e(E),{type:"email",class:"input",modelValue:p.value,"onUpdate:modelValue":s[0]||(s[0]=o=>p.value=o),placeholder:e(l)(e(t).email)},null,8,["modelValue","placeholder"]),n(e(q),{class:"input",modelValue:d.value,"onUpdate:modelValue":s[1]||(s[1]=o=>d.value=o),feedback:!1,toggleMask:"",placeholder:e(l)(e(t).pass)},null,8,["modelValue","placeholder"]),n(e(q),{id:"input",modelValue:m.value,"onUpdate:modelValue":s[2]||(s[2]=o=>m.value=o),feedback:!1,toggleMask:"",placeholder:e(l)(e(t).confirmPass)},null,8,["modelValue","placeholder"])]),a("div",le,[n(e(F),{onClick:C,label:e(l)(e(t).signup)},null,8,["label"])]),a("p",te,[T(i(e(l)(e(t).haveAccount)),1),a("strong",{onClick:s[3]||(s[3]=o=>e(h).push("/login")),style:{cursor:"pointer"}},i(e(l)(e(t).login)),1)])])]),n(G)])}}}),de=J(ne,[["__scopeId","data-v-05b7b02b"]]);export{de as default};
