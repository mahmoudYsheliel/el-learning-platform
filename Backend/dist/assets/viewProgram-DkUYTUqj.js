import{d as y,r as h,L as g,H as b,c as _,b as k,e as s,t as o,f as a,C as N,D as x,w as z,i as E,j as H,o as v,N as O,s as l,k as p,A as V,m as j,F as G,_ as M}from"./index-B6r3TLce.js";/* empty css                                                                   */const S={id:"program_container"},T={id:"track_image"},J=["src"],K={id:"track_info"},Q={id:"levels_container"},U=["onClick"],W={class:"level_courses"},X={id:"track_info"},Y={class:"courses"},Z={class:"course_card"},ee=["src"],te={class:"course_info"},se={class:"course_price_view"},ae={style:{"font-size":"1.5rem"}},ne=y({__name:"viewProgram",setup(le){const C=z(),B=E(),P=h([]),R=h([]),w=h(null),q=g(()=>{var e;return(e=C.params)==null?void 0:e.subscriptionPlanId}),I=g(()=>C.params.programId),r=h(null);new b("get_all_programs_and_courses").callApi().then(e=>{var n;e!=null&&e.success&&(P.value=(n=e==null?void 0:e.data)==null?void 0:n.programs)}),new b("get_subscription_plans").callApi({program_id:I.value}).then(e=>{var n,i;e!=null&&e.success&&(e!=null&&e.data)&&q.value&&(w.value=(i=(n=e.data)==null?void 0:n.subscription_plan)==null?void 0:i.find(c=>c.id==q.value),console.log(w.value))}),new b("get_courses").callApi().then(e=>{var n;e!=null&&e.success&&(R.value=(n=e==null?void 0:e.data)==null?void 0:n.courses)});const d=g(()=>{for(let e of P.value)if((e==null?void 0:e.id)==I.value)return e!=null&&e.tracks&&(e==null?void 0:e.tracks.length)>0&&(r.value=e.tracks[0].id),e}),F=g(()=>{var i,c;const e=(c=(i=d.value)==null?void 0:i.tracks)==null?void 0:c.find(u=>u.id==r.value);let n=[];for(let u of(e==null?void 0:e.levels)??[])u.courses&&n.push(...u.courses.map(m=>R.value.find(f=>f.id==m)));return n});return(e,n)=>{var c,u,m,f,A,D,L;const i=H("Options");return v(),_("main",null,[k(O),k(i),s("div",S,[s("h1",null,o(a(l)((c=d.value)==null?void 0:c.title)),1),s("div",T,[s("img",{src:a(l)((u=d.value)==null?void 0:u.image),alt:""},null,8,J)]),s("div",K,[s("h2",null,o(a(l)(a(p).trackDesc)),1),s("p",null,o(a(l)((m=d.value)==null?void 0:m.description)),1)]),s("div",Q,[(v(!0),_(N,null,x((f=d.value)==null?void 0:f.tracks,t=>(v(),_("div",{class:V(["level_name",{selected:t.id==r.value}]),onClick:$=>r.value=t.id},o(a(l)(t.title)),11,U))),256))]),s("div",W,[s("div",X,[s("h2",null,o(a(l)(a(p).aboutLevel)),1),s("p",null,o(a(l)((L=(D=(A=d.value)==null?void 0:A.tracks)==null?void 0:D.find(t=>(t==null?void 0:t.id)==r.value))==null?void 0:L.description)),1)]),s("h2",null,o(a(l)(a(p).courses)),1),s("div",Y,[(v(!0),_(N,null,x(F.value,t=>(v(),_("div",Z,[s("img",{src:t==null?void 0:t.image,alt:""},null,8,ee),s("div",te,[s("p",null,o(a(l)(t==null?void 0:t.title)),1),s("div",se,[s("strong",ae,o(t==null?void 0:t.price)+" "+o(a(l)(a(p).EGP)),1),k(a(j),{label:a(l)(a(p).viewCourse),raised:"",onClick:$=>a(B).push(`/courseDetails/${t==null?void 0:t.id}/0/0`)},null,8,["label","onClick"])])])]))),256))])])]),k(G)])}}}),re=M(ne,[["__scopeId","data-v-13c2f053"]]);export{re as default};
