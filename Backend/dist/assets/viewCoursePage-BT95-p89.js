import{G as _e,I as ye,j as ee,o as c,c as h,e as s,J as w,K as fe,z,g as M,D as S,L as me,M as Pe,P as X,Q as qe,R as Re,S as xe,T as Le,U as Be,V as Te,v as V,W as G,B as J,X as Ve,h as U,t as g,w as Q,Y as Fe,b as R,d as te,r as A,x as ne,f as o,i as Ae,y as le,s as y,_ as ae,Z as pe,H,k as K,m as Z,C as ze,E as Qe,N as Ue}from"./index-CuT-hcow.js";import{s as Ke,a as He}from"./index.esm-_JAwsTLr.js";var We={root:function(t){var n=t.props;return["p-tree p-component",{"p-tree-selectable":n.selectionMode!=null,"p-tree-loading":n.loading,"p-tree-flex-scrollable":n.scrollHeight==="flex"}]},loadingOverlay:"p-tree-loading-overlay p-component-overlay",loadingIcon:"p-tree-loading-icon",filterContainer:"p-tree-filter-container",input:"p-tree-filter p-inputtext p-component",searchIcon:"p-tree-filter-icon",wrapper:"p-tree-wrapper",container:"p-tree-container",node:function(t){var n=t.instance;return["p-treenode",{"p-treenode-leaf":n.leaf}]},content:function(t){var n=t.instance;return["p-treenode-content",n.node.styleClass,{"p-treenode-selectable":n.selectable,"p-highlight":n.checkboxMode&&n.$parentInstance.highlightOnSelect?n.checked:n.selected}]},toggler:"p-tree-toggler p-link",togglerIcon:"p-tree-toggler-icon",nodeTogglerIcon:"p-tree-node-toggler-icon",nodeCheckbox:function(t){var n=t.instance;return[{"p-indeterminate":n.partialChecked}]},nodeIcon:"p-treenode-icon",label:"p-treenode-label",subgroup:"p-treenode-children"},Ze=_e.extend({name:"tree",classes:We}),Ge={root:function(t){var n=t.instance,l=t.props;return["p-checkbox p-component",{"p-highlight":n.checked,"p-disabled":l.disabled,"p-invalid":l.invalid,"p-variant-filled":l.variant?l.variant==="filled":n.$primevue.config.inputStyle==="filled"}]},box:"p-checkbox-box",input:"p-checkbox-input",icon:"p-checkbox-icon"},Je=_e.extend({name:"checkbox",classes:Ge}),Xe={name:"BaseCheckbox",extends:me,props:{value:null,modelValue:null,binary:Boolean,name:{type:String,default:null},trueValue:{type:null,default:!0},falseValue:{type:null,default:!1},variant:{type:String,default:null},invalid:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},readonly:{type:Boolean,default:!1},required:{type:Boolean,default:!1},tabindex:{type:Number,default:null},inputId:{type:String,default:null},inputClass:{type:[String,Object],default:null},inputStyle:{type:Object,default:null},ariaLabelledby:{type:String,default:null},ariaLabel:{type:String,default:null}},style:Je,provide:function(){return{$parentInstance:this}}};function Ye(e){return lt(e)||nt(e)||tt(e)||et()}function et(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function tt(e,t){if(e){if(typeof e=="string")return ve(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ve(e,t)}}function nt(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function lt(e){if(Array.isArray(e))return ve(e)}function ve(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,l=new Array(t);n<t;n++)l[n]=e[n];return l}var Me={name:"Checkbox",extends:Xe,inheritAttrs:!1,emits:["update:modelValue","change","focus","blur"],methods:{getPTOptions:function(t){var n=t==="root"?this.ptmi:this.ptm;return n(t,{context:{checked:this.checked,disabled:this.disabled}})},onChange:function(t){var n=this;if(!this.disabled&&!this.readonly){var l;this.binary?l=this.checked?this.falseValue:this.trueValue:this.checked?l=this.modelValue.filter(function(i){return!ye.equals(i,n.value)}):l=this.modelValue?[].concat(Ye(this.modelValue),[this.value]):[this.value],this.$emit("update:modelValue",l),this.$emit("change",t)}},onFocus:function(t){this.$emit("focus",t)},onBlur:function(t){this.$emit("blur",t)}},computed:{checked:function(){return this.binary?this.modelValue===this.trueValue:ye.contains(this.value,this.modelValue)}},components:{CheckIcon:Ke}},at=["data-p-highlight","data-p-disabled"],rt=["id","value","name","checked","tabindex","disabled","readonly","required","aria-labelledby","aria-label","aria-invalid"];function it(e,t,n,l,i,a){var f=ee("CheckIcon");return c(),h("div",w({class:e.cx("root")},a.getPTOptions("root"),{"data-p-highlight":a.checked,"data-p-disabled":e.disabled}),[s("input",w({id:e.inputId,type:"checkbox",class:[e.cx("input"),e.inputClass],style:e.inputStyle,value:e.value,name:e.name,checked:a.checked,tabindex:e.tabindex,disabled:e.disabled,readonly:e.readonly,required:e.required,"aria-labelledby":e.ariaLabelledby,"aria-label":e.ariaLabel,"aria-invalid":e.invalid||void 0,onFocus:t[0]||(t[0]=function(){return a.onFocus&&a.onFocus.apply(a,arguments)}),onBlur:t[1]||(t[1]=function(){return a.onBlur&&a.onBlur.apply(a,arguments)}),onChange:t[2]||(t[2]=function(){return a.onChange&&a.onChange.apply(a,arguments)})},a.getPTOptions("input")),null,16,rt),s("div",w({class:e.cx("box")},a.getPTOptions("box")),[fe(e.$slots,"icon",{checked:a.checked,class:S(e.cx("icon"))},function(){return[a.checked?(c(),z(f,w({key:0,class:e.cx("icon")},a.getPTOptions("icon")),null,16,["class"])):M("",!0)]})],16)],16,at)}Me.render=it;var Oe={name:"MinusIcon",extends:Pe},ot=s("path",{d:"M13.2222 7.77778H0.777778C0.571498 7.77778 0.373667 7.69584 0.227806 7.54998C0.0819442 7.40412 0 7.20629 0 7.00001C0 6.79373 0.0819442 6.5959 0.227806 6.45003C0.373667 6.30417 0.571498 6.22223 0.777778 6.22223H13.2222C13.4285 6.22223 13.6263 6.30417 13.7722 6.45003C13.9181 6.5959 14 6.79373 14 7.00001C14 7.20629 13.9181 7.40412 13.7722 7.54998C13.6263 7.69584 13.4285 7.77778 13.2222 7.77778Z",fill:"currentColor"},null,-1),st=[ot];function ct(e,t,n,l,i,a){return c(),h("svg",w({width:"14",height:"14",viewBox:"0 0 14 14",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e.pti()),st,16)}Oe.render=ct;var dt={name:"BaseTree",extends:me,props:{value:{type:null,default:null},expandedKeys:{type:null,default:null},selectionKeys:{type:null,default:null},selectionMode:{type:String,default:null},metaKeySelection:{type:Boolean,default:!1},loading:{type:Boolean,default:!1},loadingIcon:{type:String,default:void 0},loadingMode:{type:String,default:"mask"},filter:{type:Boolean,default:!1},filterBy:{type:String,default:"label"},filterMode:{type:String,default:"lenient"},filterPlaceholder:{type:String,default:null},filterLocale:{type:String,default:void 0},highlightOnSelect:{type:Boolean,default:!1},scrollHeight:{type:String,default:null},level:{type:Number,default:0},ariaLabelledby:{type:String,default:null},ariaLabel:{type:String,default:null}},style:Ze,provide:function(){return{$parentInstance:this}}};function ue(e){"@babel/helpers - typeof";return ue=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ue(e)}function Ce(e,t){var n=typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=Ne(e))||t&&e&&typeof e.length=="number"){n&&(e=n);var l=0,i=function(){};return{s:i,n:function(){return l>=e.length?{done:!0}:{done:!1,value:e[l++]}},e:function(r){throw r},f:i}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var a=!0,f=!1,d;return{s:function(){n=n.call(e)},n:function(){var r=n.next();return a=r.done,r},e:function(r){f=!0,d=r},f:function(){try{!a&&n.return!=null&&n.return()}finally{if(f)throw d}}}}function we(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);t&&(l=l.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,l)}return n}function Ie(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?we(Object(n),!0).forEach(function(l){ut(e,l,n[l])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):we(Object(n)).forEach(function(l){Object.defineProperty(e,l,Object.getOwnPropertyDescriptor(n,l))})}return e}function ut(e,t,n){return t=ht(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ht(e){var t=pt(e,"string");return ue(t)=="symbol"?t:String(t)}function pt(e,t){if(ue(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var l=n.call(e,t||"default");if(ue(l)!="object")return l;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function de(e){return gt(e)||mt(e)||Ne(e)||ft()}function ft(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Ne(e,t){if(e){if(typeof e=="string")return be(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return be(e,t)}}function mt(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function gt(e){if(Array.isArray(e))return be(e)}function be(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,l=new Array(t);n<t;n++)l[n]=e[n];return l}var $e={name:"TreeNode",hostName:"Tree",extends:me,emits:["node-toggle","node-click","checkbox-change"],props:{node:{type:null,default:null},expandedKeys:{type:null,default:null},loadingMode:{type:String,default:"mask"},selectionKeys:{type:null,default:null},selectionMode:{type:String,default:null},templates:{type:null,default:null},level:{type:Number,default:null},index:null},nodeTouched:!1,toggleClicked:!1,mounted:function(){this.setAllNodesTabIndexes()},methods:{toggle:function(){this.$emit("node-toggle",this.node),this.toggleClicked=!0},label:function(t){return typeof t.label=="function"?t.label():t.label},onChildNodeToggle:function(t){this.$emit("node-toggle",t)},getPTOptions:function(t){return this.ptm(t,{context:{index:this.index,expanded:this.expanded,selected:this.selected,checked:this.checked,leaf:this.leaf}})},onClick:function(t){if(this.toggleClicked||X.getAttribute(t.target,'[data-pc-section="toggler"]')||X.getAttribute(t.target.parentElement,'[data-pc-section="toggler"]')){this.toggleClicked=!1;return}this.isCheckboxSelectionMode()?this.toggleCheckbox():this.$emit("node-click",{originalEvent:t,nodeTouched:this.nodeTouched,node:this.node}),this.nodeTouched=!1},onChildNodeClick:function(t){this.$emit("node-click",t)},onTouchEnd:function(){this.nodeTouched=!0},onKeyDown:function(t){if(this.isSameNode(t))switch(t.code){case"Tab":this.onTabKey(t);break;case"ArrowDown":this.onArrowDown(t);break;case"ArrowUp":this.onArrowUp(t);break;case"ArrowRight":this.onArrowRight(t);break;case"ArrowLeft":this.onArrowLeft(t);break;case"Enter":case"NumpadEnter":case"Space":this.onEnterKey(t);break}},onArrowDown:function(t){var n=t.target.getAttribute("data-pc-section")==="toggler"?t.target.closest('[role="treeitem"]'):t.target,l=n.children[1];if(l)this.focusRowChange(n,l.children[0]);else if(n.nextElementSibling)this.focusRowChange(n,n.nextElementSibling);else{var i=this.findNextSiblingOfAncestor(n);i&&this.focusRowChange(n,i)}t.preventDefault()},onArrowUp:function(t){var n=t.target;if(n.previousElementSibling)this.focusRowChange(n,n.previousElementSibling,this.findLastVisibleDescendant(n.previousElementSibling));else{var l=this.getParentNodeElement(n);l&&this.focusRowChange(n,l)}t.preventDefault()},onArrowRight:function(t){var n=this;this.leaf||this.expanded||(t.currentTarget.tabIndex=-1,this.$emit("node-toggle",this.node),this.$nextTick(function(){n.onArrowDown(t)}))},onArrowLeft:function(t){var n=X.findSingle(t.currentTarget,'[data-pc-section="toggler"]');if(this.level===0&&!this.expanded)return!1;if(this.expanded&&!this.leaf)return n.click(),!1;var l=this.findBeforeClickableNode(t.currentTarget);l&&this.focusRowChange(t.currentTarget,l)},onEnterKey:function(t){this.setTabIndexForSelectionMode(t,this.nodeTouched),this.onClick(t),t.preventDefault()},onTabKey:function(){this.setAllNodesTabIndexes()},setAllNodesTabIndexes:function(){var t=X.find(this.$refs.currentNode.closest('[data-pc-section="container"]'),'[role="treeitem"]'),n=de(t).some(function(i){return i.getAttribute("aria-selected")==="true"||i.getAttribute("aria-checked")==="true"});if(de(t).forEach(function(i){i.tabIndex=-1}),n){var l=de(t).filter(function(i){return i.getAttribute("aria-selected")==="true"||i.getAttribute("aria-checked")==="true"});l[0].tabIndex=0;return}de(t)[0].tabIndex=0},setTabIndexForSelectionMode:function(t,n){if(this.selectionMode!==null){var l=de(X.find(this.$refs.currentNode.parentElement,'[role="treeitem"]'));t.currentTarget.tabIndex=n===!1?-1:0,l.every(function(i){return i.tabIndex===-1})&&(l[0].tabIndex=0)}},focusRowChange:function(t,n,l){t.tabIndex="-1",n.tabIndex="0",this.focusNode(l||n)},findBeforeClickableNode:function(t){var n=t.closest("ul").closest("li");if(n){var l=X.findSingle(n,"button");return l&&l.style.visibility!=="hidden"?n:this.findBeforeClickableNode(t.previousElementSibling)}return null},toggleCheckbox:function(){var t=this.selectionKeys?Ie({},this.selectionKeys):{},n=!this.checked;this.propagateDown(this.node,n,t),this.$emit("checkbox-change",{node:this.node,check:n,selectionKeys:t})},propagateDown:function(t,n,l){if(n?l[t.key]={checked:!0,partialChecked:!1}:delete l[t.key],t.children&&t.children.length){var i=Ce(t.children),a;try{for(i.s();!(a=i.n()).done;){var f=a.value;this.propagateDown(f,n,l)}}catch(d){i.e(d)}finally{i.f()}}},propagateUp:function(t){var n=t.check,l=Ie({},t.selectionKeys),i=0,a=!1,f=Ce(this.node.children),d;try{for(f.s();!(d=f.n()).done;){var p=d.value;l[p.key]&&l[p.key].checked?i++:l[p.key]&&l[p.key].partialChecked&&(a=!0)}}catch(r){f.e(r)}finally{f.f()}n&&i===this.node.children.length?l[this.node.key]={checked:!0,partialChecked:!1}:(n||delete l[this.node.key],a||i>0&&i!==this.node.children.length?l[this.node.key]={checked:!1,partialChecked:!0}:delete l[this.node.key]),this.$emit("checkbox-change",{node:t.node,check:t.check,selectionKeys:l})},onChildCheckboxChange:function(t){this.$emit("checkbox-change",t)},findNextSiblingOfAncestor:function(t){var n=this.getParentNodeElement(t);return n?n.nextElementSibling?n.nextElementSibling:this.findNextSiblingOfAncestor(n):null},findLastVisibleDescendant:function(t){var n=t.children[1];if(n){var l=n.children[n.children.length-1];return this.findLastVisibleDescendant(l)}else return t},getParentNodeElement:function(t){var n=t.parentElement.parentElement;return X.getAttribute(n,"role")==="treeitem"?n:null},focusNode:function(t){t.focus()},isCheckboxSelectionMode:function(){return this.selectionMode==="checkbox"},isSameNode:function(t){return t.currentTarget&&(t.currentTarget.isSameNode(t.target)||t.currentTarget.isSameNode(t.target.closest('[role="treeitem"]')))}},computed:{hasChildren:function(){return this.node.children&&this.node.children.length>0},expanded:function(){return this.expandedKeys&&this.expandedKeys[this.node.key]===!0},leaf:function(){return this.node.leaf===!1?!1:!(this.node.children&&this.node.children.length)},selectable:function(){return this.node.selectable===!1?!1:this.selectionMode!=null},selected:function(){return this.selectionMode&&this.selectionKeys?this.selectionKeys[this.node.key]===!0:!1},checkboxMode:function(){return this.selectionMode==="checkbox"&&this.node.selectable!==!1},checked:function(){return this.selectionKeys?this.selectionKeys[this.node.key]&&this.selectionKeys[this.node.key].checked:!1},partialChecked:function(){return this.selectionKeys?this.selectionKeys[this.node.key]&&this.selectionKeys[this.node.key].partialChecked:!1},ariaChecked:function(){return this.selectionMode==="single"||this.selectionMode==="multiple"?this.selected:void 0},ariaSelected:function(){return this.checkboxMode?this.checked:void 0}},components:{Checkbox:Me,ChevronDownIcon:qe,ChevronRightIcon:Re,CheckIcon:Ke,MinusIcon:Oe,SpinnerIcon:xe},directives:{ripple:Le}},yt=["aria-label","aria-selected","aria-expanded","aria-setsize","aria-posinset","aria-level","aria-checked","tabindex"],vt=["data-p-highlight","data-p-selectable"];function bt(e,t,n,l,i,a){var f=ee("SpinnerIcon"),d=ee("Checkbox"),p=ee("TreeNode",!0),r=Be("ripple");return c(),h("li",w({ref:"currentNode",class:e.cx("node"),role:"treeitem","aria-label":a.label(n.node),"aria-selected":a.ariaSelected,"aria-expanded":a.expanded,"aria-setsize":n.node.children?n.node.children.length:0,"aria-posinset":n.index+1,"aria-level":n.level,"aria-checked":a.ariaChecked,tabindex:n.index===0?0:-1,onKeydown:t[4]||(t[4]=function(){return a.onKeyDown&&a.onKeyDown.apply(a,arguments)})},n.level===1?a.getPTOptions("node"):e.ptm("subgroup")),[s("div",w({class:e.cx("content"),onClick:t[2]||(t[2]=function(){return a.onClick&&a.onClick.apply(a,arguments)}),onTouchend:t[3]||(t[3]=function(){return a.onTouchEnd&&a.onTouchEnd.apply(a,arguments)}),style:n.node.style},a.getPTOptions("content"),{"data-p-highlight":a.checkboxMode?a.checked:a.selected,"data-p-selectable":a.selectable}),[Te((c(),h("button",w({type:"button",class:e.cx("toggler"),onClick:t[0]||(t[0]=function(){return a.toggle&&a.toggle.apply(a,arguments)}),tabindex:"-1","aria-hidden":"true"},a.getPTOptions("toggler")),[n.node.loading&&n.loadingMode==="icon"?(c(),h(V,{key:0},[n.templates.nodetogglericon?(c(),z(G(n.templates.nodetogglericon),{key:0,class:S(e.cx("nodetogglericon"))},null,8,["class"])):(c(),z(f,w({key:1,spin:"",class:e.cx("nodetogglericon")},e.ptm("nodetogglericon")),null,16,["class"]))],64)):(c(),h(V,{key:1},[n.templates.togglericon?(c(),z(G(n.templates.togglericon),{key:0,node:n.node,expanded:a.expanded,class:S(e.cx("togglerIcon"))},null,8,["node","expanded","class"])):a.expanded?(c(),z(G(n.node.expandedIcon?"span":"ChevronDownIcon"),w({key:1,class:e.cx("togglerIcon")},a.getPTOptions("togglerIcon")),null,16,["class"])):(c(),z(G(n.node.collapsedIcon?"span":"ChevronRightIcon"),w({key:2,class:e.cx("togglerIcon")},a.getPTOptions("togglerIcon")),null,16,["class"]))],64))],16)),[[r]]),a.checkboxMode?(c(),z(d,{key:0,modelValue:a.checked,binary:!0,class:S(e.cx("nodeCheckbox")),tabindex:-1,unstyled:e.unstyled,pt:a.getPTOptions("nodeCheckbox"),"data-p-checked":a.checked,"data-p-partialchecked":a.partialChecked},{icon:J(function(u){return[n.templates.checkboxicon?(c(),z(G(n.templates.checkboxicon),{key:0,checked:u.checked,partialChecked:a.partialChecked,class:S(u.class)},null,8,["checked","partialChecked","class"])):(c(),z(G(a.checked?"CheckIcon":a.partialChecked?"MinusIcon":null),w({key:1,class:u.class},a.getPTOptions("nodeCheckbox.icon")),null,16,["class"]))]}),_:1},8,["modelValue","class","unstyled","pt","data-p-checked","data-p-partialchecked"])):M("",!0),s("span",w({class:[e.cx("nodeIcon"),n.node.icon]},a.getPTOptions("nodeIcon")),null,16),s("span",w({class:e.cx("label")},a.getPTOptions("label"),{onKeydown:t[1]||(t[1]=Ve(function(){},["stop"]))}),[n.templates[n.node.type]||n.templates.default?(c(),z(G(n.templates[n.node.type]||n.templates.default),{key:0,node:n.node},null,8,["node"])):(c(),h(V,{key:1},[U(g(a.label(n.node)),1)],64))],16)],16,vt),a.hasChildren&&a.expanded?(c(),h("ul",w({key:0,class:e.cx("subgroup"),role:"group"},e.ptm("subgroup")),[(c(!0),h(V,null,Q(n.node.children,function(u){return c(),z(p,{key:u.key,node:u,templates:n.templates,level:n.level+1,expandedKeys:n.expandedKeys,onNodeToggle:a.onChildNodeToggle,onNodeClick:a.onChildNodeClick,selectionMode:n.selectionMode,selectionKeys:n.selectionKeys,onCheckboxChange:a.propagateUp,unstyled:e.unstyled,pt:e.pt},null,8,["node","templates","level","expandedKeys","onNodeToggle","onNodeClick","selectionMode","selectionKeys","onCheckboxChange","unstyled","pt"])}),128))],16)):M("",!0)],16,yt)}$e.render=bt;function he(e){"@babel/helpers - typeof";return he=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},he(e)}function ge(e,t){var n=typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=je(e))||t&&e&&typeof e.length=="number"){n&&(e=n);var l=0,i=function(){};return{s:i,n:function(){return l>=e.length?{done:!0}:{done:!1,value:e[l++]}},e:function(r){throw r},f:i}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var a=!0,f=!1,d;return{s:function(){n=n.call(e)},n:function(){var r=n.next();return a=r.done,r},e:function(r){f=!0,d=r},f:function(){try{!a&&n.return!=null&&n.return()}finally{if(f)throw d}}}}function kt(e){return wt(e)||Ct(e)||je(e)||_t()}function _t(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function je(e,t){if(e){if(typeof e=="string")return ke(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ke(e,t)}}function Ct(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function wt(e){if(Array.isArray(e))return ke(e)}function ke(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,l=new Array(t);n<t;n++)l[n]=e[n];return l}function Se(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);t&&(l=l.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,l)}return n}function Y(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Se(Object(n),!0).forEach(function(l){It(e,l,n[l])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Se(Object(n)).forEach(function(l){Object.defineProperty(e,l,Object.getOwnPropertyDescriptor(n,l))})}return e}function It(e,t,n){return t=St(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function St(e){var t=xt(e,"string");return he(t)=="symbol"?t:String(t)}function xt(e,t){if(he(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var l=n.call(e,t||"default");if(he(l)!="object")return l;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var De={name:"Tree",extends:dt,inheritAttrs:!1,emits:["node-expand","node-collapse","update:expandedKeys","update:selectionKeys","node-select","node-unselect","filter"],data:function(){return{d_expandedKeys:this.expandedKeys||{},filterValue:null}},watch:{expandedKeys:function(t){this.d_expandedKeys=t}},methods:{onNodeToggle:function(t){var n=t.key;this.d_expandedKeys[n]?(delete this.d_expandedKeys[n],this.$emit("node-collapse",t)):(this.d_expandedKeys[n]=!0,this.$emit("node-expand",t)),this.d_expandedKeys=Y({},this.d_expandedKeys),this.$emit("update:expandedKeys",this.d_expandedKeys)},onNodeClick:function(t){if(this.selectionMode!=null&&t.node.selectable!==!1){var n=t.nodeTouched?!1:this.metaKeySelection,l=n?this.handleSelectionWithMetaKey(t):this.handleSelectionWithoutMetaKey(t);this.$emit("update:selectionKeys",l)}},onCheckboxChange:function(t){this.$emit("update:selectionKeys",t.selectionKeys),t.check?this.$emit("node-select",t.node):this.$emit("node-unselect",t.node)},handleSelectionWithMetaKey:function(t){var n=t.originalEvent,l=t.node,i=n.metaKey||n.ctrlKey,a=this.isNodeSelected(l),f;return a&&i?(this.isSingleSelectionMode()?f={}:(f=Y({},this.selectionKeys),delete f[l.key]),this.$emit("node-unselect",l)):(this.isSingleSelectionMode()?f={}:this.isMultipleSelectionMode()&&(f=i?this.selectionKeys?Y({},this.selectionKeys):{}:{}),f[l.key]=!0,this.$emit("node-select",l)),f},handleSelectionWithoutMetaKey:function(t){var n=t.node,l=this.isNodeSelected(n),i;return this.isSingleSelectionMode()?l?(i={},this.$emit("node-unselect",n)):(i={},i[n.key]=!0,this.$emit("node-select",n)):l?(i=Y({},this.selectionKeys),delete i[n.key],this.$emit("node-unselect",n)):(i=this.selectionKeys?Y({},this.selectionKeys):{},i[n.key]=!0,this.$emit("node-select",n)),i},isSingleSelectionMode:function(){return this.selectionMode==="single"},isMultipleSelectionMode:function(){return this.selectionMode==="multiple"},isNodeSelected:function(t){return this.selectionMode&&this.selectionKeys?this.selectionKeys[t.key]===!0:!1},isChecked:function(t){return this.selectionKeys?this.selectionKeys[t.key]&&this.selectionKeys[t.key].checked:!1},isNodeLeaf:function(t){return t.leaf===!1?!1:!(t.children&&t.children.length)},onFilterKeydown:function(t){(t.code==="Enter"||t.code==="NumpadEnter")&&t.preventDefault(),this.$emit("filter",{originalEvent:t,value:t.target.value})},findFilteredNodes:function(t,n){if(t){var l=!1;if(t.children){var i=kt(t.children);t.children=[];var a=ge(i),f;try{for(a.s();!(f=a.n()).done;){var d=f.value,p=Y({},d);this.isFilterMatched(p,n)&&(l=!0,t.children.push(p))}}catch(r){a.e(r)}finally{a.f()}}if(l)return!0}},isFilterMatched:function(t,n){var l=n.searchFields,i=n.filterText,a=n.strict,f=!1,d=ge(l),p;try{for(d.s();!(p=d.n()).done;){var r=p.value,u=String(ye.resolveFieldData(t,r)).toLocaleLowerCase(this.filterLocale);u.indexOf(i)>-1&&(f=!0)}}catch(m){d.e(m)}finally{d.f()}return(!f||a&&!this.isNodeLeaf(t))&&(f=this.findFilteredNodes(t,{searchFields:l,filterText:i,strict:a})||f),f}},computed:{filteredValue:function(){var t=[],n=this.filterBy.split(","),l=this.filterValue.trim().toLocaleLowerCase(this.filterLocale),i=this.filterMode==="strict",a=ge(this.value),f;try{for(a.s();!(f=a.n()).done;){var d=f.value,p=Y({},d),r={searchFields:n,filterText:l,strict:i};(i&&(this.findFilteredNodes(p,r)||this.isFilterMatched(p,r))||!i&&(this.isFilterMatched(p,r)||this.findFilteredNodes(p,r)))&&t.push(p)}}catch(u){a.e(u)}finally{a.f()}return t},valueToRender:function(){return this.filterValue&&this.filterValue.trim().length>0?this.filteredValue:this.value}},components:{TreeNode:$e,SearchIcon:He,SpinnerIcon:xe}},Tt=["placeholder"],At=["aria-labelledby","aria-label"];function Kt(e,t,n,l,i,a){var f=ee("SpinnerIcon"),d=ee("SearchIcon"),p=ee("TreeNode");return c(),h("div",w({class:e.cx("root")},e.ptmi("root")),[e.loading&&e.loadingMode==="mask"?(c(),h("div",w({key:0,class:e.cx("loadingOverlay")},e.ptm("loadingOverlay")),[fe(e.$slots,"loadingicon",{class:S(e.cx("loadingIcon"))},function(){return[e.loadingIcon?(c(),h("i",w({key:0,class:[e.cx("loadingIcon"),"pi-spin",e.loadingIcon]},e.ptm("loadingIcon")),null,16)):(c(),z(f,w({key:1,spin:"",class:e.cx("loadingIcon")},e.ptm("loadingIcon")),null,16,["class"]))]})],16)):M("",!0),e.filter?(c(),h("div",w({key:1,class:e.cx("filterContainer")},e.ptm("filterContainer")),[Te(s("input",w({"onUpdate:modelValue":t[0]||(t[0]=function(r){return i.filterValue=r}),type:"text",autocomplete:"off",class:e.cx("input"),placeholder:e.filterPlaceholder,onKeydown:t[1]||(t[1]=function(){return a.onFilterKeydown&&a.onFilterKeydown.apply(a,arguments)})},e.ptm("input")),null,16,Tt),[[Fe,i.filterValue]]),fe(e.$slots,"searchicon",{class:S(e.cx("searchIcon"))},function(){return[R(d,w({class:e.cx("searchIcon")},e.ptm("searchIcon")),null,16,["class"])]})],16)):M("",!0),s("div",w({class:e.cx("wrapper"),style:{maxHeight:e.scrollHeight}},e.ptm("wrapper")),[s("ul",w({class:e.cx("container"),role:"tree","aria-labelledby":e.ariaLabelledby,"aria-label":e.ariaLabel},e.ptm("container")),[(c(!0),h(V,null,Q(a.valueToRender,function(r,u){return c(),z(p,{key:r.key,node:r,templates:e.$slots,level:e.level+1,index:u,expandedKeys:i.d_expandedKeys,onNodeToggle:a.onNodeToggle,onNodeClick:a.onNodeClick,selectionMode:e.selectionMode,selectionKeys:e.selectionKeys,onCheckboxChange:a.onCheckboxChange,loadingMode:e.loadingMode,unstyled:e.unstyled,pt:e.pt},null,8,["node","templates","level","index","expandedKeys","onNodeToggle","onNodeClick","selectionMode","selectionKeys","onCheckboxChange","loadingMode","unstyled","pt"])}),128))],16,At)],16)],16)}De.render=Kt;const Mt=["onClick"],Ot=["onClick"],Nt=["onClick"],$t=["onClick"],jt=["onClick"],Dt=te({__name:"SideBar",props:["chapters","courseTitle"],setup(e){const t=e,n=Ae(),l=le(),i=A(!1),a=A(),f=ne(()=>{var p;let d=t.chapters;for(let r=0;r<(d==null?void 0:d.length);r++){d[r].label=y(d[r].title),d[r].children=d[r].materials,d[r].key="k"+r.toString();for(let u=0;u<((p=d[r].children)==null?void 0:p.length);u++)d[r].children[u].label=y(d[r].children[u].title),d[r].children[u].key="k"+r.toString()+"_"+u.toString(),d[r].children[u].Id==l.params.materialId&&(a.value=Object.fromEntries(new Map([[d[r].children[u].key,!0]])))}return d});return(d,p)=>(c(),h("main",null,[s("span",{onClick:p[0]||(p[0]=r=>i.value=!i.value),class:"circle"},[s("span",{class:S(["upper-arrow",{upperArrowShrink:i.value}])},null,2),s("span",{class:S(["down-arrow",{downArrowShrink:i.value}])},null,2)]),s("div",{class:S(["container",{shrink:i.value}])},[s("h3",null,g(o(y)(e.courseTitle)),1),R(o(De),{value:f.value,class:"tree"},{default:J(r=>[s("p",{class:S(["default",{head:r.node.status=="head"}])},g(r.node.label),3)]),Quiz:J(r=>[s("p",{class:S(["unselected",{done:r.node.status=="Done",selected:r.node.Id==o(l).params.materialId}]),onClick:()=>{o(n).push(`/viewCoursePage/${o(l).params.courseId}/${o(l).params.enrollmentId}/${r.node.Id}`)}},[s("i",{class:S(r.node.matIcon)},null,2),U(" "+g(r.node.label),1)],10,Mt)]),Lesson:J(r=>[s("p",{class:S(["unselected",{selected:r.node.Id==o(l).params.materialId,done:r.node.status=="Done"}]),onClick:()=>{o(n).push(`/viewCoursePage/${o(l).params.courseId}/${o(l).params.enrollmentId}/${r.node.Id}`)}},[s("i",{class:S(r.node.matIcon)},null,2),U(" "+g(r.node.label),1)],10,Ot)]),Simulation:J(r=>[s("p",{class:S(["unselected",{selected:r.node.Id==o(l).params.materialId,done:r.node.status=="Done"}]),onClick:()=>{o(n).push(`/viewCoursePage/${o(l).params.courseId}/${o(l).params.enrollmentId}/${r.node.Id}`)}},[s("i",{class:S(r.node.matIcon)},null,2),U(" "+g(r.node.label),1)],10,Nt)]),Activity:J(r=>[s("p",{class:S(["unselected",{selected:r.node.Id==o(l).params.materialId,done:r.node.status=="Done"}]),onClick:()=>{o(n).push(`/viewCoursePage/${o(l).params.courseId}/${o(l).params.enrollmentId}/${r.node.Id}`)}},[s("i",{class:S(r.node.matIcon)},null,2),U(" "+g(r.node.label),1)],10,$t)]),Project:J(r=>[s("p",{class:S(["unselected",{selected:r.node.Id==o(l).params.materialId,done:r.node.status=="Done"}]),onClick:()=>{o(n).push(`/viewCoursePage/${o(l).params.courseId}/${o(l).params.enrollmentId}/${r.node.Id}`)}},[s("i",{class:S(r.node.matIcon)},null,2),U(" "+g(r.node.label),1)],10,jt)]),_:1},8,["value"])],2)]))}}),Et=ae(Dt,[["__scopeId","data-v-0276eda2"]]),Pt={class:"container"},qt={class:"wrapper"},Rt=["src"],Lt=te({__name:"Lesson",props:["completed"],emits:["next"],setup(e,{emit:t}){const n=t,l=le(),i=A(),a=ne(()=>l.params.materialId);pe(a,()=>{f()});const f=()=>{new H("get_lesson").callApi({lesson_id:l.params.materialId}).then(r=>{var u;r!=null&&r.success&&(i.value=(u=r==null?void 0:r.data)==null?void 0:u.lesson)})};f();function d(){const p=new H("add_progress");let r={lesson_progress:{lesson_id:l.params.materialId,completed_at:new Date().toISOString()},material_type:"Lesson"};p.callApi({progres:r,enrolment_id:l.params.enrollmentId}).then(u=>{n("next",!0)})}return(p,r)=>{var u,m,C;return c(),h("main",null,[s("div",Pt,[s("h2",null,g(o(y)((u=i.value)==null?void 0:u.title)),1),s("p",null,g(o(y)((m=i.value)==null?void 0:m.description)),1),s("div",qt,[s("iframe",{src:(C=i.value)==null?void 0:C.source,frameborder:"0",sandbox:"allow-scripts allow-same-origin",allowfullscreen:""},null,8,Rt)]),R(o(Z),{disabled:e.completed,icon:"pi pi-check-circle",label:o(y)(o(K).markCompleted),"icon-pos":"right",onClick:d},null,8,["disabled","label"])])])}}}),Bt=ae(Lt,[["__scopeId","data-v-74b3c4ad"]]),Vt={class:"container"},Ft={style:{color:"var(--accent2)"}},zt=["src"],Qt=te({__name:"Simulation",props:["completed"],emits:["next"],setup(e,{emit:t}){const n=t,l=le(),i=A(),a=ne(()=>l.params.materialId);pe(a,()=>{f()});const f=()=>{new H("get_simulation").callApi({simulation_id:l.params.materialId}).then(u=>{var m;u!=null&&u.success&&(i.value=(m=u==null?void 0:u.data)==null?void 0:m.simulation)})};f();function d(){const r=new H("add_progress");let u={simulation_progress:{simulation_id:l.params.materialId,completed_at:new Date().toISOString()},material_type:"Simulation"};r.callApi({progres:u,enrolment_id:l.params.enrollmentId}).then(m=>{n("next",!0)})}function p(r){window.open(r)}return(r,u)=>{var m,C,D;return c(),h("main",null,[s("div",Vt,[s("h2",null,g(o(y)((m=i.value)==null?void 0:m.title)),1),s("p",null,g(o(y)((C=i.value)==null?void 0:C.description)),1),s("div",{class:"wrapper",style:{cursor:"pointer"},onClick:u[0]||(u[0]=()=>{var I;p((I=i.value)==null?void 0:I.source)})},[s("h4",Ft,g(o(y)(o(K).clickToView)),1),s("img",{src:(D=i.value)==null?void 0:D.image},null,8,zt)]),R(o(Z),{disabled:e.completed,icon:"pi pi-check-circle",label:o(y)(o(K).markCompleted),"icon-pos":"right",onClick:d},null,8,["disabled","label"])])])}}}),Ut=ae(Qt,[["__scopeId","data-v-b754152e"]]),Ht={class:"container"},Wt={class:"wrapper"},Zt=["src"],Gt=te({__name:"Project",props:["completed"],emits:["next"],setup(e,{emit:t}){const n=t,l=le(),i=A(),a=ne(()=>l.params.materialId);pe(a,()=>{f()});const f=()=>{new H("get_project").callApi({project_id:l.params.materialId}).then(r=>{var u;r!=null&&r.success&&(i.value=(u=r==null?void 0:r.data)==null?void 0:u.project)})};f();function d(){const p=new H("add_progress");let r={project_progress:{project_id:l.params.materialId,completed_at:new Date().toISOString()},material_type:"Project"};p.callApi({progres:r,enrolment_id:l.params.enrollmentId}).then(u=>{n("next",!0)})}return(p,r)=>{var u,m,C;return c(),h("main",null,[s("div",Ht,[s("h2",null,g(o(y)((u=i.value)==null?void 0:u.title)),1),s("p",null,g(o(y)((m=i.value)==null?void 0:m.description)),1),s("div",Wt,[s("iframe",{src:(C=i.value)==null?void 0:C.source,frameborder:"0",sandbox:"allow-scripts allow-same-origin",allowfullscreen:""},null,8,Zt)]),R(o(Z),{disabled:e.completed,icon:"pi pi-check-circle",label:o(y)(o(K).markCompleted),"icon-pos":"right",onClick:d},null,8,["disabled","label"])])])}}}),Jt=ae(Gt,[["__scopeId","data-v-1b8df84d"]]),Xt={class:"container"},Yt={key:0},en={class:"wrapper"},tn={key:0,class:"images"},nn=["src"],ln={key:1,class:"items"},an={class:"item"},rn=["onClick"],on={class:"allitems"},sn={key:0,class:"items"},cn={key:0,class:"images"},dn=["src"],un={class:"item"},hn={key:0},pn=["src"],fn={key:1,class:"images"},mn=["src"],gn={key:2,class:"images"},yn=["src"],vn=te({__name:"Activity",props:["completed"],emits:["next"],setup(e,{emit:t}){const n=t,l=le(),i=A(),a=A(K),f=ne(()=>l.params.materialId);pe(f,()=>{d()});const d=()=>{new H("get_activity").callApi({activity_id:l.params.materialId}).then(C=>{var D;C!=null&&C.success&&(i.value=(D=C==null?void 0:C.data)==null?void 0:D.activity)})};d();function p(){const m=new H("add_progress");let C={activity_progress:{activity_id:l.params.materialId,completed_at:new Date().toISOString()},material_type:"Activity"};m.callApi({progres:C,enrolment_id:l.params.enrollmentId}).then(D=>{n("next",!0)})}const r=["objectives","terms_concepts","materials","instructions","results","conclusions"];function u(m){window.open(m)}return(m,C)=>{var D,I,T,P,O,F,N,v,$;return c(),h("main",null,[s("div",Xt,[s("h2",null,g(o(y)((D=i.value)==null?void 0:D.title)),1),(I=i.value)!=null&&I.description?(c(),h("p",Yt,g(o(y)((T=i.value)==null?void 0:T.description)),1)):M("",!0),s("div",en,[(P=i.value)!=null&&P.start_images?(c(),h("div",tn,[(c(!0),h(V,null,Q((O=i.value)==null?void 0:O.start_images,b=>(c(),h("img",{src:b,alt:""},null,8,nn))),256))])):M("",!0),(F=i.value)!=null&&F.sources?(c(),h("div",ln,[s("h3",null,g(o(y)(o(K).sources)),1),(c(!0),h(V,null,Q((N=i.value)==null?void 0:N.sources,(b,j)=>(c(),h("div",an,[s("p",{style:{color:"var(--secondary)",cursor:"pointer"},onClick:()=>{u(b)}},g(o(y)(o(K).source))+" "+g(j+1),9,rn)]))),256))])):M("",!0),(c(),h(V,null,Q(r,b=>{var j,_,L,q,B,k,x,re,ie,oe,se,W;return s("div",on,[(j=i.value)!=null&&j[b]?(c(),h("div",sn,[(L=(_=i.value)==null?void 0:_[b])!=null&&L.start_images?(c(),h("div",cn,[(c(!0),h(V,null,Q((B=(q=i.value)==null?void 0:q[b])==null?void 0:B.start_images,E=>(c(),h("img",{src:E,alt:""},null,8,dn))),256))])):M("",!0),s("h3",null,g(o(y)((k=a.value)==null?void 0:k[b])),1),(c(!0),h(V,null,Q((re=(x=i.value)==null?void 0:x[b])==null?void 0:re.items,E=>(c(),h("div",un,[s("p",null,[s("span",{class:S({terms:b=="terms_concepts"})}," - "+g(o(y)(E.text)),3),E.description?(c(),h("span",hn,": "+g(o(y)(E.description)),1)):M("",!0)]),E!=null&&E.image?(c(),h("img",{key:0,src:E==null?void 0:E.image,alt:""},null,8,pn)):M("",!0)]))),256)),(oe=(ie=i.value)==null?void 0:ie[b])!=null&&oe.end_images?(c(),h("div",fn,[(c(!0),h(V,null,Q((W=(se=i.value)==null?void 0:se[b])==null?void 0:W.end_images,E=>(c(),h("img",{src:E,alt:""},null,8,mn))),256))])):M("",!0)])):M("",!0)])}),64)),(v=i.value)!=null&&v.end_images?(c(),h("div",gn,[(c(!0),h(V,null,Q(($=i.value)==null?void 0:$.end_images,b=>(c(),h("img",{src:b,alt:""},null,8,yn))),256))])):M("",!0)]),R(o(Z),{disabled:e.completed,icon:"pi pi-check-circle",label:o(y)(o(K).markCompleted),"icon-pos":"right",onClick:p},null,8,["disabled","label"])])])}}}),bn=ae(vn,[["__scopeId","data-v-15ef85eb"]]);var kn={root:function(t){var n=t.instance;return["p-progressbar p-component",{"p-progressbar-determinate":n.determinate,"p-progressbar-indeterminate":n.indeterminate}]},container:"p-progressbar-indeterminate-container",value:"p-progressbar-value p-progressbar-value-animate",label:"p-progressbar-label"},_n=_e.extend({name:"progressbar",classes:kn}),Cn={name:"BaseProgressBar",extends:me,props:{value:{type:Number,default:null},mode:{type:String,default:"determinate"},showValue:{type:Boolean,default:!0}},style:_n,provide:function(){return{$parentInstance:this}}},Ee={name:"ProgressBar",extends:Cn,inheritAttrs:!1,computed:{progressStyle:function(){return{width:this.value+"%",display:"flex"}},indeterminate:function(){return this.mode==="indeterminate"},determinate:function(){return this.mode==="determinate"}}},wn=["aria-valuenow"];function In(e,t,n,l,i,a){return c(),h("div",w({role:"progressbar",class:e.cx("root"),"aria-valuemin":"0","aria-valuenow":e.value,"aria-valuemax":"100"},e.ptmi("root")),[a.determinate?(c(),h("div",w({key:0,class:e.cx("value"),style:a.progressStyle},e.ptm("value")),[e.value!=null&&e.value!==0&&e.showValue?(c(),h("div",w({key:0,class:e.cx("label")},e.ptm("label")),[fe(e.$slots,"default",{},function(){return[U(g(e.value+"%"),1)]})],16)):M("",!0)],16)):M("",!0),a.indeterminate?(c(),h("div",w({key:1,class:e.cx("container")},e.ptm("container")),[s("div",w({class:e.cx("value")},e.ptm("value")),null,16)],16)):M("",!0)],16,wn)}Ee.render=In;const Sn={class:"container"},xn={class:"wrapper"},Tn={key:0},An={style:{"text-align":"center",color:"var(--accent1)"}},Kn={class:"count-down"},Mn={key:1,class:"question-wrapper"},On={class:"quiz-duration"},Nn={style:{width:"fit-content"}},$n={style:{direction:"ltr"}},jn={key:0},Dn={key:0,class:"question"},En={class:"question-order"},Pn={class:"question-text"},qn={class:"choices-wrapper"},Rn=["onClick"],Ln={class:"controls"},Bn={class:"dialog-wrapper",style:{display:"flex","align-items":"center","flex-direction":"column"}},Vn={key:0,class:"score"},Fn={key:0,class:"interaction",src:"https://i.pinimg.com/originals/56/da/ac/56daac56f90ba6cf039125586181f6ea.gif",alt:""},zn={key:1,class:"interaction",src:"https://img.freepik.com/free-vector/hand-drawn-facepalm-illustration_23-2150212662.jpg?t=st=1720110311~exp=1720113911~hmac=f9f12f7c863341a0acb15d0ec44f785e42038ebf827f157f7863f0ea96805826&w=826",alt:""},Qn={key:1,class:"answers"},Un={class:"question",style:{"min-height":"2rem"}},Hn={class:"question-order"},Wn={class:"question-text"},Zn={class:"choices-wrapper"},Gn={class:"quiz-duration"},Jn={key:0},Xn={class:"controls"},Yn=te({__name:"Quiz2",emits:["next"],setup(e){const t=le(),n=A(!0),l=A(0),i=A(0),a=A(0),f=A(0),d=A(!1),p=A(!0),r=A(0),u=ne(()=>t.params.materialId);pe(u,()=>{C()});const m=A(),C=()=>{new H("get_quiz").callApi({quiz_id:t.params.materialId}).then(v=>{var $,b,j,_,L;if(v!=null&&v.success&&(m.value=($=v==null?void 0:v.data)==null?void 0:$.quiz,(b=m.value)!=null&&b.questions))for(let q of(j=m.value)==null?void 0:j.questions){const B=A(!1),k=A(-1);q.showAnswer=B,q.selected=k}r.value=Math.floor(100/((L=(_=m.value)==null?void 0:_.questions)==null?void 0:L.length)),O()})};C(),setInterval(()=>{p.value||(i.value=i.value+1)},1e3);function D(){l.value=3;const N=setInterval(()=>{l.value==0&&(clearInterval(N),n.value=!1,I()),l.value=l.value-1},1e3)}function I(){i.value=0,p.value=!1}const T=A(!1);d.value=!1;function P(){var b,j;p.value=!0,T.value=!0;for(let _ of(b=m.value)==null?void 0:b.questions)(_==null?void 0:_.correct_answer_id)==(_==null?void 0:_.selected)&&f.value++;const N=new H("add_progress");let v=[];for(let _ of(j=m.value)==null?void 0:j.questions)(_==null?void 0:_.selected)!=-1&&v.push({question_id:_==null?void 0:_.id,choice_id:_==null?void 0:_.selected});let $={quiz_progress:{quiz_id:t.params.materialId,time_taken:i.value,created_at:new Date().toISOString(),answers:v},material_type:"Quiz"};N.callApi({progres:$,enrolment_id:t.params.enrollmentId})}function O(){var N,v,$,b;if(n.value=!0,l.value=3,a.value=0,f.value=0,d.value=!1,p.value=!0,T.value=!1,r.value=0,r.value=Math.floor(100/((v=(N=m.value)==null?void 0:N.questions)==null?void 0:v.length)),($=m.value)!=null&&$.questions)for(let j of(b=m.value)==null?void 0:b.questions)j.selected=-1;D()}function F(){var j,_;let N=10,v=r.value,$=Math.floor((a.value+1)/((_=(j=m.value)==null?void 0:j.questions)==null?void 0:_.length)*100),b=10;for(let L=0;L<=b;L++)setTimeout(()=>{r.value=Math.floor(v+($-v)/b*L)},N*L)}return(N,v)=>{var $,b,j,_,L;return c(),h("main",null,[s("div",Sn,[s("h2",null,g(o(y)(($=m.value)==null?void 0:$.title)),1),s("p",null,g(o(y)((b=m.value)==null?void 0:b.description)),1),s("div",xn,[n.value?(c(),h("div",Tn,[s("h1",An,g(o(y)(o(K).quizWillStart)),1),s("h1",Kn,g(l.value),1)])):(c(),h("div",Mn,[s("div",On,[s("span",Nn,[U(g(o(y)(o(K).yourTime))+" ",1),s("strong",$n,[U(g(Math.floor(i.value/60))+": ",1),i.value%60<10?(c(),h("strong",jn,"0")):M("",!0),U(g(i.value%60),1)])])]),(c(!0),h(V,null,Q((j=m.value)==null?void 0:j.questions,(q,B)=>(c(),h("div",{key:q},[B==a.value?(c(),h("div",Dn,[R(o(Ee),{style:{width:"75%","margin-bottom":"1rem"},value:r.value},null,8,["value"]),s("h3",En,g(o(y)(o(K).question))+" "+g(B+1),1),s("h4",Pn,g(o(y)(q==null?void 0:q.question)),1),s("div",qn,[(c(!0),h(V,null,Q(q==null?void 0:q.choices,k=>(c(),h("p",{class:S(["choice-text",{selectedChoice:m.value.questions[B].selected==k.id}]),key:k,onClick:()=>{m.value.questions[B].selected=k.id}},g(o(y)(k.choice)),11,Rn))),128))])])):M("",!0)]))),128)),s("div",Ln,[R(o(Z),{label:o(y)(o(K).prevQuestion),disabled:a.value==0,onClick:v[0]||(v[0]=()=>{a.value--,F()})},null,8,["label","disabled"]),R(o(Z),{label:o(y)(o(K).finishQuiz),onClick:P},null,8,["label"]),R(o(Z),{label:o(y)(o(K).nextQuestion),disabled:a.value+1==((L=(_=m.value)==null?void 0:_.questions)==null?void 0:L.length),onClick:v[1]||(v[1]=()=>{a.value++,F()})},null,8,["label","disabled"])])]))])]),R(o(ze),{visible:T.value,"onUpdate:visible":v[4]||(v[4]=q=>T.value=q),modal:"",class:"dialog",style:{"max-width":"75%"},pt:{root:"border-none",mask:{style:"backdrop-filter: blur(2px)"}}},{container:J(({closeCallback:q})=>{var B,k,x,re,ie,oe,se;return[s("div",Bn,[d.value?(c(),h("div",Qn,[(c(!0),h(V,null,Q((se=m.value)==null?void 0:se.questions,(W,E)=>(c(),h("div",{key:W},[s("div",Un,[s("h4",Hn,g(o(y)(o(K).question))+" "+g(E+1),1),s("h4",Wn,g(o(y)(W==null?void 0:W.question)),1),s("div",Zn,[(c(!0),h(V,null,Q(W==null?void 0:W.choices,ce=>(c(),h("p",{class:S(["choice-text",{correct:ce.id==m.value.questions[E].correct_answer_id,selectedChoice:m.value.questions[E].selected==ce.id,wrong:m.value.questions[E].selected!=m.value.questions[E].correct_answer_id&&m.value.questions[E].selected==ce.id}]),key:ce,style:{cursor:"auto"}},g(o(y)(ce.choice)),3))),128))])])]))),128))])):(c(),h("div",Vn,[s("p",null,g(o(y)(o(K).yourScore)),1),s("p",null,g(Math.floor(f.value/((k=(B=m.value)==null?void 0:B.questions)==null?void 0:k.length)*100))+"%",1),f.value/((re=(x=m.value)==null?void 0:x.questions)==null?void 0:re.length)>.9?(c(),h("img",Fn)):M("",!0),f.value/((oe=(ie=m.value)==null?void 0:ie.questions)==null?void 0:oe.length)<.5?(c(),h("img",zn)):M("",!0)])),s("div",Gn,[s("span",null,[U(g(o(y)(o(K).yourTime))+" ",1),s("strong",null,[U(g(Math.floor(i.value/60))+": ",1),i.value%60<10?(c(),h("strong",Jn,"0")):M("",!0),U(g(i.value%60),1)])])]),s("div",Xn,[R(o(Z),{label:o(y)(o(K).showAnswer),onClick:v[2]||(v[2]=W=>d.value=!0)},null,8,["label"]),R(o(Z),{label:o(y)(o(K).tryAgain),onClick:O},null,8,["label"]),R(o(Z),{label:o(y)(o(K).nextLesson),onClick:v[3]||(v[3]=W=>N.$emit("next",!0))},null,8,["label"])])])]}),_:1},8,["visible","pt"])])}}}),el=ae(Yn,[["__scopeId","data-v-6351b86f"]]),tl={class:"container"},nl={class:"sidebar"},ll={class:"wrapper"},al={class:"Button-Wrapper"},rl=te({__name:"viewCoursePage",setup(e){const t=A(),n=A(),l=le(),i=Ae();new H("get_enrollment").callApi({course_id:l.params.courseId}).then(u=>{(u==null?void 0:u.success)==!1&&i.push("/")}),(async()=>{new H("get_course").callApi({course_id:l.params.courseId}).then(m=>{var C,D,I,T;if(m!=null&&m.success){t.value=(D=(C=m==null?void 0:m.data)==null?void 0:C.course)==null?void 0:D.chapters,n.value=(T=(I=m==null?void 0:m.data)==null?void 0:I.course)==null?void 0:T.title;for(let P of t.value)for(let O=0;O<P.materials.length;O++)for(let F of Qe)P.materials[O].type===F.name&&(P.materials[O].matIcon=F.icon)}})})();const d=ne(()=>{var D;const u=A();new H("get_enrollment").callApi({course_id:l.params.courseId}).then(I=>{var T,P,O,F,N,v,$,b,j,_,L,q;if(I!=null&&I.success){u.value=(P=(T=I==null?void 0:I.data)==null?void 0:T.enrollment)==null?void 0:P.progress;for(let B of t.value)for(let k of B==null?void 0:B.materials)(F=(O=u.value)==null?void 0:O.lessons_completed)!=null&&F.some(x=>(x==null?void 0:x.lesson_id)==(k==null?void 0:k.Id))||(v=(N=u.value)==null?void 0:N.quizes_completed)!=null&&v.some(x=>(x==null?void 0:x.quiz_id)==(k==null?void 0:k.Id))||(b=($=u.value)==null?void 0:$.activities_completed)!=null&&b.some(x=>(x==null?void 0:x.activity_id)==(k==null?void 0:k.Id))||(_=(j=u.value)==null?void 0:j.simulations_completed)!=null&&_.some(x=>(x==null?void 0:x.simulation_id)==(k==null?void 0:k.Id))||(q=(L=u.value)==null?void 0:L.projects_completed)!=null&&q.some(x=>(x==null?void 0:x.project_id)==(k==null?void 0:k.Id))?k.status="Done":k.status="Unselected"}});let C=l.params.materialId;for(let I=0;I<((D=t.value)==null?void 0:D.length);I++){const T=t.value[I];for(let P=0;P<T.materials.length;P++){const O=T.materials[P];if(O.Id===C){let F=null,N=null;if(P>0)F=T.materials[P-1].Id;else if(I>0){const b=t.value[I-1];F=b.materials[b.materials.length-1].Id}if(P<T.materials.length-1)N=T.materials[P+1].Id;else if(I<t.value.length-1){const b=t.value[I+1];b.materials.length>0&&(N=b.materials[0].Id)}let v,$=!1;return O.type==="Lesson"&&(v=Bt),O.type==="Simulation"&&(v=Ut),O.type==="Project"&&(v=Jt),O.type==="Activity"&&(v=bn),O.status=="Done"&&($=!0),O.type==="Quiz"&&(v=el),{type:v,prevMaterialId:F,nextMaterialId:N,isCompleted:$}}}}return null});function p(){d.value&&d.value.prevMaterialId&&i.push(`/viewCoursePage/${l.params.courseId}/${l.params.enrollmentId}/${d.value.prevMaterialId}`)}function r(){d.value&&d.value.nextMaterialId&&i.push(`/viewCoursePage/${l.params.courseId}/${l.params.enrollmentId}/${d.value.nextMaterialId}`)}return(u,m)=>{var C,D,I,T;return c(),h("main",null,[R(Ue),s("div",tl,[s("div",nl,[R(Et,{chapters:t.value,"course-title":n.value},null,8,["chapters","course-title"])]),s("div",ll,[(c(),z(G((C=d.value)==null?void 0:C.type),{onNext:r,completed:(D=d.value)==null?void 0:D.isCompleted},null,40,["completed"])),s("div",al,[R(o(Z),{label:o(y)(o(K).prev),class:S({hide:!((I=d.value)!=null&&I.prevMaterialId)}),onClick:p},null,8,["label","class"]),R(o(Z),{label:o(y)(o(K).next),class:S({hide:!((T=d.value)!=null&&T.nextMaterialId)}),onClick:r},null,8,["label","class"])])])])])}}}),sl=ae(rl,[["__scopeId","data-v-febc3ed9"]]);export{sl as default};
