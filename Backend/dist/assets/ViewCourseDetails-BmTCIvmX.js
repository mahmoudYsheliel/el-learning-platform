import{d as O,r as f,x as Q,a as S,H as E,s as t,c as _,b as m,e as l,y as b,f as e,t as o,z as N,g as k,q as y,v as T,w as U,i as J,o as c,N as K,k as i,l as I,A as W,B as X,h as Y,F as Z,_ as ee}from"./index-hbg-z_1E.js";import{s as le,a as te}from"./accordiontab.esm-B_V5rNe3.js";import{I as se}from"./Information-DQ99FX5r.js";const oe={class:"big-container"},ae={key:0,class:"dialog"},ne={key:1,class:"dialog"},ie={class:"course-description"},re={class:"head"},ue=["src"],ce={class:"description"},de={class:"header"},pe={class:"objectives"},ve={class:"content"},_e={class:"card"},me={style:{display:"flex","justify-content":"space-between",gap:"2rem","padding-left":"2rem"}},he={style:{padding:"0",margin:"0",color:"var(--accent1)"},class:"m-0"},fe=O({__name:"ViewCourseDetails",setup(ge){const g=f(!1),F=Q(),C=S(),w=U(),x=J(),a=f(),L=new E("get_course"),$=f([]);L.callApi({course_id:w.params.courseId}).then(n=>{var s,v;a.value=(s=n==null?void 0:n.data)==null?void 0:s.course;for(let p of(v=a.value)==null?void 0:v.chapters){let r={title:"",lessonCount:0,quizCount:0,materials:[]};r.title=p==null?void 0:p.title;for(let u of p==null?void 0:p.materials)(u==null?void 0:u.type)==="Lesson"&&(r.lessonCount=r.lessonCount+1,r.materials.push({title:t(u.title),icon:"pi pi-book"})),(u==null?void 0:u.type)==="Quiz"&&(r.quizCount=r.quizCount+1,r.materials.push({title:t(u.title),icon:"pi pi-check-square"}));$.value.push(r)}});function M(){var n,s;F.getIsAuthorized||x.push("/login"),(((n=C.getInfo)==null?void 0:n.userType)=="Parent"||((s=C.getInfo)==null?void 0:s.userType)=="Child")&&(g.value=!0)}const q=f(!1),P=f();new E("get_enrollment").callApi({course_id:w.params.courseId}).then(n=>{var s;n.data.enrollment&&(q.value=!0,P.value=(s=n.data.enrollment)==null?void 0:s.id)});function H(){x.push("/childrenCourses")}function G(){var n,s,v;x.push(`/viewCoursePage/${w.params.courseId}/${P.value}/${(v=(s=(n=a.value)==null?void 0:n.chapters[0])==null?void 0:s.materials[0])==null?void 0:v.Id}`)}return(n,s)=>{var v,p,r,u,R,V,j,B,D,A;return c(),_(y,null,[m(K),l("div",oe,[m(e(W),{visible:g.value,"onUpdate:visible":s[1]||(s[1]=d=>g.value=d),modal:"",pt:{root:"border-none",mask:{style:"backdrop-filter: blur(2px)"}}},{container:b(({closeCallback:d})=>{var z,h;return[((z=e(C).getInfo)==null?void 0:z.userType)=="Parent"?(c(),_("div",ae,[l("h2",null,o(e(t)(e(i).pleaseGoToChildrenCourse)),1),l("h2",null,o(e(t)(e(i).selectChildEnroll)),1),l("h2",null,o(e(t)(e(i).selectCourse)),1),m(e(I),{label:e(t)(e(i).gotoChildCourses),style:{width:"20rem"},onClick:H},null,8,["label"])])):k("",!0),((h=e(C).getInfo)==null?void 0:h.userType)=="Child"?(c(),_("div",ne,[l("h2",null,o(e(t)(e(i).askParent)),1),m(e(I),{label:e(t)(e(i).cancell),onClick:s[0]||(s[0]=be=>g.value=!1)},null,8,["label"])])):k("",!0)]}),_:1},8,["visible","pt"]),l("div",ie,[l("div",re,[l("h1",null,o(e(t)((v=a.value)==null?void 0:v.title)),1)]),l("img",{src:(p=a.value)==null?void 0:p.image,alt:""},null,8,ue),l("div",ce,[l("div",de,[l("h2",null,o(e(t)(e(i).courseDescription)),1),q.value?k("",!0):(c(),N(e(I),{key:0,label:e(t)(e(i).enrollNow),onClick:M},null,8,["label"])),q.value?(c(),N(e(I),{key:1,label:e(t)(e(i).viewMat),onClick:G},null,8,["label"])):k("",!0)]),l("p",null,o(e(t)((r=a.value)==null?void 0:r.description)),1)]),l("div",pe,[l("h2",null,o(e(t)(e(i).courseObjectives)),1),(c(!0),_(y,null,T((u=a.value)==null?void 0:u.objectives,d=>(c(),_("p",null," - "+o(e(t)(d)),1))),256))])]),l("div",ve,[l("div",_e,[l("h2",null,o(e(t)(e(i).courseContent)),1),m(e(te),{multiple:!0,activeIndex:[]},{default:b(()=>[(c(!0),_(y,null,T($.value,(d,z)=>(c(),N(e(le),{key:d.title,pt:{root:{style:"margin-block:0.5rem; border:solid 2px var(--accent1); border-radius:1rem; padding:0.25rem"}}},{header:b(()=>[l("div",null,[l("h4",null,o(e(t)(d.title)),1),l("div",me,[l("h5",null,o(d.lessonCount)+" "+o(e(t)(e(i).lessons)),1),l("h5",null,o(d.quizCount)+" "+o(e(t)(e(i).quiz)),1)])])]),default:b(()=>[(c(!0),_(y,null,T(d.materials,h=>(c(),_("p",he,[l("i",{class:X(h.icon)},null,2),Y(" "+o(h.title),1)]))),256))]),_:2},1032,["pt"]))),128))]),_:1})]),m(se,{categories:(R=a.value)==null?void 0:R.categories,title:e(t)((V=a.value)==null?void 0:V.title),price:(j=a.value)==null?void 0:j.price,duration:(B=a.value)==null?void 0:B.duration,min_age:(D=a.value)==null?void 0:D.min_age,max_age:(A=a.value)==null?void 0:A.max_age},null,8,["categories","title","price","duration","min_age","max_age"])])]),m(Z)],64)}}}),we=ee(fe,[["__scopeId","data-v-aeb16360"]]);export{we as default};
