import{d as q,c as b,e as l,t as s,f as e,v as V,w as F,h as L,o as p,s as a,k as d,p as ae,n as ne,_ as P,z as y,C as j,i as Q,b as w,m as G,D as Z,E as ee,g as N,A as ie,a as ue,r as f,H as D,G as re,y as ce,N as de,F as pe}from"./index-DdBBpJFO.js";import{A as me,E as ve,G as he,P as _e}from"./PromoCodeDialog-DO4sWVEB.js";import{s as ge,a as fe}from"./accordiontab.esm-CB6e_Ln4.js";const W=t=>(ae("data-v-60440cbd"),t=t(),ne(),t),we={class:"container"},be={class:"wrapper"},Ie={class:"wrapper"},Ce={class:"wrapper"},De=W(()=>l("i",{class:"pi pi-clock"},null,-1)),ke={class:"wrapper"},$e=W(()=>l("i",{class:"pi pi-angle-double-up"},null,-1)),ye={class:"wrapper"},qe=W(()=>l("i",{class:"pi pi-dollar"},null,-1)),Pe=q({__name:"Information",props:["title","price","categories","min_age","max_age","duration"],setup(t){return(C,_)=>(p(),b("main",null,[l("div",we,[l("h2",null,s(e(a)(e(d).courseInfo)),1),l("div",be,[l("h4",null,s(e(a)(e(d).title)),1),l("p",null,s(t.title),1)]),l("div",Ie,[l("h4",null,s(e(a)(e(d).categories)),1),(p(!0),b(V,null,F(t.categories,n=>(p(),b("p",null,s(e(a)(n.title)),1))),256))]),l("div",Ce,[l("h4",null,[L(s(e(a)(e(d).duration)),1),De]),l("p",null,s(t.duration)+" "+s(e(a)(e(d).days)),1)]),l("div",ke,[l("h4",null,[L(s(e(a)(e(d).age)),1),$e]),l("p",null,s(t.min_age)+" - "+s(t.max_age)+" "+s(e(a)(e(d).years)),1)]),l("div",ye,[l("h4",null,[L(s(e(a)(e(d).price)),1),qe]),l("p",null,s(t.price)+" L.E",1)])])]))}}),xe=P(Pe,[["__scopeId","data-v-60440cbd"]]),Ee={class:"dialog"},Be=q({__name:"CourseBelongsToPlanDialog",props:["showDialog","planId","childId"],setup(t){const C=Q(),_=t;return(n,h)=>(p(),y(e(Z),{visible:_.showDialog,"onUpdate:visible":h[1]||(h[1]=u=>_.showDialog=u),modal:"",pt:{root:"border-none",mask:{style:"backdrop-filter: blur(2px)"}}},{container:j(({closeCallback:u})=>[l("div",Ee,[l("h2",null,s(e(a)(e(d).courseBelongsToPlan)),1),w(e(G),{label:e(a)(e(d).viewPlans),style:{width:"10rem"},onClick:h[0]||(h[0]=x=>e(C).push(`/plan/${t.planId}/${t.childId}`))},null,8,["label"])])]),_:1},8,["visible","pt"]))}}),Ae=P(Be,[["__scopeId","data-v-004f4601"]]),Se={class:"course-description"},Re={class:"head"},Te=["src"],ze={class:"description"},Me={class:"header"},Ne={key:2,style:{color:"#f33"}},je={key:0,class:"objectives"},Ve=q({__name:"CourseDescribtion",props:["course","isEnrolled","notShowButton"],emits:["enroll","viewMaterial"],setup(t,{emit:C}){return(_,n)=>{var h,u,x,k,E,$,B,A,S;return p(),b("div",Se,[l("div",Re,[l("h1",null,s(e(a)((h=t.course)==null?void 0:h.title)),1)]),l("img",{src:(u=t.course)==null?void 0:u.image,alt:"",class:ee({locked:(x=t.course)==null?void 0:x.is_locked})},null,10,Te),l("div",ze,[l("div",Me,[l("h2",null,s(e(a)(e(d).courseDescription)),1),!t.isEnrolled&&!t.notShowButton&&!((k=t.course)!=null&&k.is_locked)?(p(),y(e(G),{key:0,label:e(a)(e(d).enrollNow),onClick:n[0]||(n[0]=()=>{_.$emit("enroll")})},null,8,["label"])):N("",!0),t.isEnrolled&&!t.notShowButton&&!((E=t.course)!=null&&E.is_locked)?(p(),y(e(G),{key:1,label:e(a)(e(d).viewMat),onClick:n[1]||(n[1]=()=>{_.$emit("viewMaterial")})},null,8,["label"])):N("",!0),($=t.course)!=null&&$.is_locked?(p(),b("p",Ne,s(e(a)(e(d).locked)),1)):N("",!0)]),l("p",null,s(e(a)((B=t.course)==null?void 0:B.description)),1)]),((A=t.course)==null?void 0:A.objectives)>0?(p(),b("div",je,[l("h2",null,s(e(a)(e(d).courseObjectives)),1),l("ul",null,[(p(!0),b(V,null,F((S=t.course)==null?void 0:S.objectives,R=>(p(),b("li",null,s(e(a)(R)),1))),256))])])):N("",!0)])}}}),Le=P(Ve,[["__scopeId","data-v-890b8da2"]]),Fe={class:"card"},Ge={style:{display:"flex","justify-content":"space-between",gap:"2rem","padding-left":"2rem"}},He={style:{padding:"0","margin-block":"0.35rem",color:"var(--accent1)"},class:"m-0"},Ue=q({__name:"CourseMaterial",props:["chapters"],setup(t){return(C,_)=>(p(),b("div",Fe,[l("h2",null,s(e(a)(e(d).courseContent)),1),w(e(fe),{multiple:!0,activeIndex:[]},{default:j(()=>[(p(!0),b(V,null,F(t.chapters,(n,h)=>(p(),y(e(ge),{key:n.title,pt:{root:{style:"margin-block:0.5rem; border:solid 2px var(--accent1); border-radius:1rem; padding:0.25rem"}}},{header:j(()=>[l("div",null,[l("h4",null,s(e(a)(n.title)),1),l("div",Ge,[l("h5",null,s(n.lessonCount)+" "+s(e(a)(e(d).lessons)),1),l("h5",null,s(n.quizCount)+" "+s(e(a)(e(d).quiz)),1)])])]),default:j(()=>[(p(!0),b(V,null,F(n.materials,u=>(p(),b("p",He,[l("i",{class:ee(u.icon)},null,2),L(" "+s(u.title),1)]))),256))]),_:2},1032,["pt"]))),128))]),_:1})]))}}),Oe=P(Ue,[["__scopeId","data-v-a8a1bf79"]]),Qe={class:"dialog"},We=q({__name:"PrequisiteDialog",props:["showDialog","course"],emits:["removeDialog"],setup(t,{emit:C}){Q();const _=t;return(n,h)=>(p(),y(e(Z),{visible:_.showDialog,"onUpdate:visible":h[1]||(h[1]=u=>_.showDialog=u),modal:"",pt:{root:"border-none",mask:{style:"backdrop-filter: blur(2px)"}}},{container:j(({closeCallback:u})=>[l("div",Qe,[l("h2",null,s(e(a)(e(d).courseHasPrequisite))+" "+s(t.course),1),w(e(G),{label:e(a)(e(d).cancell),onClick:h[0]||(h[0]=()=>{n.$emit("removeDialog")})},null,8,["label"])])]),_:1},8,["visible","pt"]))}}),Je=P(We,[["__scopeId","data-v-b41bb835"]]),Ke={class:"big-container"},Xe={class:"content"},Ye=q({__name:"courseDetails",setup(t){const C=ie(),_=ue(),n=ce(),h=Q(),u=f(),x=new D("get_course"),k=f([]);x.callApi({course_id:n.params.courseId}).then(r=>{var c,m;u.value=(c=r==null?void 0:r.data)==null?void 0:c.course;for(let i of(m=u.value)==null?void 0:m.chapters){let v={title:"",lessonCount:0,quizCount:0,materials:[]};v.title=i==null?void 0:i.title;for(let o of i==null?void 0:i.materials){for(let g of re)(o==null?void 0:o.type)==g.name&&v.materials.push({title:a(o.title),icon:g.icon});(o==null?void 0:o.type)==="Lesson"&&(v.lessonCount=v.lessonCount+1),(o==null?void 0:o.type)==="Quiz"&&(v.quizCount=v.quizCount+1)}k.value.push(v)}});const E=f(),$=f(!1),B=f(!1),A=f(!1),S=f(!1),R=f(!1),J=f(),H=f(!1);function le(){var r,c,m,i;C.getIsAuthorized?((r=_.getInfo)==null?void 0:r.userType)=="Child"?$.value=!0:((c=_.getInfo)==null?void 0:c.userType)=="Parent"&&(((m=n.params)==null?void 0:m.childId)=="0"?S.value=!0:new D("get_course_plan").callApi({course_id:(i=n.params)==null?void 0:i.courseId}).then(o=>{var g,I;(o==null?void 0:o.success)==!1?R.value=!0:(o==null?void 0:o.success)==!0&&(A.value=!0,J.value=(I=(g=o==null?void 0:o.data)==null?void 0:g.plan)==null?void 0:I.id)})):h.push("/login")}function oe(r){var m;R.value=!1,new D("request_enrollment").callApi({request:{student_id:n.params.childId,course_id:(m=u.value)==null?void 0:m.id,promo_code:r}}).then(i=>{var v,o;i!=null&&i.success&&(E.value=(o=(v=i==null?void 0:i.data)==null?void 0:v.request)==null?void 0:o.price,B.value=!0)})}const K=f(!1),X=f();new D("get_enrollment").callApi({course_id:n.params.courseId}).then(r=>{var c,m,i;(c=r==null?void 0:r.data)!=null&&c.enrollment&&(K.value=!0,X.value=(i=(m=r==null?void 0:r.data)==null?void 0:m.enrollment)==null?void 0:i.id)});const U=f(""),Y=f(""),te=new D("get_course_plan");function se(){te.callApi({course_id:n.params.courseId}).then(r=>{var m,i,v;let c=(i=(m=r==null?void 0:r.data)==null?void 0:m.plan)==null?void 0:i.courses;U.value=(v=c==null?void 0:c.find(o=>(o==null?void 0:o.Id)==n.params.courseId))==null?void 0:v.ristriction_on_course,new D("get_course").callApi({course_id:U.value||""}).then(o=>{var g,I;Y.value=a((I=(g=o==null?void 0:o.data)==null?void 0:g.course)==null?void 0:I.title)||""}),new D("get_enrollment").callApi({course_id:U.value||""}).then(o=>{var g,I,T,z,M;((I=(g=o==null?void 0:o.data)==null?void 0:g.enrollment)==null?void 0:I.is_completed)==!1?H.value=!0:h.push(`/viewCoursePage/${n.params.courseId}/${X.value}/${(M=(z=(T=u.value)==null?void 0:T.chapters[0])==null?void 0:z.materials[0])==null?void 0:M.Id}`)})})}return(r,c)=>{var m,i,v,o,g,I,T,z,M;return p(),b(V,null,[w(de),l("div",Ke,[w(me,{showDialog:$.value,onRemoveDialog:c[0]||(c[0]=O=>{$.value=!1})},null,8,["showDialog"]),w(Je,{course:Y.value,"show-dialog":H.value,onRemoveDialog:c[1]||(c[1]=O=>H.value=!1)},null,8,["course","show-dialog"]),w(ve,{showDialog:B.value,cost:E.value},null,8,["showDialog","cost"]),w(he,{showDialog:S.value},null,8,["showDialog"]),w(Ae,{showDialog:A.value,planId:J.value,childId:(m=e(n).params)==null?void 0:m.childId},null,8,["showDialog","planId","childId"]),w(_e,{showDialog:R.value,onPromoCode:c[2]||(c[2]=O=>{oe(O)})},null,8,["showDialog"]),w(Le,{course:u.value,isEnrolled:K.value,notShowButton:((i=e(_).getInfo)==null?void 0:i.userType)=="Parent"&&e(n).params.isEnrolled=="1",onEnroll:le,onViewMaterial:se},null,8,["course","isEnrolled","notShowButton"]),l("div",Xe,[((v=k.value)==null?void 0:v.length)>0?(p(),y(Oe,{key:0,chapters:k.value},null,8,["chapters"])):N("",!0),w(xe,{categories:(o=u.value)==null?void 0:o.categories,title:e(a)((g=u.value)==null?void 0:g.title),price:(I=u.value)==null?void 0:I.price,duration:(T=u.value)==null?void 0:T.duration,min_age:(z=u.value)==null?void 0:z.min_age,max_age:(M=u.value)==null?void 0:M.max_age},null,8,["categories","title","price","duration","min_age","max_age"])])]),w(pe)],64)}}}),tl=P(Ye,[["__scopeId","data-v-c6dbe643"]]);export{tl as default};
