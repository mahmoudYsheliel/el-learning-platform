import{C as P}from"./ChildSidebar-CiZhbHPI.js";import{d as H,i as G,y as J,r as u,H as m,x as L,s as k,o as n,c,e as o,g as q,b as f,B as O,t as R,ag as T,f as r,k as N,m as K,_ as S,v as E,w as V,N as Q,z as U,F as W}from"./index-BJdoJiJr.js";const X={class:"container"},Y={key:0,class:"first"},Z={key:0,class:"last"},j=["src"],ee=H({__name:"ChildCourseCard",props:["courseId"],setup(b){const v=b,h=G(),I=J(),C=u();new m("get_course").callApi({course_id:v.courseId}).then(a=>{var e;return C.value=(e=a==null?void 0:a.data)==null?void 0:e.course});const i=L(()=>{var a,e;return(a=I.params)!=null&&a.isEnrolled?(e=I.params)==null?void 0:e.isEnrolled:0}),l=L(()=>{var a,e;return(a=I.params)!=null&&a.childId?(e=I.params)==null?void 0:e.childId:0}),p=u(!1),M=u(!1),z=u(!1),y=u(""),A=u(""),B=u(""),x=u("");return new m("get_course_plan").callApi({course_id:v.courseId}).then(a=>{var w,$,g,F;let e=($=(w=a==null?void 0:a.data)==null?void 0:w.plan)==null?void 0:$.courses;y.value=(g=e==null?void 0:e.find(s=>(s==null?void 0:s.Id)==v.courseId))==null?void 0:g.ristriction_on_course,B.value=(F=e==null?void 0:e.find(s=>(s==null?void 0:s.ristriction_on_course)==v.courseId))==null?void 0:F.Id,B.value&&new m("get_course").callApi({course_id:B.value}).then(s=>{var d,_;x.value=k((_=(d=s==null?void 0:s.data)==null?void 0:d.course)==null?void 0:_.title)||""}),y.value&&(new m("get_course").callApi({course_id:y.value}).then(s=>{var d,_;A.value=k((_=(d=s==null?void 0:s.data)==null?void 0:d.course)==null?void 0:_.title)||""}),new m("get_enrollment").callApi({course_id:y.value}).then(s=>{var d,_;z.value=!((_=(d=s==null?void 0:s.data)==null?void 0:d.enrollment)!=null&&_.is_completed)}))}),(a,e)=>{var w,$;return n(),c("main",null,[o("div",X,[A.value?(n(),c("i",{key:0,onMousemove:e[0]||(e[0]=g=>p.value=!0),onMouseleave:e[1]||(e[1]=g=>p.value=!1),class:"pi pi-lock first"},null,32)):q("",!0),f(T,{name:"fade",appear:""},{default:O(()=>[A.value&&p.value?(n(),c("p",Y,R(A.value),1)):q("",!0)]),_:1}),x.value?(n(),c("i",{key:1,onMousemove:e[2]||(e[2]=g=>M.value=!0),onMouseleave:e[3]||(e[3]=g=>M.value=!1),class:"pi pi-key last"},null,32)):q("",!0),f(T,{name:"fade"},{default:O(()=>[x.value&&M.value?(n(),c("p",Z,R(x.value),1)):q("",!0)]),_:1}),o("img",{src:(w=C.value)==null?void 0:w.image,alt:""},null,8,j),o("h2",null,R(r(k)(($=C.value)==null?void 0:$.title)),1),f(r(K),{onClick:e[4]||(e[4]=()=>{r(h).push(`/courseDetails/${v.courseId}/${l.value}/${i.value}`)}),label:r(k)(r(N).learnMore)},null,8,["label"])])])}}}),D=S(ee,[["__scopeId","data-v-16e551ca"]]),se={class:"container"},te={class:"wrapper"},le={class:"courses"},ae={class:"child-courses"},oe={class:"enrolled-courses"},ne={class:"course-container"},ue={class:"availavle-courses"},ce={class:"unenrolled-courses"},re={class:"course-container"},ie=H({__name:"childCourses",setup(b){const v=new m("get_enrollments"),h=u();v.callApi().then(t=>{var i,l;(i=t==null?void 0:t.data)!=null&&i.enrollments&&(h.value=(l=t==null?void 0:t.data)==null?void 0:l.enrollments)});const I=new m("get_courses"),C=u([]);return I.callApi().then(t=>{var i,l;(i=t==null?void 0:t.data)!=null&&i.courses&&(C.value=(l=t==null?void 0:t.data)==null?void 0:l.courses)}),(t,i)=>(n(),c(E,null,[f(Q),o("div",se,[f(P,{class:"sidebar",selected:"home"}),o("div",te,[o("div",le,[o("div",ae,[o("h1",null,R(r(k)(r(N).enrolledCourses)),1),o("div",oe,[(n(!0),c(E,null,V(h.value,l=>(n(),c("div",ne,[f(D,{class:"card",courseId:l.course_id},null,8,["courseId"])]))),256))])]),o("div",ue,[o("h1",null,R(r(k)(r(N).canEnroll)),1),o("div",ce,[(n(!0),c(E,null,V(C.value,l=>(n(),c("div",re,[!h.value||!h.value.some(p=>(p==null?void 0:p.course_id)==(l==null?void 0:l.id))?(n(),U(D,{key:0,class:"card",courseId:l.id},null,8,["courseId"])):q("",!0)]))),256))])])])])]),f(W)],64))}}),pe=S(ie,[["__scopeId","data-v-6b476d23"]]);export{pe as default};
