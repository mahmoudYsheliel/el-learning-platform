import{_ as G}from"./login-HlRQAw4O.js";import{d as H,u as O,a as P,r as b,H as V,c as C,b as u,e as n,t as p,f as t,g as T,h as j,i as z,j as U,o as L,N as J,s,k as c,l as K,m as Q,F as W,p as X,n as Y,q as Z,_ as oo}from"./index-B2gcwgY1.js";import{s as ao}from"./password.esm-S6jWZIMS.js";const to=N=>(X("data-v-87da13fd"),N=N(),Y(),N),no={class:"container"},eo=to(()=>n("div",{class:"left borderRigth"},[n("img",{src:G,alt:""})],-1)),lo={class:"right"},io={class:"welcome"},so={class:"google-facebook-wrapper"},co={key:0},uo={key:1},po={class:"wrapper"},fo={class:"button"},mo={style:{"margin-left":"5rem"}},_o=H({__name:"LoginPage",setup(N){O();const w=z(),$=P(),r=b(),y=b(),x=b(!1),R=b(!1),D=new V("token");function E(){!r.value||!y.value?x.value=!0:D.login(r.value,y.value).then(l=>{console.log(l),(l==null?void 0:l.msg)=="no such user"?R.value=!0:l!=null&&l.access_token&&new V("personal_info").callApi().then(o=>{var d,i,q,a,f,m,_,g,h,v,k,I;o!=null&&o.success&&($.addInfo({userType:(i=(d=o==null?void 0:o.data)==null?void 0:d.info)==null?void 0:i.user_type,notifications:(a=(q=o==null?void 0:o.data)==null?void 0:q.info)==null?void 0:a.notifications,id:(m=(f=o==null?void 0:o.data)==null?void 0:f.info)==null?void 0:m.id,firstName:(g=(_=o==null?void 0:o.data)==null?void 0:_.info)==null?void 0:g.first_name,lastName:(v=(h=o==null?void 0:o.data)==null?void 0:h.info)==null?void 0:v.last_name,email:(I=(k=o==null?void 0:o.data)==null?void 0:k.info)==null?void 0:I.email}),w.push("/"))})})}const F=l=>{const e=Z(l.credential);if(e.email_verified,e.email_verified){const o=new V("token"),d=P();o.login(e.email,"mahmoud2000").then(i=>{i.msg=="no such user"?R.value=!0:i.access_token&&new V("personal_info").callApi().then(a=>{var f,m,_,g,h,v,k,I,S,B,A,M;a!=null&&a.success&&(d.addInfo({userType:(m=(f=a==null?void 0:a.data)==null?void 0:f.info)==null?void 0:m.user_type,notifications:(g=(_=a==null?void 0:a.data)==null?void 0:_.info)==null?void 0:g.notifications,id:(v=(h=a==null?void 0:a.data)==null?void 0:h.info)==null?void 0:v.id,firstName:(I=(k=a==null?void 0:a.data)==null?void 0:k.info)==null?void 0:I.first_name,lastName:(B=(S=a==null?void 0:a.data)==null?void 0:S.info)==null?void 0:B.last_name,email:(M=(A=a==null?void 0:a.data)==null?void 0:A.info)==null?void 0:M.email}),w.push("/"))})})}};return(l,e)=>{const o=U("Options"),d=U("GoogleLogin");return L(),C("main",null,[u(J),u(o),n("div",no,[eo,n("div",lo,[n("div",io,[n("h1",null,p(t(s)(t(c).welcomeBack)),1),n("h1",null,p(t(s)(t(c).traceCommunity)),1)]),n("div",so,[u(d,{callback:F})]),x.value?(L(),C("h4",co,p(t(s)(t(c).dataMissing)),1)):T("",!0),R.value?(L(),C("h4",uo,p(t(s)(t(c).userNotExist)),1)):T("",!0),n("div",po,[u(t(K),{type:"email",class:"input",modelValue:r.value,"onUpdate:modelValue":e[0]||(e[0]=i=>r.value=i),placeholder:t(s)(t(c).email)},null,8,["modelValue","placeholder"]),u(t(ao),{class:"input",modelValue:y.value,"onUpdate:modelValue":e[1]||(e[1]=i=>y.value=i),feedback:!1,toggleMask:"",placeholder:t(s)(t(c).pass)},null,8,["modelValue","placeholder"])]),n("div",fo,[u(t(Q),{onClick:E,label:t(s)(t(c).login)},null,8,["label"])]),n("p",mo,[j(p(t(s)(t(c).noAccount)),1),n("strong",{onClick:e[2]||(e[2]=i=>t(w).push("/signup")),style:{cursor:"pointer"}},p(t(s)(t(c).signup)),1)])])]),u(W)])}}}),ko=oo(_o,[["__scopeId","data-v-87da13fd"]]);export{ko as default};
