import{P as N}from"./ParentSidebar-BSpEVs_g.js";import{d as q,i as S,r as h,H as m,o,c as n,e as s,t as v,f as r,s as f,b as i,k as $,l as b,_ as R,w as y,q as I,v as E,g as w,h as A,y as B,N as P,F as V}from"./index-DxsqX4w4.js";import{S as F}from"./SelectChild-CBZGE2G1.js";import"./dropdown.esm-CkYr2mmB.js";import"./index.esm-Bx6W2V1D.js";const D={class:"container"},H=["src"],L=q({__name:"ParentCourseCard",props:["programId","childId","isEnrolled"],setup(d){const t=d,u=S(),l=h();return new m("get_course").callApi({course_id:t.programId}).then(_=>l.value=_.data.course),(_,g)=>{var a,c;return o(),n("main",null,[s("div",D,[s("img",{src:(a=l.value)==null?void 0:a.image,alt:""},null,8,H),s("h2",null,v(r(f)((c=l.value)==null?void 0:c.title)),1),i(r(b),{onClick:g[0]||(g[0]=()=>{r(u).push(`/courseDetails/${t.programId}/${t.childId}/${t.isEnrolled}`)}),label:r(f)(r($).learnMore)},null,8,["label"])])])}}}),x=R(L,[["__scopeId","data-v-d9977d1f"]]),M={key:0,class:"courses"},T={class:"child-courses"},z={class:"enrolled-courses"},G={class:"course-container"},J={class:"availavle-courses"},K={class:"unenrolled-courses"},O={class:"course-container"},Q=q({__name:"ChildCourses",props:["childId"],setup(d){const t=d,u=h([]),l=h(),p=y(()=>{l.value=null,new m("get_courses").callApi().then(e=>{e.data.courses&&(u.value=e.data.courses)});const c=new m("get_child_enrollments");return t.childId&&c.callApi({child_id:t.childId}).then(e=>{e.data.enrollments&&(l.value=e.data.enrollments)}),null}),_=h();return new m("get_all_plans").callApi().then(a=>{var c;a.success&&(_.value=(c=a==null?void 0:a.data)==null?void 0:c.plans,console.log(_.value))}),(a,c)=>(o(),n(I,null,[d.childId?(o(),n("div",M,[s("div",T,[s("h1",null,v(r(f)(r($).enrolledCourses)),1),s("div",z,[(o(!0),n(I,null,E(l.value,e=>(o(),n("div",G,[i(x,{class:"card",isEnrolled:1,programId:e.course_id,childId:d.childId},null,8,["programId","childId"])]))),256))])]),s("div",J,[s("h1",null,v(r(f)(r($).canEnroll)),1),s("div",K,[(o(!0),n(I,null,E(u.value,e=>{var k;return o(),n("div",O,[(k=l.value)!=null&&k.some(C=>(C==null?void 0:C.course_id)==(e==null?void 0:e.id))?w("",!0):(o(),B(x,{key:0,class:"card",isEnrolled:0,programId:e.id,childId:d.childId},null,8,["programId","childId"]))])}),256))])])])):w("",!0),A(" "+v(p.value),1)],64))}}),U=R(Q,[["__scopeId","data-v-2fec2efa"]]),W={class:"container"},X={class:"wrapper"},Y={class:"select-child"},Z=q({__name:"childrenCourses",setup(d){const t=h(null);return(u,l)=>(o(),n(I,null,[i(P),s("div",W,[i(N,{class:"sidebar",selected:"childCourses"}),s("div",X,[s("div",Y,[i(F,{onSelectedChild:l[0]||(l[0]=p=>t.value=p)}),i(U,{childId:t.value},null,8,["childId"])])])]),i(V)],64))}}),ae=R(Z,[["__scopeId","data-v-301972bc"]]);export{ae as default};
