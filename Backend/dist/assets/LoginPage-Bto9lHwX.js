import{s as A,_ as M}from"./password.esm-q74buaoS.js";import{d as P,u as T,a as N,r as m,H as g,c as I,b as c,e as a,t as u,f as e,g as C,h as U,i as $,j as D,o as b,N as E,O as F,s as l,k as i,l as G,m as H,F as O,p as j,n as z,q as J,_ as K}from"./index-CuT-hcow.js";const Q=r=>(j("data-v-0ba57f12"),r=r(),z(),r),W={class:"container"},X=Q(()=>a("div",{class:"left borderRigth"},[a("img",{src:M,alt:""})],-1)),Y={class:"right"},Z={class:"welcome"},ee={class:"google-facebook-wrapper"},oe={key:0},se={key:1},ae={class:"wrapper"},te={class:"button"},ne={style:{"margin-left":"5rem"}},le=P({__name:"LoginPage",setup(r){T();const h=$(),L=N(),f=m(),_=m(),y=m(!1),v=m(!1),x=new g("token");function S(){!f.value||!_.value?y.value=!0:x.login(f.value,_.value).then(p=>{p.msg=="no such user"?v.value=!0:p.access_token&&new g("personal_info").callApi().then(o=>{var n,d,k,s;o!=null&&o.success&&(L.addInfo({userType:(d=(n=o==null?void 0:o.data)==null?void 0:n.info)==null?void 0:d.user_type,notifications:(s=(k=o==null?void 0:o.data)==null?void 0:k.info)==null?void 0:s.notifications}),h.push("/"))})})}const B=p=>{const t=J(p.credential);if(t.email_verified,t.email_verified){const o=new g("token"),n=N();o.login(t.email,"mahmoud2000").then(d=>{d.msg=="no such user"?v.value=!0:d.access_token&&new g("personal_info").callApi().then(s=>{var V,w,R,q;s!=null&&s.success&&(n.addInfo({userType:(w=(V=s==null?void 0:s.data)==null?void 0:V.info)==null?void 0:w.user_type,notifications:(q=(R=s==null?void 0:s.data)==null?void 0:R.info)==null?void 0:q.notifications}),h.push("/"))})})}};return(p,t)=>{const o=D("GoogleLogin");return b(),I("main",null,[c(E),c(F),a("div",W,[X,a("div",Y,[a("div",Z,[a("h1",null,u(e(l)(e(i).welcomeBack)),1),a("h1",null,u(e(l)(e(i).traceCommunity)),1)]),a("div",ee,[c(o,{callback:B})]),y.value?(b(),I("h4",oe,u(e(l)(e(i).dataMissing)),1)):C("",!0),v.value?(b(),I("h4",se,u(e(l)(e(i).userNotExist)),1)):C("",!0),a("div",ae,[c(e(G),{type:"email",class:"input",modelValue:f.value,"onUpdate:modelValue":t[0]||(t[0]=n=>f.value=n),placeholder:e(l)(e(i).email)},null,8,["modelValue","placeholder"]),c(e(A),{class:"input",modelValue:_.value,"onUpdate:modelValue":t[1]||(t[1]=n=>_.value=n),feedback:!1,toggleMask:"",placeholder:e(l)(e(i).pass)},null,8,["modelValue","placeholder"])]),a("div",te,[c(e(H),{onClick:S,label:e(l)(e(i).login)},null,8,["label"])]),a("p",ne,[U(u(e(l)(e(i).noAccount)),1),a("strong",{onClick:t[2]||(t[2]=n=>e(h).push("/signup")),style:{cursor:"pointer"}},u(e(l)(e(i).signup)),1)])])]),c(O)])}}}),ue=K(le,[["__scopeId","data-v-0ba57f12"]]);export{ue as default};
