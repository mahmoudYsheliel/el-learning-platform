import{A as B}from"./AdminSidebar-BfG3WRD5.js";import{d as A,r as p,I as F,D as M,f as c,i as D,o as v,e as s,c as g,t as y,g as P,b as n,l as R,m as b,K as U,H as x,_ as S,w as C,x as q,N as E,F as H,p as T,n as K}from"./index-tg6glzju.js";import{s as V}from"./password.esm-DXhTN276.js";const L={class:"dialog"},O={key:0,style:{color:"red"}},j={class:"wrapper"},z={class:"wrapper"},G={class:"btn-container"},J=A({__name:"AddInstructorDialog",props:["showDialog"],emits:["cancel"],setup(r,{emit:w}){const _=D(),I=r,m=w,e=p(),a=p(),o=p(),l=p("");function f(){m("cancel")}function h(){if(!e.value||!o.value||!a.value)l.value="Some Fields are Missing",setTimeout(()=>{l.value=""},5e3);else if(o.value!=a.value)l.value="Passwords are Different",setTimeout(()=>{l.value=""},5e3);else{let d={user:{email:e.value,hashed_pass:a.value,user_type:"Instructor"}};new x("signup").callApi(d).then(t=>{var u;(t==null?void 0:t.success)==!1&&(l.value=t==null?void 0:t.msg),t!=null&&t.success&&_.push(`/editInstructor/${(u=t==null?void 0:t.data)==null?void 0:u.user_id}`)})}}return(d,t)=>(v(),F(c(U),{visible:I.showDialog,"onUpdate:visible":t[3]||(t[3]=u=>I.showDialog=u),modal:"",pt:{root:"border-none",mask:{style:"backdrop-filter: blur(2px)"}}},{container:M(({closeCallback:u})=>[s("div",L,[l.value?(v(),g("h3",O,y(l.value),1)):P("",!0),s("div",j,[s("div",z,[n(c(R),{type:"email",class:"input",modelValue:e.value,"onUpdate:modelValue":t[0]||(t[0]=i=>e.value=i),placeholder:"Email"},null,8,["modelValue"]),n(c(V),{class:"input",modelValue:a.value,"onUpdate:modelValue":t[1]||(t[1]=i=>a.value=i),feedback:!1,toggleMask:"",placeholder:"Password"},null,8,["modelValue"]),n(c(V),{class:"input",modelValue:o.value,"onUpdate:modelValue":t[2]||(t[2]=i=>o.value=i),feedback:!1,toggleMask:"",placeholder:"Consirm Password"},null,8,["modelValue"])])]),s("div",G,[n(c(b),{label:"Add Instructor",style:{width:"10rem"},onClick:h}),n(c(b),{label:"Cancel",style:{width:"10rem","background-color":"red"},onClick:f})])])]),_:1},8,["visible","pt"]))}}),Q=S(J,[["__scopeId","data-v-bb746f40"]]),N=r=>(T("data-v-8aea6904"),r=r(),K(),r),W={class:"container"},X={class:"wrapper"},Y={class:"top-option"},Z=N(()=>s("h2",null,"Instructors",-1)),tt={class:"table"},et=N(()=>s("div",{class:"row"},[s("h3",{class:"element"},"Email"),s("h3",{class:"element"},"Options")],-1)),st={class:"row"},at={class:"element"},ot={class:"element btnContainer"},lt=A({__name:"manageInstructors",setup(r){const w=D(),_=p([]);new x("get_instructors").callApi({}).then(e=>{var a,o,l,f,h;if(e.success)for(let d=0;d<((o=(a=e==null?void 0:e.data)==null?void 0:a.instructors)==null?void 0:o.length);d++){let t=(f=(l=e==null?void 0:e.data)==null?void 0:l.users)==null?void 0:f.find(i=>{var k,$;return(i==null?void 0:i.id)==(($=(k=e==null?void 0:e.data)==null?void 0:k.instructors[d])==null?void 0:$.user_id)}),u=(h=e==null?void 0:e.data)==null?void 0:h.instructors[d];_.value.push({...t,...u})}});const m=p(!1);return(e,a)=>(v(),g(C,null,[n(Q,{"show-dialog":m.value,onCancel:a[0]||(a[0]=o=>m.value=!1)},null,8,["show-dialog"]),n(E),s("div",W,[n(B,{class:"sidebar",selected:"Manage Instructors"}),s("div",X,[s("div",Y,[Z,n(c(b),{label:"Add Instructor",icon:"pi pi-plus-circle","icon-pos":"right",onClick:a[1]||(a[1]=o=>m.value=!0)})]),s("div",tt,[et,(v(!0),g(C,null,q(_.value,o=>(v(),g("div",st,[s("p",at,y(o.email),1),s("div",ot,[n(c(b),{label:"View",onClick:l=>c(w).push(`/editInstructor/${o.id}`)},null,8,["onClick"])])]))),256))])])]),n(H)],64))}}),dt=S(lt,[["__scopeId","data-v-8aea6904"]]);export{dt as default};
