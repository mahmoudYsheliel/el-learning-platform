import{s as C,_ as M}from"./password.esm-BGwrvV-g.js";import{d as S,r as u,H as k,c as f,b as n,e as a,t as i,f as e,g as y,h as T,i as L,j as U,o as _,N as $,O as D,s as o,k as l,l as E,F,p as G,m as H,n as O,a as j,_ as z}from"./index-DCiEO1RF.js";import{s as J}from"./inputtext.esm-Cij7q3me.js";const K=c=>(G("data-v-f208fc25"),c=c(),H(),c),Q={class:"container"},W=K(()=>a("div",{class:"left borderRigth"},[a("img",{src:M,alt:""})],-1)),X={class:"right"},Y={class:"welcome"},Z={class:"google-facebook-wrapper"},ee={key:0},se={key:1},ae={key:2},oe={class:"wrapper"},le={class:"button"},te={style:{"margin-left":"5rem"}},ne=S({__name:"signupPage",setup(c){const g=L(),d=u(),r=u(),p=u(),V=u(!1),b=u(!1),h=u(!1),I=new k("signup");function N(){if(!d.value||!r.value||!p.value)V.value=!0;else if(r.value!=p.value)b.value=!0;else{let m={user:{email:d.value,hashed_pass:r.value,user_type:"Parent"}};I.callApi(m).then(s=>{s.msg=="email is already used once"?h.value=!0:s.success==!0&&g.push("/login")})}}const q=m=>{const s=O(m.credential);if(s.email_verified){let v={user:{email:s.email,hashed_pass:"mahmoud2000",user_type:"Parent"}};I.callApi(v).then(t=>{if(t.msg=="email is already used once")h.value=!0;else if(t.success==!0){const x=new k("token"),A=j();x.login(s.email,"mahmoud2000").then(B=>{B.access_token&&new k("personal_info").callApi().then(w=>{var P,R;w.success&&(A.addInfo({userType:(R=(P=w.data)==null?void 0:P.info)==null?void 0:R.user_type,notifications:[]}),g.push("/"))})})}})}};return(m,s)=>{const v=U("GoogleLogin");return _(),f("main",null,[n($),n(D),a("div",Q,[W,a("div",X,[a("div",Y,[a("h1",null,i(e(o)(e(l).welcomeBack)),1),a("h1",null,i(e(o)(e(l).traceCommunity)),1)]),a("div",Z,[n(v,{callback:q})]),V.value?(_(),f("h4",ee,i(e(o)(e(l).dataMissing)),1)):y("",!0),b.value?(_(),f("h4",se,i(e(o)(e(l).diffPass)),1)):y("",!0),h.value?(_(),f("h4",ae,i(e(o)(e(l).emailTaken)),1)):y("",!0),a("div",oe,[n(e(J),{type:"email",class:"input",modelValue:d.value,"onUpdate:modelValue":s[0]||(s[0]=t=>d.value=t),placeholder:e(o)(e(l).email)},null,8,["modelValue","placeholder"]),n(e(C),{class:"input",modelValue:r.value,"onUpdate:modelValue":s[1]||(s[1]=t=>r.value=t),feedback:!1,toggleMask:"",placeholder:e(o)(e(l).pass)},null,8,["modelValue","placeholder"]),n(e(C),{id:"input",modelValue:p.value,"onUpdate:modelValue":s[2]||(s[2]=t=>p.value=t),feedback:!1,toggleMask:"",placeholder:e(o)(e(l).confirmPass)},null,8,["modelValue","placeholder"])]),a("div",le,[n(e(E),{onClick:N,label:e(o)(e(l).signup)},null,8,["label"])]),a("p",te,[T(i(e(o)(e(l).haveAccount)),1),a("strong",{onClick:s[3]||(s[3]=t=>e(g).push("/login")),style:{cursor:"pointer"}},i(e(o)(e(l).login)),1)])])]),n(F)])}}}),de=z(ne,[["__scopeId","data-v-f208fc25"]]);export{de as default};
