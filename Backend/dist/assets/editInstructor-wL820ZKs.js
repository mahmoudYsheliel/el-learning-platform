import{d as H,r as I,H as x,aw as t,ax as u,c as v,b as d,e as o,v as g,w as y,f as n,B as f,g as S,y as L,o as i,N as M,t as z,z as A,V as E,l as B,m as j,F as G,p as J,n as K,a3 as O,_ as P}from"./index-B2gcwgY1.js";import{s as U,a as Q}from"./accordiontab.esm-D0lMKx-8.js";import{s as T}from"./dropdown.esm-DJK1KqU0.js";import"./index.esm-CQlMG9jq.js";const R=b=>(J("data-v-7dfa3522"),b=b(),K(),b),W={class:"container"},X={class:"element"},Y=R(()=>o("h3",null,"Courses",-1)),Z={class:"row"},ee={class:"courseelement"},le=["onClick"],ae={class:"btn-container"},oe={class:"row"},se={class:"courseelement"},te=["onClick"],ue={class:"btn-container"},ne=["onClick"],ie={class:"element"},ce=R(()=>o("h3",null,"Image Source",-1)),re={key:0,class:"img-container"},pe=["src"],ve={class:"btn-container"},de=H({__name:"editInstructor",setup(b){const N=L(),_=I(""),r=I([]),V=I(),F=new x("get_courses"),$=new x("personal_another_user_info");F.callApi().then(p=>{var c,l;p!=null&&p.success&&(V.value=(c=p==null?void 0:p.data)==null?void 0:c.courses,$.callApi({another_userId:(l=N.params)==null?void 0:l.instructorId}).then(a=>{var s,h,m;if(a!=null&&a.success){let e=(s=a==null?void 0:a.data)==null?void 0:s.info;t.value={email:{...t.value.email,value:(e==null?void 0:e.email)||""},phoneNumber:{...t.value.phoneNumber,value:e==null?void 0:e.phone_number},firstName:{...t.value.firstName,value:e==null?void 0:e.first_name},lastName:{...t.value.lastName,value:e==null?void 0:e.last_name},title:{...t.value.title,value:e==null?void 0:e.title},biography:{...t.value.biography,value:e==null?void 0:e.biography},philosophy:{...t.value.philosophy,value:e==null?void 0:e.philisophy}},u.value={experience:{...u.value.experience,value:e==null?void 0:e.experience},specializations:{...u.value.specializations,value:e==null?void 0:e.specializations},educationBackground:{...u.value.educationBackground,value:e==null?void 0:e.education_background}},_.value=e==null?void 0:e.image;let w=[];for(let C=0;C<((h=e==null?void 0:e.courses)==null?void 0:h.length);C++){let D=(m=V.value)==null?void 0:m.find(k=>(k==null?void 0:k.id)==(e==null?void 0:e.courses[C]));w.push(D)}r.value=w}}))});function q(){var l,a;let p={email:t.value.email.value,phone_number:t.value.phoneNumber.value,last_name:t.value.lastName.value,first_name:t.value.firstName.value,image:_.value},c={title:t.value.title.value,specializations:u.value.specializations.value,biography:t.value.biography.value,education_background:u.value.educationBackground.value,experience:u.value.experience.value,philisophy:t.value.philosophy.value,courses:[]};for(let s=0;s<r.value.length;s++)(l=r.value[s])!=null&&l.id&&c.courses.push((a=r.value[s])==null?void 0:a.id);new x("update_another_user_info").callApi({user_type_specific_info:c,user_to_change:N.params.instructorId,update:p}).then(s=>{s!=null&&s.success&&O.push("/manageInstructors")})}return(p,c)=>(i(),v(g,null,[d(M),o("div",W,[(i(!0),v(g,null,y(n(t),l=>(i(),v("div",X,[o("h3",null,z(l.name),1),(i(),A(E(l.component),{modelValue:l.value,"onUpdate:modelValue":a=>l.value=a,disabled:l.disabled},null,8,["modelValue","onUpdate:modelValue","disabled"]))]))),256)),d(n(Q),{activeIndex:0},{default:f(()=>[d(n(U),{pt:{headerAction:{style:"padding-inline:0"}}},{header:f(()=>[Y]),default:f(()=>[o("div",null,[(i(!0),v(g,null,y(r.value,(l,a)=>(i(),v("div",Z,[o("div",ee,[d(n(T),{modelValue:r.value[a],"onUpdate:modelValue":s=>r.value[a]=s,options:V.value,optionLabel:"title.en",placeholder:"Select a Course"},null,8,["modelValue","onUpdate:modelValue","options"]),o("i",{class:"pi pi-times-circle",onClick:()=>{r.value.splice(a,1)}},null,8,le)])]))),256)),o("div",ae,[o("i",{onClick:c[0]||(c[0]=()=>{var l;(l=r.value)==null||l.push(null)}),class:"pi pi-plus-circle",label:"Add Course to Road Map",style:{"font-size":"1.5rem",color:"var(--accent1)"}})])])]),_:1}),(i(!0),v(g,null,y(n(u),(l,a)=>(i(),A(n(U),{pt:{headerAction:{style:"padding-inline:0"}}},{header:f(()=>[o("h3",null,z(l.name),1)]),default:f(()=>[o("div",null,[l.value?(i(!0),v(g,{key:0},y(l.value,(s,h)=>(i(),v("div",oe,[o("div",se,[d(n(B),{modelValue:l.value[h],"onUpdate:modelValue":m=>l.value[h]=m},null,8,["modelValue","onUpdate:modelValue"]),o("i",{class:"pi pi-times-circle",onClick:()=>{if(l.value){const m=[...l.value];m.splice(h,1),u.value={...n(u),[a.toString()]:{...n(u)[a],value:m}}}}},null,8,te)])]))),256)):S("",!0),o("div",ue,[o("i",{onClick:()=>{const s=[...l.value];s.push(""),u.value={...n(u),[a.toString()]:{...n(u)[a],value:s}}},class:"pi pi-plus-circle",label:"Add Course to Road Map",style:{"font-size":"1.5rem",color:"var(--accent1)"}},null,8,ne)])])]),_:2},1024))),256))]),_:1}),o("div",ie,[ce,d(n(B),{modelValue:_.value,"onUpdate:modelValue":c[1]||(c[1]=l=>_.value=l)},null,8,["modelValue"])]),_.value?(i(),v("div",re,[o("img",{src:_.value,alt:""},null,8,pe)])):S("",!0),o("div",ve,[d(n(j),{label:"Save Changes",onClick:q})])]),d(G)],64))}}),fe=P(de,[["__scopeId","data-v-7dfa3522"]]);export{fe as default};
