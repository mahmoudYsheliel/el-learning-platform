import{d as z,r as f,L as h,H as b,c as p,b as g,e,t as o,f as a,C as x,D as B,w as H,i as L,j as O,o as v,N as V,s as l,k,A as j,m as E,F as M,_ as S}from"./index-fOMn_fwj.js";/* empty css                                                                   */const T={id:"program_container"},G={id:"track_image"},J=["src"],K={id:"track_info"},Q={id:"levels_container"},U=["onClick"],W={class:"level_courses"},X={id:"track_info"},Y={class:"courses"},Z={class:"course_card"},tt=["src"],st={class:"course_info"},et={class:"course_price_view"},at={style:{"font-size":"1.5rem"}},nt=z({__name:"viewProgram",setup(lt){const C=H(),F=L(),P=f([]),R=f([]),w=f(null),q=h(()=>{var t;return(t=C.params)==null?void 0:t.subscriptionPlanId}),I=h(()=>C.params.programId),d=f(null);new b("get_all_programs_and_courses").callApi().then(t=>{var n;t!=null&&t.success&&(P.value=(n=t==null?void 0:t.data)==null?void 0:n.programs)}),new b("get_subscription_plans").callApi({program_id:I.value}).then(t=>{var n,c;t!=null&&t.success&&(t!=null&&t.data)&&q.value&&(w.value=(c=(n=t.data)==null?void 0:n.subscription_plan)==null?void 0:c.find(u=>u.id==q.value),console.log(w.value))}),new b("get_courses").callApi().then(t=>{var n;t!=null&&t.success&&(R.value=(n=t==null?void 0:t.data)==null?void 0:n.courses)});const r=h(()=>{for(let t of P.value)if((t==null?void 0:t.id)==I.value)return t!=null&&t.tracks&&(t==null?void 0:t.tracks.length)>0&&(d.value=t.tracks[0].id),t}),$=h(()=>{var u,_;const t=(_=(u=r.value)==null?void 0:u.tracks)==null?void 0:_.filter(i=>i.id==d.value)[0];let n=(t==null?void 0:t.courses)??[],c=[];for(let i of(t==null?void 0:t.levels)??[])n.push(...i.courses??[]);return c=n.map(i=>R.value.find(m=>m.id==i)),c});return(t,n)=>{var u,_,i,m,A,D,N;const c=O("Options");return v(),p("main",null,[g(V),g(c),e("div",T,[e("h1",null,o(a(l)((u=r.value)==null?void 0:u.title)),1),e("div",G,[e("img",{src:a(l)((_=r.value)==null?void 0:_.image),alt:""},null,8,J)]),e("div",K,[e("h2",null,o(a(l)(a(k).trackDesc)),1),e("p",null,o(a(l)((i=r.value)==null?void 0:i.description)),1)]),e("div",Q,[(v(!0),p(x,null,B((m=r.value)==null?void 0:m.tracks,s=>(v(),p("div",{class:j(["level_name",{selected:s.id==d.value}]),onClick:y=>d.value=s.id},o(a(l)(s.title)),11,U))),256))]),e("div",W,[e("div",X,[e("h2",null,o(a(l)(a(k).aboutLevel)),1),e("p",null,o(a(l)((N=(D=(A=r.value)==null?void 0:A.tracks)==null?void 0:D.find(s=>(s==null?void 0:s.id)==d.value))==null?void 0:N.description)),1)]),e("h2",null,o(a(l)(a(k).courses)),1),e("div",Y,[(v(!0),p(x,null,B($.value,s=>(v(),p("div",Z,[e("img",{src:s==null?void 0:s.image,alt:""},null,8,tt),e("div",st,[e("p",null,o(a(l)(s==null?void 0:s.title)),1),e("div",et,[e("strong",at,o(s==null?void 0:s.price),1),g(a(E),{label:a(l)(a(k).viewCourse),raised:"",onClick:y=>a(F).push(`/courseDetails/${s==null?void 0:s.id}/0/0`)},null,8,["label","onClick"])])])]))),256))])])]),g(M)])}}}),dt=S(nt,[["__scopeId","data-v-eb84a20c"]]);export{dt as default};
