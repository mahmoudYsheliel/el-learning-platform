import{A as M}from"./AdminSidebar-CZQuxuL4.js";import{d as U,r as w,H as j,w as q,o as u,c,e,C as x,q as k,v as P,t as a,g as E,p as W,m as z,_ as F,b as D,y as B,N as G,F as J}from"./index-vIkyQCYi.js";const L=b=>(W("data-v-0d9a15f2"),b=b(),z(),b),Y={class:"options-container"},K={key:0,class:"table"},O=L(()=>e("div",{class:"userRow row first"},[e("h3",null,"#"),e("h3",null,"Email"),e("h3",null,"First Name"),e("h3",null,"Last Name"),e("h3",null,"User Type"),e("h3",null,"Phone Number"),e("h3",null,"Creation Date")],-1)),Q={class:"userRow row"},X={style:{color:"var(--text)"}},Z={key:1,class:"table"},ll=L(()=>e("div",{class:"parentRow row first"},[e("h3",null,"#"),e("h3",null,"Email"),e("h3",null,"First Name"),e("h3",null,"Last Name"),e("h3",null,"Phone Number"),e("h3",null,"Location"),e("h3",null,"Job"),e("h3",null,"Creation Date"),e("h3",null,"Children Emails")],-1)),el={class:"parentRow row"},tl={style:{color:"var(--text)"}},al={style:{"padding-block":"0.5rem"}},nl={key:2,class:"table"},sl=L(()=>e("div",{class:"childRow row first"},[e("h3",null,"#"),e("h3",null,"Email"),e("h3",null,"First Name"),e("h3",null,"Last Name"),e("h3",null,"Grade"),e("h3",null,"Program"),e("h3",null,"Education System"),e("h3",null,"Parent Email"),e("h3",null,"Creation Date")],-1)),ol={class:"childRow row"},il={style:{color:"var(--text)"}},ul=U({__name:"ParentChild",setup(b){function r(t){const n=new Date(t),l=n.getFullYear(),i=(n.getMonth()+1).toString().padStart(2,"0"),h=n.getDate().toString().padStart(2,"0");return`${l}-${i}-${h}`}const v=w(),_=w(),g=w();new j("get_all_users").callApi().then(t=>{var n,l,i;t.success&&(v.value=(n=t==null?void 0:t.data)==null?void 0:n.parents,_.value=(l=t==null?void 0:t.data)==null?void 0:l.children,g.value=(i=t==null?void 0:t.data)==null?void 0:i.users)});const R=w();new j("get_all_program").callApi().then(t=>{var n;console.log(t),t.success&&(R.value=(n=t==null?void 0:t.data)==null?void 0:n.program)});const p=w("parent"),T=q(()=>{var n,l,i,h,$,A,S;let t=[];for(let m=0;m<((n=v.value)==null?void 0:n.length);m++){let N=(l=v.value[m])==null?void 0:l.user_id,s=g.value.find(f=>(f==null?void 0:f.id)==N),o=[];for(let f=0;f<((h=(i=v.value[m])==null?void 0:i.children)==null?void 0:h.length);f++){let d=($=v.value[m])==null?void 0:$.children[f],C=g.value.find(y=>(y==null?void 0:y.id)==d);o.push(C==null?void 0:C.email)}let I={email:s==null?void 0:s.email,firstName:s==null?void 0:s.first_name,lastName:s==null?void 0:s.last_name,phoneNumber:s==null?void 0:s.phone_number,createdAt:s==null?void 0:s.created_at,location:(A=v.value[m])==null?void 0:A.location,job:(S=v.value[m])==null?void 0:S.job,children:o};t.push(I)}return t}),H=q(()=>{var n,l,i,h,$,A,S,m;let t=[];for(let N=0;N<((n=_.value)==null?void 0:n.length);N++){let s=(l=_.value[N])==null?void 0:l.user_id,o=g.value.find(d=>(d==null?void 0:d.id)==s),I=(i=g.value.find(d=>{var C;return((C=v.value.find(y=>{var V;return(V=y==null?void 0:y.children)==null?void 0:V.includes(s)}))==null?void 0:C.user_id)==(d==null?void 0:d.id)}))==null?void 0:i.email;console.log(R.value);let f={email:o==null?void 0:o.email,firstName:o==null?void 0:o.first_name,lastName:o==null?void 0:o.last_name,phoneNumber:o==null?void 0:o.phone_number,createdAt:o==null?void 0:o.created_at,grade:(h=_.value[N])==null?void 0:h.grade,program:(S=(A=($=R.value)==null?void 0:$.find(d=>{var C;return(d==null?void 0:d.id)==((C=_.value[N])==null?void 0:C.child_group)}))==null?void 0:A.title)==null?void 0:S.en,education_system:(m=_.value[N])==null?void 0:m.education_system,parentEmail:I};t.push(f)}return t});return(t,n)=>(u(),c(k,null,[e("div",Y,[e("p",{onClick:n[0]||(n[0]=l=>p.value="parent"),class:x({selected:p.value=="parent"})}," Parents ",2),e("p",{onClick:n[1]||(n[1]=l=>p.value="child"),class:x({selected:p.value=="child"})}," Children ",2),e("p",{onClick:n[2]||(n[2]=l=>p.value="user"),class:x({selected:p.value=="user"})}," Users ",2)]),p.value=="user"?(u(),c("div",K,[O,(u(!0),c(k,null,P(g.value,(l,i)=>(u(),c("div",Q,[e("span",X,a(i+1),1),e("span",null,a(l==null?void 0:l.email),1),e("span",null,a(l==null?void 0:l.first_name),1),e("span",null,a(l==null?void 0:l.last_name),1),e("span",null,a(l==null?void 0:l.user_type),1),e("span",null,a(l==null?void 0:l.phone_number),1),e("span",null,a(r(l==null?void 0:l.created_at)),1)]))),256))])):E("",!0),p.value=="parent"?(u(),c("div",Z,[ll,(u(!0),c(k,null,P(T.value,(l,i)=>(u(),c("div",el,[e("span",tl,a(i+1),1),e("span",null,a(l==null?void 0:l.email),1),e("span",null,a(l==null?void 0:l.firstName),1),e("span",null,a(l==null?void 0:l.lastName),1),e("span",null,a(l==null?void 0:l.phoneNumber),1),e("span",null,a(l==null?void 0:l.location),1),e("span",null,a(l==null?void 0:l.job),1),e("span",null,a(r(l==null?void 0:l.createdAt)),1),e("span",al,[(u(!0),c(k,null,P(l.children,h=>(u(),c("p",null,a(h),1))),256))])]))),256))])):E("",!0),p.value=="child"?(u(),c("div",nl,[sl,(u(!0),c(k,null,P(H.value,(l,i)=>(u(),c("div",ol,[e("span",il,a(i+1),1),e("span",null,a(l==null?void 0:l.email),1),e("span",null,a(l==null?void 0:l.firstName),1),e("span",null,a(l==null?void 0:l.lastName),1),e("span",null,a(l==null?void 0:l.grade),1),e("span",null,a(l==null?void 0:l.program),1),e("span",null,a(l==null?void 0:l.education_system),1),e("span",null,a(l==null?void 0:l.parentEmail),1),e("span",null,a(r(l==null?void 0:l.createdAt)),1)]))),256))])):E("",!0)],64))}}),dl=F(ul,[["__scopeId","data-v-0d9a15f2"]]),cl={};function rl(b,r){return null}const _l=F(cl,[["render",rl]]),ml={class:"container"},vl={class:"wrapper"},pl={class:"options-container"},hl={class:"content"},fl=U({__name:"manageUsers",setup(b){const r=w("parentChild");return(v,_)=>(u(),c(k,null,[D(G),e("div",ml,[D(M,{class:"sidebar",selected:"Manage Users"}),e("div",vl,[e("div",pl,[e("p",{onClick:_[0]||(_[0]=g=>r.value="parentChild"),class:x({selected:r.value=="parentChild"})}," Parent Child ",2),e("p",{onClick:_[1]||(_[1]=g=>r.value="childCourse"),class:x({selected:r.value=="childCourse"})}," Child Course ",2)]),e("div",hl,[r.value=="parentChild"?(u(),B(dl,{key:0})):E("",!0),r.value=="childCourse"?(u(),B(_l,{key:1})):E("",!0)])])]),D(J)],64))}}),yl=F(fl,[["__scopeId","data-v-a57fe6d7"]]);export{yl as default};
