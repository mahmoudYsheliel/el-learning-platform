import{_ as G}from"./login-HlRQAw4O.js";import{d as H,u as O,a as P,r as y,H as V,c as C,b as c,e as n,t as d,f as t,g as T,h as j,i as z,j as U,o as L,N as J,s as i,k as s,l as K,m as Q,F as W,p as X,n as Y,q as Z,_ as oo}from"./index-RyIBfkET.js";import{s as ao}from"./password.esm-DQLBAmQt.js";const to=I=>(X("data-v-226885b7"),I=I(),Y(),I),no={class:"container"},eo=to(()=>n("div",{class:"left borderRigth"},[n("img",{src:G,alt:""})],-1)),lo={class:"right"},io={class:"welcome"},so={class:"google-facebook-wrapper"},co={key:0},uo={key:1},po={class:"wrapper"},fo={class:"button"},mo={style:{"margin-left":"5rem"}},_o=H({__name:"LoginPage",setup(I){O();const w=z(),$=P(),b=y(),N=y(),x=y(!1),R=y(!1),D=new V("token");function E(){!b.value||!N.value?x.value=!0:D.login(b.value,N.value).then(p=>{p.msg=="no such user"?R.value=!0:p.access_token&&new V("personal_info").callApi().then(o=>{var u,l,q,a,f,m,_,g,h,v,r,k;o!=null&&o.success&&($.addInfo({userType:(l=(u=o==null?void 0:o.data)==null?void 0:u.info)==null?void 0:l.user_type,notifications:(a=(q=o==null?void 0:o.data)==null?void 0:q.info)==null?void 0:a.notifications,id:(m=(f=o==null?void 0:o.data)==null?void 0:f.info)==null?void 0:m.id,firstName:(g=(_=o==null?void 0:o.data)==null?void 0:_.info)==null?void 0:g.first_name,lastName:(v=(h=o==null?void 0:o.data)==null?void 0:h.info)==null?void 0:v.last_name,email:(k=(r=o==null?void 0:o.data)==null?void 0:r.info)==null?void 0:k.email}),w.push("/"))})})}const F=p=>{const e=Z(p.credential);if(e.email_verified,e.email_verified){const o=new V("token"),u=P();o.login(e.email,"mahmoud2000").then(l=>{l.msg=="no such user"?R.value=!0:l.access_token&&new V("personal_info").callApi().then(a=>{var f,m,_,g,h,v,r,k,S,B,A,M;a!=null&&a.success&&(u.addInfo({userType:(m=(f=a==null?void 0:a.data)==null?void 0:f.info)==null?void 0:m.user_type,notifications:(g=(_=a==null?void 0:a.data)==null?void 0:_.info)==null?void 0:g.notifications,id:(v=(h=a==null?void 0:a.data)==null?void 0:h.info)==null?void 0:v.id,firstName:(k=(r=a==null?void 0:a.data)==null?void 0:r.info)==null?void 0:k.first_name,lastName:(B=(S=a==null?void 0:a.data)==null?void 0:S.info)==null?void 0:B.last_name,email:(M=(A=a==null?void 0:a.data)==null?void 0:A.info)==null?void 0:M.email}),w.push("/"))})})}};return(p,e)=>{const o=U("Options"),u=U("GoogleLogin");return L(),C("main",null,[c(J),c(o),n("div",no,[eo,n("div",lo,[n("div",io,[n("h1",null,d(t(i)(t(s).welcomeBack)),1),n("h1",null,d(t(i)(t(s).traceCommunity)),1)]),n("div",so,[c(u,{callback:F})]),x.value?(L(),C("h4",co,d(t(i)(t(s).dataMissing)),1)):T("",!0),R.value?(L(),C("h4",uo,d(t(i)(t(s).userNotExist)),1)):T("",!0),n("div",po,[c(t(K),{type:"email",class:"input",modelValue:b.value,"onUpdate:modelValue":e[0]||(e[0]=l=>b.value=l),placeholder:t(i)(t(s).email)},null,8,["modelValue","placeholder"]),c(t(ao),{class:"input",modelValue:N.value,"onUpdate:modelValue":e[1]||(e[1]=l=>N.value=l),feedback:!1,toggleMask:"",placeholder:t(i)(t(s).pass)},null,8,["modelValue","placeholder"])]),n("div",fo,[c(t(Q),{onClick:E,label:t(i)(t(s).login)},null,8,["label"])]),n("p",mo,[j(d(t(i)(t(s).noAccount)),1),n("strong",{onClick:e[2]||(e[2]=l=>t(w).push("/signup")),style:{cursor:"pointer"}},d(t(i)(t(s).signup)),1)])])]),c(W)])}}}),ro=oo(_o,[["__scopeId","data-v-226885b7"]]);export{ro as default};
