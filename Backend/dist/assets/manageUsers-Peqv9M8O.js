import{A as O}from"./AdminSidebar-BAtlfMbW.js";import{d as U,r as y,H as E,D as L,o as d,c as _,e,y as q,v as S,w as T,t as s,g as P,p as z,n as J,_ as M,h as H,b as B,G as Y,N as Q,F as X}from"./index-j1mQ9M8P.js";const W=$=>(z("data-v-76c4ec9a"),$=$(),J(),$),Z={class:"options-container"},j={key:0,class:"table"},b=W(()=>e("div",{class:"userRow row first"},[e("h3",null,"#"),e("h3",null,"Email"),e("h3",null,"First Name"),e("h3",null,"Last Name"),e("h3",null,"User Type"),e("h3",null,"Phone Number"),e("h3",null,"Creation Date")],-1)),tt={class:"userRow row"},et={style:{color:"var(--text)"}},lt={key:1,class:"table"},nt=W(()=>e("div",{class:"parentRow row first"},[e("h3",null,"#"),e("h3",null,"Email"),e("h3",null,"First Name"),e("h3",null,"Last Name"),e("h3",null,"Phone Number"),e("h3",null,"Location"),e("h3",null,"Job"),e("h3",null,"Creation Date"),e("h3",null,"Children Emails")],-1)),at={class:"parentRow row"},st={style:{color:"var(--text)"}},ot={style:{"padding-block":"0.5rem"}},it={key:2,class:"table"},ut=W(()=>e("div",{class:"childRow row first"},[e("h3",null,"#"),e("h3",null,"Email"),e("h3",null,"First Name"),e("h3",null,"Last Name"),e("h3",null,"Grade"),e("h3",null,"Program"),e("h3",null,"Education System"),e("h3",null,"Parent Email"),e("h3",null,"Creation Date")],-1)),ct={class:"childRow row"},dt={style:{color:"var(--text)"}},rt=U({__name:"ParentChild",setup($){function C(a){const i=new Date(a),t=i.getFullYear(),l=(i.getMonth()+1).toString().padStart(2,"0"),u=i.getDate().toString().padStart(2,"0");return`${t}-${l}-${u}`}const g=y(),m=y(),p=y();new E("get_all_users").callApi().then(a=>{var i,t,l;a!=null&&a.success&&(g.value=(i=a==null?void 0:a.data)==null?void 0:i.parents,m.value=(t=a==null?void 0:a.data)==null?void 0:t.children,p.value=(l=a==null?void 0:a.data)==null?void 0:l.users)});const V=y();new E("get_all_program").callApi().then(a=>{var i;a!=null&&a.success&&(V.value=(i=a==null?void 0:a.data)==null?void 0:i.program)});const N=y("parent"),x=L(()=>{var i,t,l,u,w,A,k;let a=[];for(let h=0;h<((i=g.value)==null?void 0:i.length);h++){let o=(t=g.value[h])==null?void 0:t.user_id,n=p.value.find(f=>(f==null?void 0:f.id)==o),c=[];for(let f=0;f<((u=(l=g.value[h])==null?void 0:l.children)==null?void 0:u.length);f++){let v=(w=g.value[h])==null?void 0:w.children[f],r=p.value.find(R=>(R==null?void 0:R.id)==v);c.push(r==null?void 0:r.email)}let I={email:n==null?void 0:n.email,firstName:n==null?void 0:n.first_name,lastName:n==null?void 0:n.last_name,phoneNumber:n==null?void 0:n.phone_number,createdAt:n==null?void 0:n.created_at,location:(A=g.value[h])==null?void 0:A.location,job:(k=g.value[h])==null?void 0:k.job,children:c};a.push(I)}return a}),D=L(()=>{var i,t,l,u,w,A,k,h;let a=[];for(let o=0;o<((i=m.value)==null?void 0:i.length);o++){let n=(t=m.value[o])==null?void 0:t.user_id,c=p.value.find(v=>(v==null?void 0:v.id)==n),I=(l=p.value.find(v=>{var r;return((r=g.value.find(R=>{var G;return(G=R==null?void 0:R.children)==null?void 0:G.includes(n)}))==null?void 0:r.user_id)==(v==null?void 0:v.id)}))==null?void 0:l.email,f={email:c==null?void 0:c.email,firstName:c==null?void 0:c.first_name,lastName:c==null?void 0:c.last_name,phoneNumber:c==null?void 0:c.phone_number,createdAt:c==null?void 0:c.created_at,grade:(u=m.value[o])==null?void 0:u.grade,program:(k=(A=(w=V.value)==null?void 0:w.find(v=>{var r;return(v==null?void 0:v.id)==((r=m.value[o])==null?void 0:r.child_group)}))==null?void 0:A.title)==null?void 0:k.en,education_system:(h=m.value[o])==null?void 0:h.education_system,parentEmail:I};a.push(f)}return a});return(a,i)=>(d(),_(S,null,[e("div",Z,[e("p",{onClick:i[0]||(i[0]=t=>N.value="parent"),class:q({selected:N.value=="parent"})}," Parents ",2),e("p",{onClick:i[1]||(i[1]=t=>N.value="child"),class:q({selected:N.value=="child"})}," Children ",2),e("p",{onClick:i[2]||(i[2]=t=>N.value="user"),class:q({selected:N.value=="user"})}," Users ",2)]),N.value=="user"?(d(),_("div",j,[b,(d(!0),_(S,null,T(p.value,(t,l)=>(d(),_("div",tt,[e("span",et,s(l+1),1),e("span",null,s(t==null?void 0:t.email),1),e("span",null,s(t==null?void 0:t.first_name),1),e("span",null,s(t==null?void 0:t.last_name),1),e("span",null,s(t==null?void 0:t.user_type),1),e("span",null,s(t==null?void 0:t.phone_number),1),e("span",null,s(C(t==null?void 0:t.created_at)),1)]))),256))])):P("",!0),N.value=="parent"?(d(),_("div",lt,[nt,(d(!0),_(S,null,T(x.value,(t,l)=>(d(),_("div",at,[e("span",st,s(l+1),1),e("span",null,s(t==null?void 0:t.email),1),e("span",null,s(t==null?void 0:t.firstName),1),e("span",null,s(t==null?void 0:t.lastName),1),e("span",null,s(t==null?void 0:t.phoneNumber),1),e("span",null,s(t==null?void 0:t.location),1),e("span",null,s(t==null?void 0:t.job),1),e("span",null,s(C(t==null?void 0:t.createdAt)),1),e("span",ot,[(d(!0),_(S,null,T(t.children,u=>(d(),_("p",null,s(u),1))),256))])]))),256))])):P("",!0),N.value=="child"?(d(),_("div",it,[ut,(d(!0),_(S,null,T(D.value,(t,l)=>(d(),_("div",ct,[e("span",dt,s(l+1),1),e("span",null,s(t==null?void 0:t.email),1),e("span",null,s(t==null?void 0:t.firstName),1),e("span",null,s(t==null?void 0:t.lastName),1),e("span",null,s(t==null?void 0:t.grade),1),e("span",null,s(t==null?void 0:t.program),1),e("span",null,s(t==null?void 0:t.education_system),1),e("span",null,s(t==null?void 0:t.parentEmail),1),e("span",null,s(C(t==null?void 0:t.createdAt)),1)]))),256))])):P("",!0)],64))}}),_t=M(rt,[["__scopeId","data-v-76c4ec9a"]]),F=$=>(z("data-v-0ce709e6"),$=$(),J(),$),vt={class:"table"},mt={class:"row first"},pt=F(()=>e("h3",null,"#",-1)),ht=F(()=>e("i",{class:"pi pi-sort-alt"},null,-1)),ft=F(()=>e("i",{class:"pi pi-sort-alt"},null,-1)),Ct=F(()=>e("h3",null,"Creation Date",-1)),gt={class:"row"},wt={style:{color:"var(--text)"}},yt=U({__name:"ChildCourse",setup($){function C(t){const l=new Date(t),u=l.getFullYear(),w=(l.getMonth()+1).toString().padStart(2,"0"),A=l.getDate().toString().padStart(2,"0");return`${u}-${w}-${A}`}const g=y(),m=y(),p=y();new E("get_all_users").callApi().then(t=>{var l;t!=null&&t.success&&(m.value=(l=t==null?void 0:t.data)==null?void 0:l.users)}),new E("get_courses").callApi().then(t=>{var l;t!=null&&t.success&&(g.value=(l=t==null?void 0:t.data)==null?void 0:l.courses)}),new E("get_admin_enrollments").callApi().then(t=>{var l;t!=null&&t.success&&(p.value=(l=t==null?void 0:t.data)==null?void 0:l.enrollments)});const x=y("course"),D=y(!1),a=L(()=>{var l,u,w,A,k,h;let t=[];for(let o=0;o<((l=p.value)==null?void 0:l.length);o++){let n=(u=p.value[o])==null?void 0:u.student_id,c=(w=m.value)==null?void 0:w.find(r=>(r==null?void 0:r.id)==n),I=(A=p.value[o])==null?void 0:A.course_id,f=g.value.find(r=>(r==null?void 0:r.id)==I),v={email:c==null?void 0:c.email,createdAt:(k=p.value[o])==null?void 0:k.created_at,courseTiltla:(h=f==null?void 0:f.title)==null?void 0:h.en};t.push(v)}return x.value=="child"&&t.sort((o,n)=>(o==null?void 0:o.email)>(n==null?void 0:n.email)?-1:(n==null?void 0:n.email)>(o==null?void 0:o.email)?1:0),x.value=="course"&&t.sort((o,n)=>(o==null?void 0:o.courseTiltla)>(n==null?void 0:n.courseTiltla)?-1:(n==null?void 0:n.courseTiltla)>(o==null?void 0:o.courseTiltla)?1:0),D.value&&t.reverse(),t});function i(t){D.value=!D.value,x.value=t}return(t,l)=>(d(),_("div",vt,[e("div",mt,[pt,e("h3",{onClick:l[0]||(l[0]=()=>{i("child")}),style:{cursor:"pointer"}},[H(" Email "),ht]),e("h3",{onClick:l[1]||(l[1]=()=>{i("course")}),style:{cursor:"pointer"}},[H(" Course Title "),ft]),Ct]),(d(!0),_(S,null,T(a.value,(u,w)=>(d(),_("div",gt,[e("span",wt,s(w+1),1),e("span",null,s(u==null?void 0:u.email),1),e("span",null,s(u==null?void 0:u.courseTiltla),1),e("span",null,s(C(u==null?void 0:u.createdAt)),1)]))),256))]))}}),$t=M(yt,[["__scopeId","data-v-0ce709e6"]]),Nt={class:"container"},At={class:"wrapper"},kt={class:"options-container"},Rt={class:"content"},St=U({__name:"manageUsers",setup($){const C=y("parentChild");return(g,m)=>(d(),_(S,null,[B(Q),e("div",Nt,[B(O,{class:"sidebar",selected:"Manage Users"}),e("div",At,[e("div",kt,[e("p",{onClick:m[0]||(m[0]=p=>C.value="parentChild"),class:q({selected:C.value=="parentChild"})}," Parent Child ",2),e("p",{onClick:m[1]||(m[1]=p=>C.value="childCourse"),class:q({selected:C.value=="childCourse"})}," Child Course ",2)]),e("div",Rt,[C.value=="parentChild"?(d(),Y(_t,{key:0})):P("",!0),C.value=="childCourse"?(d(),Y($t,{key:1})):P("",!0)])])]),B(X)],64))}}),It=M(St,[["__scopeId","data-v-a57fe6d7"]]);export{It as default};
