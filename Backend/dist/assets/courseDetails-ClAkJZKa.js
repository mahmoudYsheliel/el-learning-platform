import{d as x,c as f,e as t,t as n,f as e,v as L,w as F,h as K,o as r,s as i,k as m,p as ae,n as ne,_ as A,G as E,C as V,i as O,b,m as G,J as Y,y as Z,g as k,I as ie,a as ue,r as C,H as y,K as ce,E as re,N as de,F as pe}from"./index-B4bJB-nK.js";import{A as ve,E as me,G as he,P as _e}from"./PromoCodeDialog-c7ovPtdv.js";import{s as ge,a as fe}from"./accordiontab.esm-B5IFd4uS.js";const ee=s=>(ae("data-v-4a303b2d"),s=s(),ne(),s),we={class:"container"},Ie={class:"wrapper"},Ce={class:"wrapper"},be={class:"wrapper"},ye=ee(()=>t("i",{class:"pi pi-clock"},null,-1)),ke={class:"wrapper"},De=ee(()=>t("i",{class:"pi pi-dollar"},null,-1)),$e=x({__name:"Information",props:["title","price","categories","min_age","max_age","duration"],setup(s){return(D,h)=>(r(),f("main",null,[t("div",we,[t("h2",null,n(e(i)(e(m).courseInfo)),1),t("div",Ie,[t("h4",null,n(e(i)(e(m).title)),1),t("p",null,n(s.title),1)]),t("div",Ce,[t("h4",null,n(e(i)(e(m).categories)),1),(r(!0),f(L,null,F(s.categories,a=>(r(),f("p",null,n(e(i)(a.title)),1))),256))]),t("div",be,[t("h4",null,[K(n(e(i)(e(m).duration)),1),ye]),t("p",null,n(s.duration)+" "+n(e(i)(e(m).days)),1)]),t("div",ke,[t("h4",null,[K(n(e(i)(e(m).price)),1),De]),t("p",null,n(s.price)+" L.E",1)])])]))}}),qe=A($e,[["__scopeId","data-v-4a303b2d"]]),Pe={class:"dialog"},Ee=x({__name:"CourseBelongsToPlanDialog",props:["showDialog","planId","childId"],setup(s){const D=O(),h=s;return(a,g)=>(r(),E(e(Y),{visible:h.showDialog,"onUpdate:visible":g[1]||(g[1]=u=>h.showDialog=u),modal:"",pt:{root:"border-none",mask:{style:"backdrop-filter: blur(2px)"}}},{container:V(({closeCallback:u})=>[t("div",Pe,[t("h2",null,n(e(i)(e(m).courseBelongsToPlan)),1),b(e(G),{label:e(i)(e(m).viewPlans),style:{width:"10rem"},onClick:g[0]||(g[0]=B=>e(D).push(`/plan/${s.planId}/${s.childId}`))},null,8,["label"])])]),_:1},8,["visible","pt"]))}}),xe=A(Ee,[["__scopeId","data-v-004f4601"]]),Ae={class:"course-description"},Be={class:"head"},Re=["src"],Se={class:"description"},Te={class:"header"},ze={key:2,style:{color:"#f33"}},Me={key:0,class:"objectives"},Ne=x({__name:"CourseDescribtion",props:["course","isEnrolled","notShowButton"],emits:["enroll","viewMaterial"],setup(s,{emit:D}){return(h,a)=>{var g,u,B,q,R,S,T,P,z,$;return r(),f("div",Ae,[t("div",Be,[t("h1",null,n(e(i)((g=s.course)==null?void 0:g.title)),1)]),t("img",{src:(u=s.course)==null?void 0:u.image,alt:"",class:Z({locked:(B=s.course)==null?void 0:B.is_locked})},null,10,Re),t("div",Se,[t("div",Te,[t("h2",null,n(e(i)(e(m).courseDescription)),1),!s.isEnrolled&&!s.notShowButton&&!((q=s.course)!=null&&q.is_locked)?(r(),E(e(G),{key:0,label:e(i)(e(m).enrollNow),onClick:a[0]||(a[0]=()=>{h.$emit("enroll")})},null,8,["label"])):k("",!0),s.isEnrolled&&!s.notShowButton&&!((R=s.course)!=null&&R.is_locked)?(r(),E(e(G),{key:1,label:e(i)(e(m).viewMat),onClick:a[1]||(a[1]=()=>{h.$emit("viewMaterial")})},null,8,["label"])):k("",!0),(S=s.course)!=null&&S.is_locked?(r(),f("p",ze,n(e(i)(e(m).locked)),1)):k("",!0)]),t("p",null,n(e(i)((T=s.course)==null?void 0:T.description)),1)]),((z=(P=s.course)==null?void 0:P.objectives)==null?void 0:z.length)>0?(r(),f("div",Me,[t("h2",null,n(e(i)(e(m).courseObjectives)),1),t("ul",null,[(r(!0),f(L,null,F(($=s.course)==null?void 0:$.objectives,M=>(r(),f("li",null,n(e(i)(M)),1))),256))])])):k("",!0)])}}}),je=A(Ne,[["__scopeId","data-v-8b8a10e2"]]),Ve={class:"card"},Le={style:{display:"flex","padding-left":"2rem",gap:"2rem"}},Fe={key:0},Ge={key:1},He={key:2},Ue={style:{padding:"0","margin-block":"0.35rem",color:"var(--accent1)"},class:"m-0"},Je=x({__name:"CourseMaterial",props:["chapters"],setup(s){return(D,h)=>(r(),f("div",Ve,[t("h2",null,n(e(i)(e(m).courseContent)),1),b(e(fe),{multiple:!0,activeIndex:[]},{default:V(()=>[(r(!0),f(L,null,F(s.chapters,(a,g)=>(r(),E(e(ge),{key:a.title,pt:{root:{style:"margin-block:0.5rem; border:solid 2px var(--accent1); border-radius:1rem; padding:0.25rem;"}}},{header:V(()=>[t("div",null,[t("h4",null,n(e(i)(a.title)),1),t("div",Le,[a.lessonCount?(r(),f("h5",Fe,n(a.lessonCount)+" "+n(e(i)(e(m).lessons)),1)):k("",!0),a.quizCount?(r(),f("h5",Ge,n(a.quizCount)+" "+n(e(i)(e(m).quiz)),1)):k("",!0),a.activityCount?(r(),f("h5",He,n(a.activityCount)+" "+n(e(i)(e(m).activity)),1)):k("",!0)])])]),default:V(()=>[(r(!0),f(L,null,F(a.materials,u=>(r(),f("p",Ue,[t("i",{class:Z(u.icon)},null,2),K(" "+n(u.title),1)]))),256))]),_:2},1032,["pt"]))),128))]),_:1})]))}}),Ke=A(Je,[["__scopeId","data-v-bd95cb3c"]]),Oe={class:"dialog"},Qe=x({__name:"PrequisiteDialog",props:["showDialog","course"],emits:["removeDialog"],setup(s,{emit:D}){O();const h=s;return(a,g)=>(r(),E(e(Y),{visible:h.showDialog,"onUpdate:visible":g[1]||(g[1]=u=>h.showDialog=u),modal:"",pt:{root:"border-none",mask:{style:"backdrop-filter: blur(2px)"}}},{container:V(({closeCallback:u})=>[t("div",Oe,[t("h2",null,n(e(i)(e(m).courseHasPrequisite))+" "+n(s.course),1),b(e(G),{label:e(i)(e(m).cancell),onClick:g[0]||(g[0]=()=>{a.$emit("removeDialog")})},null,8,["label"])])]),_:1},8,["visible","pt"]))}}),We=A(Qe,[["__scopeId","data-v-b41bb835"]]),Xe={class:"big-container"},Ye={class:"content"},Ze=x({__name:"courseDetails",setup(s){const D=ie(),h=ue(),a=re(),g=O(),u=C(),B=new y("get_course"),q=C([]);B.callApi({course_id:a.params.courseId}).then(v=>{var c,w;u.value=(c=v==null?void 0:v.data)==null?void 0:c.course;for(let d of(w=u.value)==null?void 0:w.chapters){let p={title:"",lessonCount:0,quizCount:0,activityCount:0,materials:[]};p.title=d==null?void 0:d.title;for(let l of d==null?void 0:d.materials){for(let o of ce)(l==null?void 0:l.type)==o.name&&p.materials.push({title:i(l.title),icon:o.icon});(l==null?void 0:l.type)==="Lesson"&&(p.lessonCount=p.lessonCount+1),(l==null?void 0:l.type)==="Quiz"&&(p.quizCount=p.quizCount+1),((l==null?void 0:l.type)==="Activity"||(l==null?void 0:l.type)==="Project"||(l==null?void 0:l.type)==="Simulation")&&(p.activityCount=p.activityCount+1)}q.value.push(p)}});const R=C(),S=C(!1),T=C(!1),P=C(!1),z=C(!1),$=C(!1),M=C(),H=C(!1);function le(){var v,c,w,d,p;D.getIsAuthorized?((v=h.getInfo)==null?void 0:v.userType)=="Child"?new y("get_course_plan").callApi({course_id:(c=a.params)==null?void 0:c.courseId}).then(o=>{var _,I;(o==null?void 0:o.success)==!1?$.value=!0:(o==null?void 0:o.success)==!0&&(P.value=!0,M.value=(I=(_=o==null?void 0:o.data)==null?void 0:_.plan)==null?void 0:I.id)}):((w=h.getInfo)==null?void 0:w.userType)=="Parent"&&(((d=a.params)==null?void 0:d.childId)=="0"?z.value=!0:new y("get_course_plan").callApi({course_id:(p=a.params)==null?void 0:p.courseId}).then(o=>{var _,I;(o==null?void 0:o.success)==!1?$.value=!0:(o==null?void 0:o.success)==!0&&(P.value=!0,M.value=(I=(_=o==null?void 0:o.data)==null?void 0:_.plan)==null?void 0:I.id)})):g.push("/login")}function oe(v){var d,p,l;$.value=!1;let c;((d=h.getInfo)==null?void 0:d.userType)=="Parent"?c=a.params.childId??"":((p=h.getInfo)==null?void 0:p.userType)=="Child"&&(c=h.getInfo.id),new y("request_enrollment").callApi({request:{student_id:c,course_id:(l=u.value)==null?void 0:l.id,promo_code:v}}).then(o=>{var _,I;o!=null&&o.success&&(R.value=(I=(_=o==null?void 0:o.data)==null?void 0:_.request)==null?void 0:I.price,T.value=!0)})}const Q=C(!1),W=C();new y("get_enrollment").callApi({course_id:a.params.courseId}).then(v=>{var c,w,d;(c=v==null?void 0:v.data)!=null&&c.enrollment&&(Q.value=!0,W.value=(d=(w=v==null?void 0:v.data)==null?void 0:w.enrollment)==null?void 0:d.id)});const U=C(""),X=C(""),te=new y("get_course_plan");function se(){te.callApi({course_id:a.params.courseId}).then(v=>{var w,d,p;let c=(d=(w=v==null?void 0:v.data)==null?void 0:w.plan)==null?void 0:d.courses;U.value=(p=c==null?void 0:c.find(l=>(l==null?void 0:l.Id)==a.params.courseId))==null?void 0:p.ristriction_on_course,new y("get_course").callApi({course_id:U.value||""}).then(l=>{var o,_;X.value=i((_=(o=l==null?void 0:l.data)==null?void 0:o.course)==null?void 0:_.title)||""}),new y("get_enrollment").callApi({course_id:U.value||""}).then(l=>{var o,_,I,N,j;((_=(o=l==null?void 0:l.data)==null?void 0:o.enrollment)==null?void 0:_.is_completed)==!1?H.value=!0:g.push(`/viewCoursePage/${a.params.courseId}/${W.value}/${(j=(N=(I=u.value)==null?void 0:I.chapters[0])==null?void 0:N.materials[0])==null?void 0:j.Id}`)})})}return(v,c)=>{var w,d,p,l,o,_,I,N,j;return r(),f(L,null,[b(de),t("div",Xe,[b(ve,{showDialog:S.value,onRemoveDialog:c[0]||(c[0]=J=>{S.value=!1})},null,8,["showDialog"]),b(We,{course:X.value,"show-dialog":H.value,onRemoveDialog:c[1]||(c[1]=J=>H.value=!1)},null,8,["course","show-dialog"]),b(me,{showDialog:T.value,cost:R.value},null,8,["showDialog","cost"]),b(he,{showDialog:z.value},null,8,["showDialog"]),b(xe,{showDialog:P.value,planId:M.value,childId:(w=e(a).params)==null?void 0:w.childId},null,8,["showDialog","planId","childId"]),b(_e,{showDialog:$.value,onPromoCode:c[2]||(c[2]=J=>{oe(J)})},null,8,["showDialog"]),b(je,{course:u.value,isEnrolled:Q.value,notShowButton:((d=e(h).getInfo)==null?void 0:d.userType)=="Parent"&&e(a).params.isEnrolled=="1",onEnroll:le,onViewMaterial:se},null,8,["course","isEnrolled","notShowButton"]),t("div",Ye,[((p=q.value)==null?void 0:p.length)>0?(r(),E(Ke,{key:0,chapters:q.value},null,8,["chapters"])):k("",!0),b(qe,{categories:(l=u.value)==null?void 0:l.categories,title:e(i)((o=u.value)==null?void 0:o.title),price:(_=u.value)==null?void 0:_.price,duration:(I=u.value)==null?void 0:I.duration,min_age:(N=u.value)==null?void 0:N.min_age,max_age:(j=u.value)==null?void 0:j.max_age},null,8,["categories","title","price","duration","min_age","max_age"])])]),b(pe)],64)}}}),sl=A(Ze,[["__scopeId","data-v-d0d15807"]]);export{sl as default};
