function __vite__mapDeps(indexes) {
  if (!__vite__mapDeps.viteFileDeps) {
    __vite__mapDeps.viteFileDeps = []
  }
  return indexes.map((i) => __vite__mapDeps.viteFileDeps[i])
}
import{B as K,a1 as U,o as b,c as P,e as r,A as N,C as Z,d as Q,a0 as z,r as _,b as R,f as s,_ as M,E as G,g as E,s as c,k as y,a as J,Z as T,t as l,h as W,I as X,w as Y,x as tt,H as D,aj as et,ak as B}from"./index-DXu-Wboh.js";var nt={root:{position:"relative"}},at={root:"p-chart"},rt=K.extend({name:"chart",inlineStyles:nt,classes:at}),st={name:"BaseChart",extends:Z,props:{type:String,data:null,options:null,plugins:null,width:{type:Number,default:300},height:{type:Number,default:150},canvasProps:{type:null,default:null}},style:rt,provide:function(){return{$parentInstance:this}}},F={name:"Chart",extends:st,inheritAttrs:!1,emits:["select","loaded"],chart:null,watch:{data:{handler:function(){this.reinit()},deep:!0},type:function(){this.reinit()},options:function(){this.reinit()}},mounted:function(){this.initChart()},beforeUnmount:function(){this.chart&&(this.chart.destroy(),this.chart=null)},methods:{initChart:function(){var t=this;U(()=>import("./auto-BiIF6-fZ.js"),__vite__mapDeps([])).then(function(n){t.chart&&(t.chart.destroy(),t.chart=null),n&&n.default&&(t.chart=new n.default(t.$refs.canvas,{type:t.type,data:t.data,options:t.options,plugins:t.plugins})),t.$emit("loaded",t.chart)})},getCanvas:function(){return this.$canvas},getChart:function(){return this.chart},getBase64Image:function(){return this.chart.toBase64Image()},refresh:function(){this.chart&&this.chart.update()},reinit:function(){this.initChart()},onCanvasClick:function(t){if(this.chart){var n=this.chart.getElementsAtEventForMode(t,"nearest",{intersect:!0},!1),a=this.chart.getElementsAtEventForMode(t,"dataset",{intersect:!0},!1);n&&n[0]&&a&&this.$emit("select",{originalEvent:t,element:n[0],dataset:a})}},generateLegend:function(){if(this.chart)return this.chart.generateLegend()}}};function $(e){"@babel/helpers - typeof";return $=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},$(e)}function L(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(p){return Object.getOwnPropertyDescriptor(e,p).enumerable})),n.push.apply(n,a)}return n}function q(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?L(Object(n),!0).forEach(function(a){it(e,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):L(Object(n)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(n,a))})}return e}function it(e,t,n){return t=ot(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ot(e){var t=lt(e,"string");return $(t)=="symbol"?t:String(t)}function lt(e,t){if($(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var a=n.call(e,t||"default");if($(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var ct=["width","height"];function ut(e,t,n,a,p,f){return b(),P("div",N({class:e.cx("root"),style:e.sx("root")},e.ptmi("root")),[r("canvas",N({ref:"canvas",width:e.width,height:e.height,onClick:t[0]||(t[0]=function(i){return f.onCanvasClick(i)})},q(q({},e.canvasProps),e.ptm("canvas"))),null,16,ct)],16)}F.render=ut;const dt={class:"card"},ht=Q({__name:"BiChart",props:["traitsDistribution","title"],setup(e){const t=e;z(()=>{n.value=p(),a.value=f()});const n=_(),a=_(),p=()=>{var u,g;const i=getComputedStyle(document.documentElement);return{labels:(u=t.traitsDistribution)==null?void 0:u.titles,datasets:[{label:t.title,data:(g=t.traitsDistribution)==null?void 0:g.scores,backgroundColor:[i.getPropertyValue("--accent1"),i.getPropertyValue("--accent2"),i.getPropertyValue("--accent3"),i.getPropertyValue("--accent4"),i.getPropertyValue("--secondary"),i.getPropertyValue("--accent1"),i.getPropertyValue("--accent2")]}]}},f=()=>{const i=getComputedStyle(document.documentElement),u=i.getPropertyValue("--header"),g=i.getPropertyValue("--header"),S=i.getPropertyValue("--choiceBackgroundColor");return{plugins:{legend:{labels:{color:u}}},scales:{x:{ticks:{color:g},grid:{color:S}},y:{beginAtZero:!0,ticks:{color:g},grid:{color:S}}}}};return(i,u)=>(b(),P("div",dt,[R(s(F),{type:"bar",data:n.value,options:a.value,style:{width:"40rem","aspect-ratio":"1.5/1","margin-inline":"auto"},class:"chart",pt:{canvas:{style:"width: 100%;"}}},null,8,["data","options"])]))}}),pt=M(ht,[["__scopeId","data-v-714e3189"]]),ft={key:0},vt=Q({__name:"IQChart",props:["IQChart"],setup(e){const t=e,n=G(()=>{var p,f,i;let a={titles:[],scores:[]};for(let u=0;u<((p=t.IQChart)==null?void 0:p.length);u++)a.titles.push((f=t.IQChart[u])==null?void 0:f.name),a.scores.push((i=t.IQChart[u])==null?void 0:i.total_score);return a});return(a,p)=>n.value?(b(),P("div",ft,[R(pt,{class:"chart","traits-distribution":n.value,title:s(c)(s(y).results)},null,8,["traits-distribution","title"])])):E("",!0)}}),mt=M(vt,[["__scopeId","data-v-2925a420"]]),yt={key:0,class:"constainer"},gt={class:"field"},_t={class:"labeled_text"},bt={style:{color:"var(--text)"}},Ct={style:{display:"flex","justify-content":"start","align-items":"start"}},Pt={class:"field"},It={class:"labeled_text"},St={class:"labeled_text"},kt=["src"],wt={style:{display:"flex","justify-content":"start","align-items":"start"}},Ot={class:"field"},xt={class:"labeled_text"},jt={class:"labeled_text"},Vt={class:"labeled_text"},$t=["src"],Bt=Q({__name:"ChildrenAnalysis",props:["childId"],setup(e){const t=e,n=J(),a=_(),p=_(),f=_(),i=_(),u=_();function g(v){var d;let o=v[0];for(let m=0;m<v.length;m++)((d=v[m])==null?void 0:d.score)>(o==null?void 0:o.score)&&(o=v[m]);return o}function S(){const v=new D("get_analysis");p.value=null,f.value=null,i.value=null,t.childId&&v.callApi({student_id:t.childId}).then(o=>{var d,m,k,w,O,x,j;if(o!=null&&o.success){a.value=(d=o==null?void 0:o.data)==null?void 0:d.analysis_quiz,u.value=(w=(k=(m=a.value)==null?void 0:m.section_results)==null?void 0:k.find(h=>(h==null?void 0:h.section)=="IQ"))==null?void 0:w.sub_sections,p.value=0;for(let h=0;h<u.value.length;h++)p.value+=(O=u.value[h])==null?void 0:O.total_score;p.value=Math.round(p.value/u.value.length);const C=g((x=a.value)==null?void 0:x.learning_styles_results);console.log(C),new D("get_learning_style").callApi({id:C==null?void 0:C.learning_style_id}).then(h=>{var V;f.value=(V=h==null?void 0:h.data)==null?void 0:V.learning_style});const I=g((j=a.value)==null?void 0:j.tracks_recommendation_results);new D("get_tracks_recommendation").callApi({id:I==null?void 0:I.tracks_recommendation_id}).then(h=>{var V;i.value=(V=h==null?void 0:h.data)==null?void 0:V.track_recommendation})}else a.value=null})}T(t,()=>{S()}),S();function H(v){for(const o of et){const d=o.min,m=o.max;if((d===null||v>=d)&&(m===null||v<=m))return o.desc}return{en:"",ar:""}}const A=_();return T(i,()=>{var v,o;for(let d=0;d<B.length;d++)if(((v=i.value)==null?void 0:v.name)==B[d].name&&((o=n.getInfo)==null?void 0:o.gender)==B[d].type){A.value=B[d].path;return}A.value=""}),(v,o)=>{var d,m,k,w,O,x,j,C,I;return e.childId?(b(),P("div",yt,[r("div",gt,[r("h1",null,l(s(c)(s(y).summary)),1),r("div",_t,[r("h2",null,[r("span",bt,l(s(c)(s(y).yourChildIQ)),1),W(" "+l(p.value)+" ("+l(s(c)(H(p.value)))+")",1)])]),u.value?(b(),X(mt,{key:0,IQChart:u.value},null,8,["IQChart"])):E("",!0)]),r("div",Ct,[r("div",Pt,[r("h1",null,l(s(c)(s(y).learningStyle)),1),r("h2",null,l(s(c)((d=f.value)==null?void 0:d.title)),1),r("div",It,[r("h3",null,l(s(c)(s(y).styleOverview)),1),r("p",null,l(s(c)((m=f.value)==null?void 0:m.description)),1)]),r("div",St,[r("h3",null,l(s(c)(s(y).supportTips)),1),r("p",null,l(s(c)((k=f.value)==null?void 0:k.advice)),1)])]),(w=f.value)!=null&&w.image?(b(),P("img",{key:0,src:(O=f.value)==null?void 0:O.image,style:{"margin-top":"8rem"},alt:""},null,8,kt)):E("",!0)]),r("div",wt,[r("div",Ot,[r("h1",null,l(s(c)(s(y).recommendTracks)),1),r("h2",null,l(s(c)((x=i.value)==null?void 0:x.title)),1),r("div",xt,[r("h3",null,l(s(c)(s(y).aboutTrack)),1),r("p",null,l(s(c)((j=i.value)==null?void 0:j.description)),1)]),r("div",jt,[r("h3",null,l(s(c)(s(y).guidingPath)),1),r("p",null,l(s(c)((C=i.value)==null?void 0:C.advice)),1)]),r("div",Vt,[r("h3",null,l(s(c)(s(y).keySkills)),1),(b(!0),P(Y,null,tt((I=i.value)==null?void 0:I.key_skills,h=>(b(),P("p",null,l(s(c)(h)),1))),256))])]),r("img",{src:A.value,style:{"margin-top":"8rem"},alt:""},null,8,$t)])])):E("",!0)}}}),At=M(Bt,[["__scopeId","data-v-3cdd1681"]]);export{At as C};
