import{A as N}from"./AdminSidebar-ChKq64ir.js";import{d as y,r,y as F,z as M,f as u,i as A,o as m,e as a,c as g,t as D,g as P,b as n,l as R,m as b,B as U,H as x,_ as B,C as $,D as q,N as E,F as S}from"./index-DBUqz39R.js";import{s as V}from"./index-B9eeytpK.js";const H={class:"dialog"},T={key:0,style:{color:"red"}},z={class:"wrapper"},L={class:"wrapper"},O={class:"btn-container"},j=y({__name:"AddInstructorDialog",props:["showDialog"],emits:["cancel"],setup(k,{emit:h}){const v=A(),w=k,p=h,e=r(),s=r(),l=r(),o=r("");function _(){p("cancel")}function f(){if(!e.value||!l.value||!s.value)o.value="Some Fields are Missing",setTimeout(()=>{o.value=""},5e3);else if(l.value!=s.value)o.value="Passwords are Different",setTimeout(()=>{o.value=""},5e3);else{let c={user:{email:e.value,hashed_pass:s.value,user_type:"Instructor"}};new x("signup").callApi(c).then(t=>{var d;(t==null?void 0:t.success)==!1&&(o.value=t==null?void 0:t.msg),t!=null&&t.success&&v.push(`/editInstructor/${(d=t==null?void 0:t.data)==null?void 0:d.user_id}`)})}}return(c,t)=>(m(),F(u(U),{visible:w.showDialog,"onUpdate:visible":t[3]||(t[3]=d=>w.showDialog=d),modal:"",pt:{root:"border-none",mask:{style:"backdrop-filter: blur(2px)"}}},{container:M(({closeCallback:d})=>[a("div",H,[o.value?(m(),g("h3",T,D(o.value),1)):P("",!0),a("div",z,[a("div",L,[n(u(R),{type:"email",class:"input",modelValue:e.value,"onUpdate:modelValue":t[0]||(t[0]=i=>e.value=i),placeholder:"Email"},null,8,["modelValue"]),n(u(V),{class:"input",modelValue:s.value,"onUpdate:modelValue":t[1]||(t[1]=i=>s.value=i),feedback:!1,toggleMask:"",placeholder:"Password"},null,8,["modelValue"]),n(u(V),{class:"input",modelValue:l.value,"onUpdate:modelValue":t[2]||(t[2]=i=>l.value=i),feedback:!1,toggleMask:"",placeholder:"Consirm Password"},null,8,["modelValue"])])]),a("div",O,[n(u(b),{label:"Add Instructor",style:{width:"10rem"},onClick:f}),n(u(b),{label:"Cancel",style:{width:"10rem","background-color":"red"},onClick:_})])])]),_:1},8,["visible"]))}}),G=B(j,[["__scopeId","data-v-bb746f40"]]),J={class:"container"},K={class:"wrapper"},Q={class:"top-option"},W={class:"table"},X={class:"row"},Y={class:"element"},Z={class:"element btnContainer"},tt=y({__name:"manageInstructors",setup(k){const h=A(),v=r([]);new x("get_instructors").callApi({}).then(e=>{var s,l,o,_,f;if(e.success)for(let c=0;c<((l=(s=e==null?void 0:e.data)==null?void 0:s.instructors)==null?void 0:l.length);c++){let t=(_=(o=e==null?void 0:e.data)==null?void 0:o.users)==null?void 0:_.find(i=>{var I,C;return(i==null?void 0:i.id)==((C=(I=e==null?void 0:e.data)==null?void 0:I.instructors[c])==null?void 0:C.user_id)}),d=(f=e==null?void 0:e.data)==null?void 0:f.instructors[c];v.value.push({...t,...d})}});const p=r(!1);return(e,s)=>(m(),g($,null,[n(G,{"show-dialog":p.value,onCancel:s[0]||(s[0]=l=>p.value=!1)},null,8,["show-dialog"]),n(E),a("div",J,[n(N,{class:"sidebar",selected:"Manage Instructors"}),a("div",K,[a("div",Q,[s[2]||(s[2]=a("h2",null,"Instructors",-1)),n(u(b),{label:"Add Instructor",icon:"pi pi-plus-circle","icon-pos":"right",onClick:s[1]||(s[1]=l=>p.value=!0)})]),a("div",W,[s[3]||(s[3]=a("div",{class:"row"},[a("h3",{class:"element"},"Email"),a("h3",{class:"element"},"Options")],-1)),(m(!0),g($,null,q(v.value,l=>(m(),g("div",X,[a("p",Y,D(l.email),1),a("div",Z,[n(u(b),{label:"View",onClick:o=>u(h).push(`/editInstructor/${l.id}`)},null,8,["onClick"])])]))),256))])])]),n(S)],64))}}),lt=B(tt,[["__scopeId","data-v-8aea6904"]]);export{lt as default};
