import{d as le,r as V,H as K,Z as Ce,o as v,c as k,e as l,b as d,f as c,l as D,p as oe,n as ue,_ as ae,M as Xe,A as G,B as Ze,O as Ae,P as xe,m as F,C as Ye,j as Ue,D as j,y as we,I as q,W as se,au as Se,g as H,av as at,w as J,x as Z,t as de,K as et,aw as R,G as st,i as ot,N as ut,X as Be,ax as rt,ay as dt,F as ct}from"./index-Bvp1XuOg.js";import{s as tt}from"./dropdown.esm-Db1hGmSo.js";import{a as pt,s as mt}from"./accordiontab.esm-92zXcYei.js";import{G as ht}from"./index-CdeYONtP.js";import{s as De,a as ft}from"./tabpanel.esm-D0bNwfg_.js";import"./index.esm-BU771hjk.js";const ce=t=>(oe("data-v-bac4694c"),t=t(),ue(),t),vt={class:"container"},gt={class:"material-container"},_t={class:"element"},yt=ce(()=>l("h4",null,"English Title",-1)),bt={class:"element"},$t=ce(()=>l("h4",null,"Arabic Title",-1)),Vt={class:"element"},Ct=ce(()=>l("h4",null,"English Description",-1)),It={class:"element"},wt=ce(()=>l("h4",null,"Arabic Description",-1)),St={class:"element"},Dt=ce(()=>l("h4",null,"Source",-1)),kt={class:"element"},xt=ce(()=>l("h4",null,"Image",-1)),Bt=le({__name:"AddSimulation",props:["addMaterial","materialId"],emits:["info"],setup(t,{emit:e}){const n=V({en:"",ar:""}),i=V({en:"",ar:""}),s=V(""),a=V(""),m=t,p=e;return m.materialId&&new K("get_simulation").callApi({simulation_id:m.materialId}).then(u=>{var o,r,_,I,C,A,E,U;u!=null&&u.success&&(n.value=(r=(o=u==null?void 0:u.data)==null?void 0:o.simulation)==null?void 0:r.title,i.value=(I=(_=u==null?void 0:u.data)==null?void 0:_.simulation)==null?void 0:I.description,s.value=(A=(C=u==null?void 0:u.data)==null?void 0:C.simulation)==null?void 0:A.source,a.value=(U=(E=u==null?void 0:u.data)==null?void 0:E.simulation)==null?void 0:U.image)}),Ce(m,()=>{if(m.addMaterial){let u={title:n.value,description:i.value,source:s.value,image:a.value};if(m.materialId){let o={simulation_id:m.materialId,update:u};new K("update_simulation").callApi(o).then(r=>{r!=null&&r.success&&p("info",null)})}else{let o={new_simulation:u};new K("create_simulation").callApi(o).then(r=>{var _,I;if((_=r==null?void 0:r.data)!=null&&_.simulation_id){let C={Id:(I=r==null?void 0:r.data)==null?void 0:I.simulation_id,title:{en:n.value.en,ar:n.value.ar}};p("info",C)}})}}}),(u,o)=>(v(),k("div",vt,[l("div",gt,[l("div",_t,[yt,d(c(D),{modelValue:n.value.en,"onUpdate:modelValue":o[0]||(o[0]=r=>n.value.en=r)},null,8,["modelValue"])]),l("div",bt,[$t,d(c(D),{modelValue:n.value.ar,"onUpdate:modelValue":o[1]||(o[1]=r=>n.value.ar=r)},null,8,["modelValue"])]),l("div",Vt,[Ct,d(c(D),{modelValue:i.value.en,"onUpdate:modelValue":o[2]||(o[2]=r=>i.value.en=r)},null,8,["modelValue"])]),l("div",It,[wt,d(c(D),{modelValue:i.value.ar,"onUpdate:modelValue":o[3]||(o[3]=r=>i.value.ar=r)},null,8,["modelValue"])]),l("div",St,[Dt,d(c(D),{modelValue:s.value,"onUpdate:modelValue":o[4]||(o[4]=r=>s.value=r)},null,8,["modelValue"])]),l("div",kt,[xt,d(c(D),{modelValue:a.value,"onUpdate:modelValue":o[5]||(o[5]=r=>a.value=r)},null,8,["modelValue"])])])]))}}),At=ae(Bt,[["__scopeId","data-v-bac4694c"]]);var nt={name:"AngleDownIcon",extends:Xe},Ut=l("path",{d:"M3.58659 4.5007C3.68513 4.50023 3.78277 4.51945 3.87379 4.55723C3.9648 4.59501 4.04735 4.65058 4.11659 4.7207L7.11659 7.7207L10.1166 4.7207C10.2619 4.65055 10.4259 4.62911 10.5843 4.65956C10.7427 4.69002 10.8871 4.77074 10.996 4.88976C11.1049 5.00877 11.1726 5.15973 11.1889 5.32022C11.2052 5.48072 11.1693 5.6422 11.0866 5.7807L7.58659 9.2807C7.44597 9.42115 7.25534 9.50004 7.05659 9.50004C6.85784 9.50004 6.66722 9.42115 6.52659 9.2807L3.02659 5.7807C2.88614 5.64007 2.80725 5.44945 2.80725 5.2507C2.80725 5.05195 2.88614 4.86132 3.02659 4.7207C3.09932 4.64685 3.18675 4.58911 3.28322 4.55121C3.37969 4.51331 3.48305 4.4961 3.58659 4.5007Z",fill:"currentColor"},null,-1),Mt=[Ut];function Pt(t,e,n,i,s,a){return v(),k("svg",G({width:"14",height:"14",viewBox:"0 0 14 14",fill:"none",xmlns:"http://www.w3.org/2000/svg"},t.pti()),Mt,16)}nt.render=Pt;var it={name:"AngleUpIcon",extends:Xe},Et=l("path",{d:"M10.4134 9.49931C10.3148 9.49977 10.2172 9.48055 10.1262 9.44278C10.0352 9.405 9.95263 9.34942 9.88338 9.27931L6.88338 6.27931L3.88338 9.27931C3.73811 9.34946 3.57409 9.3709 3.41567 9.34044C3.25724 9.30999 3.11286 9.22926 3.00395 9.11025C2.89504 8.99124 2.82741 8.84028 2.8111 8.67978C2.79478 8.51928 2.83065 8.35781 2.91338 8.21931L6.41338 4.71931C6.55401 4.57886 6.74463 4.49997 6.94338 4.49997C7.14213 4.49997 7.33276 4.57886 7.47338 4.71931L10.9734 8.21931C11.1138 8.35994 11.1927 8.55056 11.1927 8.74931C11.1927 8.94806 11.1138 9.13868 10.9734 9.27931C10.9007 9.35315 10.8132 9.41089 10.7168 9.44879C10.6203 9.48669 10.5169 9.5039 10.4134 9.49931Z",fill:"currentColor"},null,-1),Tt=[Et];function Ot(t,e,n,i,s,a){return v(),k("svg",G({width:"14",height:"14",viewBox:"0 0 14 14",fill:"none",xmlns:"http://www.w3.org/2000/svg"},t.pti()),Tt,16)}it.render=Ot;var Lt={root:function(e){var n=e.instance,i=e.props;return["p-inputnumber p-component p-inputwrapper",{"p-inputwrapper-filled":n.filled||i.allowEmpty===!1,"p-inputwrapper-focus":n.focused,"p-inputnumber-buttons-stacked":i.showButtons&&i.buttonLayout==="stacked","p-inputnumber-buttons-horizontal":i.showButtons&&i.buttonLayout==="horizontal","p-inputnumber-buttons-vertical":i.showButtons&&i.buttonLayout==="vertical","p-invalid":i.invalid}]},input:function(e){var n=e.props,i=e.instance;return["p-inputnumber-input",{"p-variant-filled":n.variant?n.variant==="filled":i.$primevue.config.inputStyle==="filled"}]},buttonGroup:"p-inputnumber-button-group",incrementButton:function(e){var n=e.instance,i=e.props;return["p-inputnumber-button p-inputnumber-button-up",{"p-disabled":i.showButtons&&i.max!==null&&n.maxBoundry()}]},decrementButton:function(e){var n=e.instance,i=e.props;return["p-inputnumber-button p-inputnumber-button-down",{"p-disabled":i.showButtons&&i.min!==null&&n.minBoundry()}]}},Ft=Ze.extend({name:"inputnumber",classes:Lt}),Nt={name:"BaseInputNumber",extends:Ye,props:{modelValue:{type:Number,default:null},format:{type:Boolean,default:!0},showButtons:{type:Boolean,default:!1},buttonLayout:{type:String,default:"stacked"},incrementButtonClass:{type:String,default:null},decrementButtonClass:{type:String,default:null},incrementButtonIcon:{type:String,default:void 0},decrementButtonIcon:{type:String,default:void 0},locale:{type:String,default:void 0},localeMatcher:{type:String,default:void 0},mode:{type:String,default:"decimal"},prefix:{type:String,default:null},suffix:{type:String,default:null},currency:{type:String,default:void 0},currencyDisplay:{type:String,default:void 0},useGrouping:{type:Boolean,default:!0},minFractionDigits:{type:Number,default:void 0},maxFractionDigits:{type:Number,default:void 0},roundingMode:{type:String,default:"halfExpand",validator:function(e){return["ceil","floor","expand","trunc","halfCeil","halfFloor","halfExpand","halfTrunc","halfEven"].includes(e)}},min:{type:Number,default:null},max:{type:Number,default:null},step:{type:Number,default:1},allowEmpty:{type:Boolean,default:!0},highlightOnFocus:{type:Boolean,default:!1},readonly:{type:Boolean,default:!1},variant:{type:String,default:null},invalid:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},placeholder:{type:String,default:null},inputId:{type:String,default:null},inputClass:{type:[String,Object],default:null},inputStyle:{type:Object,default:null},inputProps:{type:null,default:null},incrementButtonProps:{type:null,default:null},decrementButtonProps:{type:null,default:null},ariaLabelledby:{type:String,default:null},ariaLabel:{type:String,default:null}},style:Ft,provide:function(){return{$parentInstance:this}}};function Ve(t){"@babel/helpers - typeof";return Ve=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ve(t)}function We(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,i)}return n}function Je(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?We(Object(n),!0).forEach(function(i){Rt(t,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):We(Object(n)).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(n,i))})}return t}function Rt(t,e,n){return e=jt(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function jt(t){var e=qt(t,"string");return Ve(e)=="symbol"?e:String(e)}function qt(t,e){if(Ve(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var i=n.call(t,e||"default");if(Ve(i)!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function zt(t){return Ht(t)||Qt(t)||Gt(t)||Kt()}function Kt(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Gt(t,e){if(t){if(typeof t=="string")return Me(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Me(t,e)}}function Qt(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Ht(t){if(Array.isArray(t))return Me(t)}function Me(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,i=new Array(e);n<e;n++)i[n]=t[n];return i}var lt={name:"InputNumber",extends:Nt,inheritAttrs:!1,emits:["update:modelValue","input","focus","blur"],numberFormat:null,_numeral:null,_decimal:null,_group:null,_minusSign:null,_currency:null,_suffix:null,_prefix:null,_index:null,groupChar:"",isSpecialChar:null,prefixChar:null,suffixChar:null,timer:null,data:function(){return{d_modelValue:this.modelValue,focused:!1}},watch:{modelValue:function(e){this.d_modelValue=e},locale:function(e,n){this.updateConstructParser(e,n)},localeMatcher:function(e,n){this.updateConstructParser(e,n)},mode:function(e,n){this.updateConstructParser(e,n)},currency:function(e,n){this.updateConstructParser(e,n)},currencyDisplay:function(e,n){this.updateConstructParser(e,n)},useGrouping:function(e,n){this.updateConstructParser(e,n)},minFractionDigits:function(e,n){this.updateConstructParser(e,n)},maxFractionDigits:function(e,n){this.updateConstructParser(e,n)},suffix:function(e,n){this.updateConstructParser(e,n)},prefix:function(e,n){this.updateConstructParser(e,n)}},created:function(){this.constructParser()},methods:{getOptions:function(){return{localeMatcher:this.localeMatcher,style:this.mode,currency:this.currency,currencyDisplay:this.currencyDisplay,useGrouping:this.useGrouping,minimumFractionDigits:this.minFractionDigits,maximumFractionDigits:this.maxFractionDigits,roundingMode:this.roundingMode}},constructParser:function(){this.numberFormat=new Intl.NumberFormat(this.locale,this.getOptions());var e=zt(new Intl.NumberFormat(this.locale,{useGrouping:!1}).format(9876543210)).reverse(),n=new Map(e.map(function(i,s){return[i,s]}));this._numeral=new RegExp("[".concat(e.join(""),"]"),"g"),this._group=this.getGroupingExpression(),this._minusSign=this.getMinusSignExpression(),this._currency=this.getCurrencyExpression(),this._decimal=this.getDecimalExpression(),this._suffix=this.getSuffixExpression(),this._prefix=this.getPrefixExpression(),this._index=function(i){return n.get(i)}},updateConstructParser:function(e,n){e!==n&&this.constructParser()},escapeRegExp:function(e){return e.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&")},getDecimalExpression:function(){var e=new Intl.NumberFormat(this.locale,Je(Je({},this.getOptions()),{},{useGrouping:!1}));return new RegExp("[".concat(e.format(1.1).replace(this._currency,"").trim().replace(this._numeral,""),"]"),"g")},getGroupingExpression:function(){var e=new Intl.NumberFormat(this.locale,{useGrouping:!0});return this.groupChar=e.format(1e6).trim().replace(this._numeral,"").charAt(0),new RegExp("[".concat(this.groupChar,"]"),"g")},getMinusSignExpression:function(){var e=new Intl.NumberFormat(this.locale,{useGrouping:!1});return new RegExp("[".concat(e.format(-1).trim().replace(this._numeral,""),"]"),"g")},getCurrencyExpression:function(){if(this.currency){var e=new Intl.NumberFormat(this.locale,{style:"currency",currency:this.currency,currencyDisplay:this.currencyDisplay,minimumFractionDigits:0,maximumFractionDigits:0,roundingMode:this.roundingMode});return new RegExp("[".concat(e.format(1).replace(/\s/g,"").replace(this._numeral,"").replace(this._group,""),"]"),"g")}return new RegExp("[]","g")},getPrefixExpression:function(){if(this.prefix)this.prefixChar=this.prefix;else{var e=new Intl.NumberFormat(this.locale,{style:this.mode,currency:this.currency,currencyDisplay:this.currencyDisplay});this.prefixChar=e.format(1).split("1")[0]}return new RegExp("".concat(this.escapeRegExp(this.prefixChar||"")),"g")},getSuffixExpression:function(){if(this.suffix)this.suffixChar=this.suffix;else{var e=new Intl.NumberFormat(this.locale,{style:this.mode,currency:this.currency,currencyDisplay:this.currencyDisplay,minimumFractionDigits:0,maximumFractionDigits:0,roundingMode:this.roundingMode});this.suffixChar=e.format(1).split("1")[1]}return new RegExp("".concat(this.escapeRegExp(this.suffixChar||"")),"g")},formatValue:function(e){if(e!=null){if(e==="-")return e;if(this.format){var n=new Intl.NumberFormat(this.locale,this.getOptions()),i=n.format(e);return this.prefix&&(i=this.prefix+i),this.suffix&&(i=i+this.suffix),i}return e.toString()}return""},parseValue:function(e){var n=e.replace(this._suffix,"").replace(this._prefix,"").trim().replace(/\s/g,"").replace(this._currency,"").replace(this._group,"").replace(this._minusSign,"-").replace(this._decimal,".").replace(this._numeral,this._index);if(n){if(n==="-")return n;var i=+n;return isNaN(i)?null:i}return null},repeat:function(e,n,i){var s=this;if(!this.readonly){var a=n||500;this.clearTimer(),this.timer=setTimeout(function(){s.repeat(e,40,i)},a),this.spin(e,i)}},spin:function(e,n){if(this.$refs.input){var i=this.step*n,s=this.parseValue(this.$refs.input.$el.value)||0,a=this.validateValue(s+i);this.updateInput(a,null,"spin"),this.updateModel(e,a),this.handleOnInput(e,s,a)}},onUpButtonMouseDown:function(e){this.disabled||(this.$refs.input.$el.focus(),this.repeat(e,null,1),e.preventDefault())},onUpButtonMouseUp:function(){this.disabled||this.clearTimer()},onUpButtonMouseLeave:function(){this.disabled||this.clearTimer()},onUpButtonKeyUp:function(){this.disabled||this.clearTimer()},onUpButtonKeyDown:function(e){(e.keyCode===32||e.keyCode===13)&&this.repeat(e,null,1)},onDownButtonMouseDown:function(e){this.disabled||(this.$refs.input.$el.focus(),this.repeat(e,null,-1),e.preventDefault())},onDownButtonMouseUp:function(){this.disabled||this.clearTimer()},onDownButtonMouseLeave:function(){this.disabled||this.clearTimer()},onDownButtonKeyUp:function(){this.disabled||this.clearTimer()},onDownButtonKeyDown:function(e){(e.keyCode===32||e.keyCode===13)&&this.repeat(e,null,-1)},onUserInput:function(){this.isSpecialChar&&(this.$refs.input.$el.value=this.lastValue),this.isSpecialChar=!1},onInputKeyDown:function(e){if(!this.readonly){if(this.lastValue=e.target.value,e.shiftKey||e.altKey){this.isSpecialChar=!0;return}var n=e.target.selectionStart,i=e.target.selectionEnd,s=e.target.value,a=null;switch(e.altKey&&e.preventDefault(),e.code){case"ArrowUp":this.spin(e,1),e.preventDefault();break;case"ArrowDown":this.spin(e,-1),e.preventDefault();break;case"ArrowLeft":this.isNumeralChar(s.charAt(n-1))||e.preventDefault();break;case"ArrowRight":this.isNumeralChar(s.charAt(n))||e.preventDefault();break;case"Tab":case"Enter":case"NumpadEnter":a=this.validateValue(this.parseValue(s)),this.$refs.input.$el.value=this.formatValue(a),this.$refs.input.$el.setAttribute("aria-valuenow",a),this.updateModel(e,a);break;case"Backspace":{if(e.preventDefault(),n===i){var m=s.charAt(n-1),p=this.getDecimalCharIndexes(s),u=p.decimalCharIndex,o=p.decimalCharIndexWithoutPrefix;if(this.isNumeralChar(m)){var r=this.getDecimalLength(s);if(this._group.test(m))this._group.lastIndex=0,a=s.slice(0,n-2)+s.slice(n-1);else if(this._decimal.test(m))this._decimal.lastIndex=0,r?this.$refs.input.$el.setSelectionRange(n-1,n-1):a=s.slice(0,n-1)+s.slice(n);else if(u>0&&n>u){var _=this.isDecimalMode()&&(this.minFractionDigits||0)<r?"":"0";a=s.slice(0,n-1)+_+s.slice(n)}else o===1?(a=s.slice(0,n-1)+"0"+s.slice(n),a=this.parseValue(a)>0?a:""):a=s.slice(0,n-1)+s.slice(n)}this.updateValue(e,a,null,"delete-single")}else a=this.deleteRange(s,n,i),this.updateValue(e,a,null,"delete-range");break}case"Delete":if(e.preventDefault(),n===i){var I=s.charAt(n),C=this.getDecimalCharIndexes(s),A=C.decimalCharIndex,E=C.decimalCharIndexWithoutPrefix;if(this.isNumeralChar(I)){var U=this.getDecimalLength(s);if(this._group.test(I))this._group.lastIndex=0,a=s.slice(0,n)+s.slice(n+2);else if(this._decimal.test(I))this._decimal.lastIndex=0,U?this.$refs.input.$el.setSelectionRange(n+1,n+1):a=s.slice(0,n)+s.slice(n+1);else if(A>0&&n>A){var f=this.isDecimalMode()&&(this.minFractionDigits||0)<U?"":"0";a=s.slice(0,n)+f+s.slice(n+1)}else E===1?(a=s.slice(0,n)+"0"+s.slice(n+1),a=this.parseValue(a)>0?a:""):a=s.slice(0,n)+s.slice(n+1)}this.updateValue(e,a,null,"delete-back-single")}else a=this.deleteRange(s,n,i),this.updateValue(e,a,null,"delete-range");break;case"Home":e.preventDefault(),Ae.isEmpty(this.min)||this.updateModel(e,this.min);break;case"End":e.preventDefault(),Ae.isEmpty(this.max)||this.updateModel(e,this.max);break}}},onInputKeyPress:function(e){if(!this.readonly){e.preventDefault();var n=e.which||e.keyCode,i=String.fromCharCode(n),s=this.isDecimalSign(i),a=this.isMinusSign(i);(48<=n&&n<=57||a||s)&&this.insert(e,i,{isDecimalSign:s,isMinusSign:a})}},onPaste:function(e){e.preventDefault();var n=(e.clipboardData||window.clipboardData).getData("Text");if(n){var i=this.parseValue(n);i!=null&&this.insert(e,i.toString())}},allowMinusSign:function(){return this.min===null||this.min<0},isMinusSign:function(e){return this._minusSign.test(e)||e==="-"?(this._minusSign.lastIndex=0,!0):!1},isDecimalSign:function(e){return this._decimal.test(e)?(this._decimal.lastIndex=0,!0):!1},isDecimalMode:function(){return this.mode==="decimal"},getDecimalCharIndexes:function(e){var n=e.search(this._decimal);this._decimal.lastIndex=0;var i=e.replace(this._prefix,"").trim().replace(/\s/g,"").replace(this._currency,""),s=i.search(this._decimal);return this._decimal.lastIndex=0,{decimalCharIndex:n,decimalCharIndexWithoutPrefix:s}},getCharIndexes:function(e){var n=e.search(this._decimal);this._decimal.lastIndex=0;var i=e.search(this._minusSign);this._minusSign.lastIndex=0;var s=e.search(this._suffix);this._suffix.lastIndex=0;var a=e.search(this._currency);return this._currency.lastIndex=0,{decimalCharIndex:n,minusCharIndex:i,suffixCharIndex:s,currencyCharIndex:a}},insert:function(e,n){var i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{isDecimalSign:!1,isMinusSign:!1},s=n.search(this._minusSign);if(this._minusSign.lastIndex=0,!(!this.allowMinusSign()&&s!==-1)){var a=this.$refs.input.$el.selectionStart,m=this.$refs.input.$el.selectionEnd,p=this.$refs.input.$el.value.trim(),u=this.getCharIndexes(p),o=u.decimalCharIndex,r=u.minusCharIndex,_=u.suffixCharIndex,I=u.currencyCharIndex,C;if(i.isMinusSign)a===0&&(C=p,(r===-1||m!==0)&&(C=this.insertText(p,n,0,m)),this.updateValue(e,C,n,"insert"));else if(i.isDecimalSign)o>0&&a===o?this.updateValue(e,p,n,"insert"):o>a&&o<m?(C=this.insertText(p,n,a,m),this.updateValue(e,C,n,"insert")):o===-1&&this.maxFractionDigits&&(C=this.insertText(p,n,a,m),this.updateValue(e,C,n,"insert"));else{var A=this.numberFormat.resolvedOptions().maximumFractionDigits,E=a!==m?"range-insert":"insert";if(o>0&&a>o){if(a+n.length-(o+1)<=A){var U=I>=a?I-1:_>=a?_:p.length;C=p.slice(0,a)+n+p.slice(a+n.length,U)+p.slice(U),this.updateValue(e,C,n,E)}}else C=this.insertText(p,n,a,m),this.updateValue(e,C,n,E)}}},insertText:function(e,n,i,s){var a=n==="."?n:n.split(".");if(a.length===2){var m=e.slice(i,s).search(this._decimal);return this._decimal.lastIndex=0,m>0?e.slice(0,i)+this.formatValue(n)+e.slice(s):this.formatValue(n)||e}else return s-i===e.length?this.formatValue(n):i===0?n+e.slice(s):s===e.length?e.slice(0,i)+n:e.slice(0,i)+n+e.slice(s)},deleteRange:function(e,n,i){var s;return i-n===e.length?s="":n===0?s=e.slice(i):i===e.length?s=e.slice(0,n):s=e.slice(0,n)+e.slice(i),s},initCursor:function(){var e=this.$refs.input.$el.selectionStart,n=this.$refs.input.$el.value,i=n.length,s=null,a=(this.prefixChar||"").length;n=n.replace(this._prefix,""),e=e-a;var m=n.charAt(e);if(this.isNumeralChar(m))return e+a;for(var p=e-1;p>=0;)if(m=n.charAt(p),this.isNumeralChar(m)){s=p+a;break}else p--;if(s!==null)this.$refs.input.$el.setSelectionRange(s+1,s+1);else{for(p=e;p<i;)if(m=n.charAt(p),this.isNumeralChar(m)){s=p+a;break}else p++;s!==null&&this.$refs.input.$el.setSelectionRange(s,s)}return s||0},onInputClick:function(){var e=this.$refs.input.$el.value;!this.readonly&&e!==xe.getSelection()&&this.initCursor()},isNumeralChar:function(e){return e.length===1&&(this._numeral.test(e)||this._decimal.test(e)||this._group.test(e)||this._minusSign.test(e))?(this.resetRegex(),!0):!1},resetRegex:function(){this._numeral.lastIndex=0,this._decimal.lastIndex=0,this._group.lastIndex=0,this._minusSign.lastIndex=0},updateValue:function(e,n,i,s){var a=this.$refs.input.$el.value,m=null;n!=null&&(m=this.parseValue(n),m=!m&&!this.allowEmpty?0:m,this.updateInput(m,i,s,n),this.handleOnInput(e,a,m))},handleOnInput:function(e,n,i){this.isValueChanged(n,i)&&this.$emit("input",{originalEvent:e,value:i,formattedValue:n})},isValueChanged:function(e,n){if(n===null&&e!==null)return!0;if(n!=null){var i=typeof e=="string"?this.parseValue(e):e;return n!==i}return!1},validateValue:function(e){return e==="-"||e==null?null:this.min!=null&&e<this.min?this.min:this.max!=null&&e>this.max?this.max:e},updateInput:function(e,n,i,s){n=n||"";var a=this.$refs.input.$el.value,m=this.formatValue(e),p=a.length;if(m!==s&&(m=this.concatValues(m,s)),p===0){this.$refs.input.$el.value=m,this.$refs.input.$el.setSelectionRange(0,0);var u=this.initCursor(),o=u+n.length;this.$refs.input.$el.setSelectionRange(o,o)}else{var r=this.$refs.input.$el.selectionStart,_=this.$refs.input.$el.selectionEnd;this.$refs.input.$el.value=m;var I=m.length;if(i==="range-insert"){var C=this.parseValue((a||"").slice(0,r)),A=C!==null?C.toString():"",E=A.split("").join("(".concat(this.groupChar,")?")),U=new RegExp(E,"g");U.test(m);var f=n.split("").join("(".concat(this.groupChar,")?")),M=new RegExp(f,"g");M.test(m.slice(U.lastIndex)),_=U.lastIndex+M.lastIndex,this.$refs.input.$el.setSelectionRange(_,_)}else if(I===p)if(i==="insert"||i==="delete-back-single"){var g=/[.,]/g,y=_+Number(g.test(e)||g.test(n));this.$refs.input.$el.setSelectionRange(y,y)}else i==="delete-single"?this.$refs.input.$el.setSelectionRange(_-1,_-1):(i==="delete-range"||i==="spin")&&this.$refs.input.$el.setSelectionRange(_,_);else if(i==="delete-back-single"){var h=a.charAt(_-1),T=a.charAt(_),b=p-I,L=this._group.test(T);L&&b===1?_+=1:!L&&this.isNumeralChar(h)&&(_+=-1*b+1),this._group.lastIndex=0,this.$refs.input.$el.setSelectionRange(_,_)}else if(a==="-"&&i==="insert"){this.$refs.input.$el.setSelectionRange(0,0);var z=this.initCursor(),Q=z+n.length+1;this.$refs.input.$el.setSelectionRange(Q,Q)}else _=_+(I-p),this.$refs.input.$el.setSelectionRange(_,_)}this.$refs.input.$el.setAttribute("aria-valuenow",e)},concatValues:function(e,n){if(e&&n){var i=n.search(this._decimal);return this._decimal.lastIndex=0,this.suffixChar?i!==-1?e.replace(this.suffixChar,"").split(this._decimal)[0]+n.replace(this.suffixChar,"").slice(i)+this.suffixChar:e:i!==-1?e.split(this._decimal)[0]+n.slice(i):e}return e},getDecimalLength:function(e){if(e){var n=e.split(this._decimal);if(n.length===2)return n[1].replace(this._suffix,"").trim().replace(/\s/g,"").replace(this._currency,"").length}return 0},updateModel:function(e,n){this.d_modelValue=n,this.$emit("update:modelValue",n)},onInputFocus:function(e){this.focused=!0,!this.disabled&&!this.readonly&&this.$refs.input.$el.value!==xe.getSelection()&&this.highlightOnFocus&&e.target.select(),this.$emit("focus",e)},onInputBlur:function(e){this.focused=!1;var n=e.target,i=this.validateValue(this.parseValue(n.value));this.$emit("blur",{originalEvent:e,value:n.value}),n.value=this.formatValue(i),n.setAttribute("aria-valuenow",i),this.updateModel(e,i),!this.disabled&&!this.readonly&&this.highlightOnFocus&&xe.clearSelection()},clearTimer:function(){this.timer&&clearInterval(this.timer)},maxBoundry:function(){return this.d_modelValue>=this.max},minBoundry:function(){return this.d_modelValue<=this.min}},computed:{filled:function(){return this.modelValue!=null&&this.modelValue.toString().length>0},upButtonListeners:function(){var e=this;return{mousedown:function(i){return e.onUpButtonMouseDown(i)},mouseup:function(i){return e.onUpButtonMouseUp(i)},mouseleave:function(i){return e.onUpButtonMouseLeave(i)},keydown:function(i){return e.onUpButtonKeyDown(i)},keyup:function(i){return e.onUpButtonKeyUp(i)}}},downButtonListeners:function(){var e=this;return{mousedown:function(i){return e.onDownButtonMouseDown(i)},mouseup:function(i){return e.onDownButtonMouseUp(i)},mouseleave:function(i){return e.onDownButtonMouseLeave(i)},keydown:function(i){return e.onDownButtonKeyDown(i)},keyup:function(i){return e.onDownButtonKeyUp(i)}}},formattedValue:function(){var e=!this.modelValue&&!this.allowEmpty?0:this.modelValue;return this.formatValue(e)},getFormatter:function(){return this.numberFormat}},components:{INInputText:D,INButton:F,AngleUpIcon:it,AngleDownIcon:nt}};function Wt(t,e,n,i,s,a){var m=Ue("INInputText"),p=Ue("INButton");return v(),k("span",G({class:t.cx("root")},t.ptmi("root")),[d(m,G({ref:"input",id:t.inputId,role:"spinbutton",class:[t.cx("input"),t.inputClass],style:t.inputStyle,value:a.formattedValue,"aria-valuemin":t.min,"aria-valuemax":t.max,"aria-valuenow":t.modelValue,disabled:t.disabled,readonly:t.readonly,placeholder:t.placeholder,"aria-labelledby":t.ariaLabelledby,"aria-label":t.ariaLabel,"aria-invalid":t.invalid||void 0,onInput:a.onUserInput,onKeydown:a.onInputKeyDown,onKeypress:a.onInputKeyPress,onPaste:a.onPaste,onClick:a.onInputClick,onFocus:a.onInputFocus,onBlur:a.onInputBlur},t.inputProps,{pt:t.ptm("input"),unstyled:t.unstyled}),null,16,["id","class","style","value","aria-valuemin","aria-valuemax","aria-valuenow","disabled","readonly","placeholder","aria-labelledby","aria-label","aria-invalid","onInput","onKeydown","onKeypress","onPaste","onClick","onFocus","onBlur","pt","unstyled"]),t.showButtons&&t.buttonLayout==="stacked"?(v(),k("span",G({key:0,class:t.cx("buttonGroup")},t.ptm("buttonGroup")),[d(p,G({class:[t.cx("incrementButton"),t.incrementButtonClass]},Se(a.upButtonListeners),{disabled:t.disabled,tabindex:-1,"aria-hidden":"true"},t.incrementButtonProps,{pt:t.ptm("incrementButton"),unstyled:t.unstyled}),{icon:j(function(){return[we(t.$slots,"incrementbuttonicon",{},function(){return[(v(),q(se(t.incrementButtonIcon?"span":"AngleUpIcon"),G({class:t.incrementButtonIcon},t.ptm("incrementButton").icon,{"data-pc-section":"incrementbuttonicon"}),null,16,["class"]))]})]}),_:3},16,["class","disabled","pt","unstyled"]),d(p,G({class:[t.cx("decrementButton"),t.decrementButtonClass]},Se(a.downButtonListeners),{disabled:t.disabled,tabindex:-1,"aria-hidden":"true"},t.decrementButtonProps,{pt:t.ptm("decrementButton"),unstyled:t.unstyled}),{icon:j(function(){return[we(t.$slots,"decrementbuttonicon",{},function(){return[(v(),q(se(t.decrementButtonIcon?"span":"AngleDownIcon"),G({class:t.decrementButtonIcon},t.ptm("decrementButton").icon,{"data-pc-section":"decrementbuttonicon"}),null,16,["class"]))]})]}),_:3},16,["class","disabled","pt","unstyled"])],16)):H("",!0),t.showButtons&&t.buttonLayout!=="stacked"?(v(),q(p,G({key:1,class:[t.cx("incrementButton"),t.incrementButtonClass]},Se(a.upButtonListeners),{disabled:t.disabled,tabindex:-1,"aria-hidden":"true"},t.incrementButtonProps,{pt:t.ptm("incrementButton"),unstyled:t.unstyled}),{icon:j(function(){return[we(t.$slots,"incrementbuttonicon",{},function(){return[(v(),q(se(t.incrementButtonIcon?"span":"AngleUpIcon"),G({class:t.incrementButtonIcon},t.ptm("incrementButton").icon,{"data-pc-section":"incrementbuttonicon"}),null,16,["class"]))]})]}),_:3},16,["class","disabled","pt","unstyled"])):H("",!0),t.showButtons&&t.buttonLayout!=="stacked"?(v(),q(p,G({key:2,class:[t.cx("decrementButton"),t.decrementButtonClass]},Se(a.downButtonListeners),{disabled:t.disabled,tabindex:-1,"aria-hidden":"true"},t.decrementButtonProps,{pt:t.ptm("decrementButton"),unstyled:t.unstyled}),{icon:j(function(){return[we(t.$slots,"decrementbuttonicon",{},function(){return[(v(),q(se(t.decrementButtonIcon?"span":"AngleDownIcon"),G({class:t.decrementButtonIcon},t.ptm("decrementButton").icon,{"data-pc-section":"decrementbuttonicon"}),null,16,["class"]))]})]}),_:3},16,["class","disabled","pt","unstyled"])):H("",!0)],16)}lt.render=Wt;var Jt={root:function(e){var n=e.instance,i=e.props;return["p-radiobutton p-component",{"p-highlight":n.checked,"p-disabled":i.disabled,"p-invalid":i.invalid,"p-variant-filled":i.variant?i.variant==="filled":n.$primevue.config.inputStyle==="filled"}]},box:"p-radiobutton-box",input:"p-radiobutton-input",icon:"p-radiobutton-icon"},Xt=Ze.extend({name:"radiobutton",classes:Jt}),Zt={name:"BaseRadioButton",extends:Ye,props:{value:null,modelValue:null,binary:Boolean,name:{type:String,default:null},variant:{type:String,default:null},invalid:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},readonly:{type:Boolean,default:!1},tabindex:{type:Number,default:null},inputId:{type:String,default:null},inputClass:{type:[String,Object],default:null},inputStyle:{type:Object,default:null},ariaLabelledby:{type:String,default:null},ariaLabel:{type:String,default:null}},style:Xt,provide:function(){return{$parentInstance:this}}},ke={name:"RadioButton",extends:Zt,inheritAttrs:!1,emits:["update:modelValue","change","focus","blur"],methods:{getPTOptions:function(e){var n=e==="root"?this.ptmi:this.ptm;return n(e,{context:{checked:this.checked,disabled:this.disabled}})},onChange:function(e){if(!this.disabled&&!this.readonly){var n=this.binary?!this.checked:this.value;this.$emit("update:modelValue",n),this.$emit("change",e)}},onFocus:function(e){this.$emit("focus",e)},onBlur:function(e){this.$emit("blur",e)}},computed:{checked:function(){return this.modelValue!=null&&(this.binary?!!this.modelValue:Ae.equals(this.modelValue,this.value))}}},Yt=["data-p-highlight","data-p-disabled"],en=["id","value","name","checked","tabindex","disabled","readonly","aria-labelledby","aria-label","aria-invalid"];function tn(t,e,n,i,s,a){return v(),k("div",G({class:t.cx("root")},a.getPTOptions("root"),{"data-p-highlight":a.checked,"data-p-disabled":t.disabled}),[l("input",G({id:t.inputId,type:"radio",class:[t.cx("input"),t.inputClass],style:t.inputStyle,value:t.value,name:t.name,checked:a.checked,tabindex:t.tabindex,disabled:t.disabled,readonly:t.readonly,"aria-labelledby":t.ariaLabelledby,"aria-label":t.ariaLabel,"aria-invalid":t.invalid||void 0,onFocus:e[0]||(e[0]=function(){return a.onFocus&&a.onFocus.apply(a,arguments)}),onBlur:e[1]||(e[1]=function(){return a.onBlur&&a.onBlur.apply(a,arguments)}),onChange:e[2]||(e[2]=function(){return a.onChange&&a.onChange.apply(a,arguments)})},a.getPTOptions("input")),null,16,en),l("div",G({class:t.cx("box")},a.getPTOptions("box")),[l("div",G({class:t.cx("icon")},a.getPTOptions("icon")),null,16)],16)],16,Yt)}ke.render=tn;const ne=t=>(oe("data-v-b1f8aabe"),t=t(),ue(),t),nn={key:0,class:"smart_extract"},ln={class:"element"},an=ne(()=>l("h4",null,"Smart Extraction",-1)),sn={key:1,class:"container"},on={class:"material-container"},un={class:"element"},rn=ne(()=>l("h4",null,"English Title",-1)),dn={class:"element"},cn=ne(()=>l("h4",null,"Arabic Title",-1)),pn={class:"element"},mn=ne(()=>l("h4",null,"English Description",-1)),hn={class:"element"},fn=ne(()=>l("h4",null,"Arabic Description",-1)),vn={class:"element"},gn=ne(()=>l("h4",null,"Duration",-1)),_n={class:"questions"},yn=ne(()=>l("h4",null,"Questions",-1)),bn={class:"question"},$n=["onClick"],Vn={class:"element-container"},Cn={class:"element"},In=ne(()=>l("span",null,"En",-1)),wn={class:"element"},Sn=ne(()=>l("span",null,"Ar",-1)),Dn={class:"choices"},kn=["for"],xn=["onClick"],Bn={class:"element-container"},An={class:"element"},Un=ne(()=>l("span",null,"En",-1)),Mn={class:"element"},Pn=ne(()=>l("span",null,"Ar",-1)),En={class:"btn-container"},Tn={class:"btn-container"},On="AIzaSyB6WTXMQsbP9QJCe1ymDInuXRQ0a_uk4uQ",Ln=`I will send you a quiz and i want you to generate json file like this format:
{
  "title": {
    "en": " Quiz - History of Military Aviation",
    "ar": "اختبار - تاريخ الطيران العسكري"
  },
  "description": {
    "en": "Test your knowledge of the history of military aviation and its advancements through the ages!",
    "ar": "اختبر معلوماتك عن تاريخ الطيران العسكري وتطوراته عبر العصور!"
  },
  "questions": [
    {
      "id": 1,
      "question": {
        "en": "What was the first aerial vehicle used for military reconnaissance?",
        "ar": "ما هي وسيلة الطيران الأولى التي استخدمت للاستطلاع العسكري؟"
      },
      "choices": [
        {
          "id": 1,
          "choice": {
            "en": "Jet planes",
            "ar": "الطائرات النفاثة"
          }
        },
        {
          "id": 2,
          "choice": {
            "en": "Airships",
            "ar": "المناطيد"
          }
        },
        {
          "id": 3,
          "choice": {
            "en": "Helicopters",
            "ar": "الطائرات المروحية"
          }
        },
        {
          "id": 4,
          "choice": {
            "en": "Supersonic planes",
            "ar": "الطائرات الأسرع من الصوت"
          }
        }
      ],
      "correct_answer_id": 2
    },
    {
      "id": 2,
      "question": {
        "en": "Drones are part of modern warfare because they don’t put pilots' lives at risk.",
        "ar": "الطائرات بدون طيار (Drones) تعتبر جزءً من الحروب الحديثة لأنها لا تعرض حياة الطيارين للخطر"
      },
      "choices": [
        {
          "id": 1,
          "choice": {
            "en": "True",
            "ar": "صح"
          }
        },
        {
          "id": 2,
          "choice": {
            "en": "False",
            "ar": "خطأ"
          }
        }
      ],
      "correct_answer_id": 0
    },
  ],
  "duration": 15,
  "last_question_number": 6
}
  the quiz is:
`,Fn=le({__name:"AddQuiz",props:["addMaterial","materialId"],emits:["info"],setup(t,{emit:e}){const n=V({en:"",ar:""}),i=V({en:"",ar:""}),s=V();V();const a=V([]);function m(){a.value.push({id:0,question:{en:"",ar:""},choices:[{id:0,choice:{en:"",ar:""}}],correct_answer_id:0})}function p(g){a.value[g].choices.push({id:0,choice:{en:"",ar:""}})}function u(g){a.value.splice(g,1)}function o(g,y){a.value[g].choices.splice(y,1)}const r=t,_=e;r.materialId&&new K("get_quiz").callApi({quiz_id:r.materialId}).then(g=>{var y,h,T,b,L,z,Q,te;g!=null&&g.success&&(n.value=(h=(y=g==null?void 0:g.data)==null?void 0:y.quiz)==null?void 0:h.title,i.value=(b=(T=g==null?void 0:g.data)==null?void 0:T.quiz)==null?void 0:b.description,s.value=(z=(L=g==null?void 0:g.data)==null?void 0:L.quiz)==null?void 0:z.duration,a.value=(te=(Q=g==null?void 0:g.data)==null?void 0:Q.quiz)==null?void 0:te.questions)}),Ce(r,()=>{if(r.addMaterial){for(let y=0;y<a.value.length;y++){a.value[y].id=y+1;for(let h=0;h<a.value[y].choices.length;h++)a.value[y].choices[h].id=h+1}let g={title:n.value,description:i.value,questions:a.value,duration:s.value,last_question_number:a.value.length};if(r.materialId){let y={quiz_id:r.materialId,update:g};new K("update_quiz").callApi(y).then(h=>{h!=null&&h.success&&_("info",null)})}else{let y={new_quiz:g};new K("create_quiz").callApi(y).then(h=>{var T,b;if((T=h==null?void 0:h.data)!=null&&T.quiz_id){let L={Id:(b=h==null?void 0:h.data)==null?void 0:b.quiz_id,title:{en:n.value.en,ar:n.value.ar}};_("info",L)}})}}});const A=new ht(On).getGenerativeModel({model:"gemini-1.5-flash",generationConfig:{temperature:1}}).startChat({history:[]}),E=V("");async function U(){f.value="edit";const g=await A.sendMessage(Ln+M.value);E.value=g.response.text();const h=E.value.match(/```json([\s\S]*?)```/);if(h){const T=h[1].trim(),b=JSON.parse(T);console.log(b),n.value=b==null?void 0:b.title,i.value=b==null?void 0:b.description,s.value=b==null?void 0:b.duration,a.value=b==null?void 0:b.questions}else console.log("No JSON found.")}const f=V("smart"),M=V("");return(g,y)=>(v(),k(J,null,[f.value=="smart"?(v(),k("div",nn,[l("div",ln,[an,d(c(at),{modelValue:M.value,"onUpdate:modelValue":y[0]||(y[0]=h=>M.value=h)},null,8,["modelValue"])]),d(c(F),{onClick:U,label:"Proceed"})])):H("",!0),f.value=="edit"?(v(),k("div",sn,[l("div",on,[l("div",un,[rn,d(c(D),{modelValue:n.value.en,"onUpdate:modelValue":y[1]||(y[1]=h=>n.value.en=h)},null,8,["modelValue"])]),l("div",dn,[cn,d(c(D),{modelValue:n.value.ar,"onUpdate:modelValue":y[2]||(y[2]=h=>n.value.ar=h)},null,8,["modelValue"])]),l("div",pn,[mn,d(c(D),{modelValue:i.value.en,"onUpdate:modelValue":y[3]||(y[3]=h=>i.value.en=h)},null,8,["modelValue"])]),l("div",hn,[fn,d(c(D),{modelValue:i.value.ar,"onUpdate:modelValue":y[4]||(y[4]=h=>i.value.ar=h)},null,8,["modelValue"])]),l("div",vn,[gn,d(c(lt),{modelValue:s.value,"onUpdate:modelValue":y[5]||(y[5]=h=>s.value=h)},null,8,["modelValue"])]),l("div",_n,[yn,(v(!0),k(J,null,Z(a.value,(h,T)=>(v(),k("div",bn,[l("p",null,[l("span",null," Question "+de(T+1),1),l("i",{class:"pi pi-times-circle",onClick:()=>{u(T)}},null,8,$n)]),l("div",Vn,[l("div",Cn,[In,d(c(D),{modelValue:h.question.en,"onUpdate:modelValue":b=>h.question.en=b},null,8,["modelValue","onUpdate:modelValue"])]),l("div",wn,[Sn,d(c(D),{modelValue:h.question.ar,"onUpdate:modelValue":b=>h.question.ar=b},null,8,["modelValue","onUpdate:modelValue"])])]),(v(!0),k(J,null,Z(h.choices,(b,L)=>(v(),k("div",Dn,[d(c(ke),{modelValue:h.correct_answer_id,"onUpdate:modelValue":z=>h.correct_answer_id=z,inputId:T.toString()+L.toString(),name:T.toString(),value:L+1},null,8,["modelValue","onUpdate:modelValue","inputId","name","value"]),l("label",{class:"choice",for:T.toString()+L.toString()},[l("p",null,[l("span",null," Choice "+de(L+1),1),l("i",{class:"pi pi-times-circle",onClick:()=>{o(T,L)}},null,8,xn)]),l("div",Bn,[l("div",An,[Un,d(c(D),{modelValue:b.choice.en,"onUpdate:modelValue":z=>b.choice.en=z},null,8,["modelValue","onUpdate:modelValue"])]),l("div",Mn,[Pn,d(c(D),{modelValue:b.choice.ar,"onUpdate:modelValue":z=>b.choice.ar=z},null,8,["modelValue","onUpdate:modelValue"])])])],8,kn)]))),256)),l("div",En,[d(c(F),{label:"Add Choice",style:{"font-size":"0.6rem"},onClick:()=>{p(T)}},null,8,["onClick"])])]))),256)),l("div",Tn,[d(c(F),{style:{width:"fit-content","font-size":"0.7rem"},label:"Add Question",onClick:m})])])])])):H("",!0)],64))}}),Nn=ae(Fn,[["__scopeId","data-v-b1f8aabe"]]),Ie=t=>(oe("data-v-a1297840"),t=t(),ue(),t),Rn={class:"container"},jn={class:"material-container"},qn={class:"element"},zn=Ie(()=>l("h4",null,"English Title",-1)),Kn={class:"element"},Gn=Ie(()=>l("h4",null,"Arabic Title",-1)),Qn={class:"element"},Hn=Ie(()=>l("h4",null,"English Description",-1)),Wn={class:"element"},Jn=Ie(()=>l("h4",null,"Arabic Description",-1)),Xn={class:"element"},Zn=Ie(()=>l("h4",null,"Source",-1)),Yn=le({__name:"AddLesson",props:["addMaterial","materialId"],emits:["info"],setup(t,{emit:e}){const n=V({en:"",ar:""}),i=V({en:"",ar:""}),s=V(),a=t,m=e;return a.materialId&&new K("get_lesson").callApi({lesson_id:a.materialId}).then(p=>{var u,o,r,_,I,C;p!=null&&p.success&&(n.value=(o=(u=p==null?void 0:p.data)==null?void 0:u.lesson)==null?void 0:o.title,i.value=(_=(r=p==null?void 0:p.data)==null?void 0:r.lesson)==null?void 0:_.description,s.value=(C=(I=p==null?void 0:p.data)==null?void 0:I.lesson)==null?void 0:C.source)}),Ce(a,()=>{if(a.addMaterial){let p={title:n.value,description:i.value,source:s.value};if(a.materialId){let u={lesson_id:a.materialId,update:p};new K("update_lesson").callApi(u).then(o=>{o!=null&&o.success&&m("info",null)})}else{let u={new_lesson:p};new K("create_lesson").callApi(u).then(o=>{var r,_;if((r=o==null?void 0:o.data)!=null&&r.lesson_id){let I={Id:(_=o==null?void 0:o.data)==null?void 0:_.lesson_id,title:{en:n.value.en,ar:n.value.ar}};m("info",I)}})}}}),(p,u)=>(v(),k("div",Rn,[l("div",jn,[l("div",qn,[zn,d(c(D),{modelValue:n.value.en,"onUpdate:modelValue":u[0]||(u[0]=o=>n.value.en=o)},null,8,["modelValue"])]),l("div",Kn,[Gn,d(c(D),{modelValue:n.value.ar,"onUpdate:modelValue":u[1]||(u[1]=o=>n.value.ar=o)},null,8,["modelValue"])]),l("div",Qn,[Hn,d(c(D),{modelValue:i.value.en,"onUpdate:modelValue":u[2]||(u[2]=o=>i.value.en=o)},null,8,["modelValue"])]),l("div",Wn,[Jn,d(c(D),{modelValue:i.value.ar,"onUpdate:modelValue":u[3]||(u[3]=o=>i.value.ar=o)},null,8,["modelValue"])]),l("div",Xn,[Zn,d(c(D),{modelValue:s.value,"onUpdate:modelValue":u[4]||(u[4]=o=>s.value=o)},null,8,["modelValue"])])])]))}}),ei=ae(Yn,[["__scopeId","data-v-a1297840"]]),Y=t=>(oe("data-v-f2f2481e"),t=t(),ue(),t),ti={class:"container"},ni={class:"material-container"},ii={class:"element"},li=Y(()=>l("h4",null,"English Title",-1)),ai={class:"element"},si=Y(()=>l("h4",null,"Arabic Title",-1)),oi={class:"element"},ui=Y(()=>l("h4",null,"English Description",-1)),ri={class:"element"},di=Y(()=>l("h4",null,"Arabic Description",-1)),ci={class:"images"},pi=Y(()=>l("h4",null,"Start Images",-1)),mi={class:"image"},hi={style:{display:"flex",gap:"0.25rem"}},fi=["src"],vi=["onClick"],gi={class:"btn-container"},_i={class:"images"},yi=Y(()=>l("h4",null,"Scources",-1)),bi={class:"image"},$i={style:{display:"flex",gap:"0.25rem"}},Vi=["onClick"],Ci={class:"btn-container"},Ii={class:"item-container"},wi={class:"item"},Si=["onClick"],Di={class:"text"},ki=Y(()=>l("span",null,"En Text",-1)),xi=Y(()=>l("span",null,"Ar Text",-1)),Bi={key:0,class:"text"},Ai=Y(()=>l("span",null,"En Description",-1)),Ui=Y(()=>l("span",null,"Ar Description",-1)),Mi=Y(()=>l("h4",null,"Image",-1)),Pi={class:"image"},Ei={style:{display:"flex",gap:"0.25rem"}},Ti=["src"],Oi={class:"btn-container"},Li={class:"images"},Fi=Y(()=>l("h4",null,"End Images",-1)),Ni={class:"image"},Ri={style:{display:"flex",gap:"0.25rem"}},ji=["src"],qi=["onClick"],zi={class:"btn-container"},Ki=le({__name:"AddActivity",props:["addMaterial","materialId"],emits:["info"],setup(t,{emit:e}){const n=V({en:"",ar:""}),i=V({en:"",ar:""}),s=V([]),a=V([]),m=V([]),p=V({items:[],start_images:[],end_images:[]}),u=V({items:[],start_images:[],end_images:[]}),o=V({items:[],start_images:[],end_images:[]}),r=V({items:[],start_images:[],end_images:[]}),_=V({items:[],start_images:[],end_images:[]}),I=V({items:[],start_images:[],end_images:[]}),C=[{title:"Oblective",item:p.value},{title:"Terms and Concepts",item:u.value},{title:"Materials",item:o.value},{title:"Instructions",item:r.value},{title:"Results",item:_.value},{title:"Conclusions",item:I.value}];function A(f){f==null&&(f={items:[],start_images:[],end_images:[]}),f.items.push({id:0,text:{en:"",ar:""},description:{en:"",ar:""},image:""})}const E=t,U=e;return E.materialId&&new K("get_activity").callApi({activity_id:E.materialId}).then(f=>{var M,g,y,h,T,b,L,z,Q,te,w,x,N,B,$,S,P,O,W,X,me,he,fe,ve,ge,_e,ye,be,$e,ie,re,Pe,Ee,Te,Oe,Le,Fe,Ne,Re,je,qe,ze,Ke,Ge,Qe,He;f!=null&&f.success&&(n.value=(g=(M=f==null?void 0:f.data)==null?void 0:M.activity)==null?void 0:g.title,i.value=(h=(y=f==null?void 0:f.data)==null?void 0:y.activity)==null?void 0:h.description,s.value=(b=(T=f==null?void 0:f.data)==null?void 0:T.activity)==null?void 0:b.start_images,a.value=(z=(L=f==null?void 0:f.data)==null?void 0:L.activity)==null?void 0:z.end_images,m.value=(te=(Q=f==null?void 0:f.data)==null?void 0:Q.activity)==null?void 0:te.sources,(N=(x=(w=f==null?void 0:f.data)==null?void 0:w.activity)==null?void 0:x.objectives)!=null&&N.items&&(p.value.items=(S=($=(B=f==null?void 0:f.data)==null?void 0:B.activity)==null?void 0:$.objectives)==null?void 0:S.items),(W=(O=(P=f==null?void 0:f.data)==null?void 0:P.activity)==null?void 0:O.terms_concepts)!=null&&W.items&&(u.value.items=(he=(me=(X=f==null?void 0:f.data)==null?void 0:X.activity)==null?void 0:me.terms_concepts)==null?void 0:he.items),(ge=(ve=(fe=f==null?void 0:f.data)==null?void 0:fe.activity)==null?void 0:ve.materials)!=null&&ge.items&&(o.value.items=(be=(ye=(_e=f==null?void 0:f.data)==null?void 0:_e.activity)==null?void 0:ye.materials)==null?void 0:be.items),(re=(ie=($e=f==null?void 0:f.data)==null?void 0:$e.activity)==null?void 0:ie.instructions)!=null&&re.items&&(r.value.items=(Te=(Ee=(Pe=f==null?void 0:f.data)==null?void 0:Pe.activity)==null?void 0:Ee.instructions)==null?void 0:Te.items),(Fe=(Le=(Oe=f==null?void 0:f.data)==null?void 0:Oe.activity)==null?void 0:Le.results)!=null&&Fe.items&&(_.value.items=(je=(Re=(Ne=f==null?void 0:f.data)==null?void 0:Ne.activity)==null?void 0:Re.results)==null?void 0:je.items),(Ke=(ze=(qe=f==null?void 0:f.data)==null?void 0:qe.activity)==null?void 0:ze.conclusions)!=null&&Ke.items&&(I.value.items=(He=(Qe=(Ge=f==null?void 0:f.data)==null?void 0:Ge.activity)==null?void 0:Qe.conclusions)==null?void 0:He.items))}),Ce(E,()=>{var f,M,g,y,h,T,b,L,z,Q,te,w,x,N,B;if(E.addMaterial){let $={title:n.value,description:i.value,start_images:(f=s.value)!=null&&f.length?s.value:null,end_images:(M=a.value)!=null&&M.length?a.value:null,sources:(g=m.value)!=null&&g.length?m.value:null,objectives:(h=(y=p.value)==null?void 0:y.items)!=null&&h.length?p.value:null,terms_concepts:(b=(T=u.value)==null?void 0:T.items)!=null&&b.length?u.value:null,materials:(z=(L=o.value)==null?void 0:L.items)!=null&&z.length?o.value:null,instructions:(te=(Q=r.value)==null?void 0:Q.items)!=null&&te.length?r.value:null,results:(x=(w=_.value)==null?void 0:w.items)!=null&&x.length?_.value:null,conclusions:(B=(N=I.value)==null?void 0:N.items)!=null&&B.length?I.value:null};if(E.materialId){let S={activity_id:E.materialId,update:$};new K("update_activity").callApi(S).then(P=>{P!=null&&P.success&&U("info",null)})}else{let S={new_activity:$};new K("create_activity").callApi(S).then(P=>{var O,W;if((O=P==null?void 0:P.data)!=null&&O.activity_id){let X={Id:(W=P==null?void 0:P.data)==null?void 0:W.activity_id,title:{en:n.value.en,ar:n.value.ar}};U("info",X)}})}}}),(f,M)=>(v(),k("div",ti,[l("div",ni,[l("div",ii,[li,d(c(D),{modelValue:n.value.en,"onUpdate:modelValue":M[0]||(M[0]=g=>n.value.en=g)},null,8,["modelValue"])]),l("div",ai,[si,d(c(D),{modelValue:n.value.ar,"onUpdate:modelValue":M[1]||(M[1]=g=>n.value.ar=g)},null,8,["modelValue"])]),l("div",oi,[ui,d(c(D),{modelValue:i.value.en,"onUpdate:modelValue":M[2]||(M[2]=g=>i.value.en=g)},null,8,["modelValue"])]),l("div",ri,[di,d(c(D),{modelValue:i.value.ar,"onUpdate:modelValue":M[3]||(M[3]=g=>i.value.ar=g)},null,8,["modelValue"])]),l("div",ci,[pi,(v(!0),k(J,null,Z(s.value,(g,y)=>(v(),k("div",mi,[d(c(D),{modelValue:s.value[y],"onUpdate:modelValue":h=>s.value[y]=h},null,8,["modelValue","onUpdate:modelValue"]),l("div",hi,[l("img",{src:g},null,8,fi),l("i",{class:"pi pi-times-circle",onClick:h=>s.value.splice(y,1)},null,8,vi)])]))),256)),l("div",gi,[d(c(F),{label:"Add Image",onClick:M[4]||(M[4]=()=>{s.value?s.value.push(""):s.value=[""]})})])]),l("div",_i,[yi,(v(!0),k(J,null,Z(m.value,(g,y)=>(v(),k("div",bi,[d(c(D),{modelValue:m.value[y],"onUpdate:modelValue":h=>m.value[y]=h},null,8,["modelValue","onUpdate:modelValue"]),l("div",$i,[l("i",{class:"pi pi-times-circle",onClick:h=>m.value.splice(y,1)},null,8,Vi)])]))),256)),l("div",Ci,[d(c(F),{label:"Add Source",onClick:M[5]||(M[5]=()=>{m.value?m.value.push(""):m.value=[""]})})])]),(v(),k(J,null,Z(C,g=>{var y;return l("div",Ii,[l("h4",null,de(g.title),1),(v(!0),k(J,null,Z((y=g.item)==null?void 0:y.items,(h,T)=>(v(),k("div",wi,[l("i",{class:"pi pi-times-circle",onClick:b=>{var L;return(L=g.item)==null?void 0:L.items.splice(T,1)}},null,8,Si),l("div",Di,[l("div",null,[ki,d(c(D),{modelValue:h.text.en,"onUpdate:modelValue":b=>h.text.en=b},null,8,["modelValue","onUpdate:modelValue"])]),l("div",null,[xi,d(c(D),{modelValue:h.text.ar,"onUpdate:modelValue":b=>h.text.ar=b},null,8,["modelValue","onUpdate:modelValue"])])]),h.description?(v(),k("div",Bi,[l("div",null,[Ai,d(c(D),{modelValue:h.description.en,"onUpdate:modelValue":b=>h.description.en=b},null,8,["modelValue","onUpdate:modelValue"])]),l("div",null,[Ui,d(c(D),{modelValue:h.description.ar,"onUpdate:modelValue":b=>h.description.ar=b},null,8,["modelValue","onUpdate:modelValue"])])])):H("",!0),Mi,l("div",Pi,[d(c(D),{modelValue:h.image,"onUpdate:modelValue":b=>h.image=b},null,8,["modelValue","onUpdate:modelValue"]),l("div",Ei,[h.image?(v(),k("img",{key:0,src:h.image},null,8,Ti)):H("",!0)])])]))),256)),l("div",Oi,[d(c(F),{label:"Add Item",onClick:()=>{A(g.item)}},null,8,["onClick"])])])}),64)),l("div",Li,[Fi,(v(!0),k(J,null,Z(a.value,(g,y)=>(v(),k("div",Ni,[d(c(D),{modelValue:a.value[y],"onUpdate:modelValue":h=>a.value[y]=h},null,8,["modelValue","onUpdate:modelValue"]),l("div",Ri,[l("img",{src:g},null,8,ji),l("i",{class:"pi pi-times-circle",onClick:h=>a.value.splice(y,1)},null,8,qi)])]))),256)),l("div",zi,[d(c(F),{label:"Add Image",onClick:M[6]||(M[6]=()=>{a.value?a.value.push(""):a.value=[""]})})])])])]))}}),Gi=ae(Ki,[["__scopeId","data-v-f2f2481e"]]),pe=t=>(oe("data-v-de42d581"),t=t(),ue(),t),Qi={class:"container"},Hi={class:"material-container"},Wi={class:"element"},Ji=pe(()=>l("h4",null,"English Title",-1)),Xi={class:"element"},Zi=pe(()=>l("h4",null,"Arabic Title",-1)),Yi={class:"element"},el=pe(()=>l("h4",null,"English Description",-1)),tl={class:"element"},nl=pe(()=>l("h4",null,"Arabic Description",-1)),il={class:"element"},ll=pe(()=>l("h4",null,"English Source",-1)),al={class:"element"},sl=pe(()=>l("h4",null,"Arabic Source",-1)),ol=le({__name:"AddProject",props:["addMaterial","materialId"],emits:["info"],setup(t,{emit:e}){const n=V({en:"",ar:""}),i=V({en:"",ar:""}),s=V(""),a=V(""),m=t,p=e;return m.materialId&&new K("get_project").callApi({project_id:m.materialId}).then(u=>{var o,r,_,I,C,A,E,U;u!=null&&u.success&&(n.value=(r=(o=u==null?void 0:u.data)==null?void 0:o.project)==null?void 0:r.title,i.value=(I=(_=u==null?void 0:u.data)==null?void 0:_.project)==null?void 0:I.description,s.value=(A=(C=u==null?void 0:u.data)==null?void 0:C.project)==null?void 0:A.source,a.value=(U=(E=u==null?void 0:u.data)==null?void 0:E.project)==null?void 0:U.source2)}),Ce(m,()=>{if(m.addMaterial){let u={title:n.value,description:i.value,source:s.value,source2:a.value};if(m.materialId){let o={project_id:m.materialId,update:u};new K("update_project").callApi(o).then(r=>{r!=null&&r.success&&p("info",null)})}else{let o={new_project:u};new K("create_project").callApi(o).then(r=>{var _,I;if((_=r==null?void 0:r.data)!=null&&_.project_id){let C={Id:(I=r==null?void 0:r.data)==null?void 0:I.project_id,title:{en:n.value.en,ar:n.value.ar}};p("info",C)}})}}}),(u,o)=>(v(),k("div",Qi,[l("div",Hi,[l("div",Wi,[Ji,d(c(D),{modelValue:n.value.en,"onUpdate:modelValue":o[0]||(o[0]=r=>n.value.en=r)},null,8,["modelValue"])]),l("div",Xi,[Zi,d(c(D),{modelValue:n.value.ar,"onUpdate:modelValue":o[1]||(o[1]=r=>n.value.ar=r)},null,8,["modelValue"])]),l("div",Yi,[el,d(c(D),{modelValue:i.value.en,"onUpdate:modelValue":o[2]||(o[2]=r=>i.value.en=r)},null,8,["modelValue"])]),l("div",tl,[nl,d(c(D),{modelValue:i.value.ar,"onUpdate:modelValue":o[3]||(o[3]=r=>i.value.ar=r)},null,8,["modelValue"])]),l("div",il,[ll,d(c(D),{modelValue:s.value,"onUpdate:modelValue":o[4]||(o[4]=r=>s.value=r)},null,8,["modelValue"])]),l("div",al,[sl,d(c(D),{modelValue:a.value,"onUpdate:modelValue":o[5]||(o[5]=r=>a.value=r)},null,8,["modelValue"])])])]))}}),ul=ae(ol,[["__scopeId","data-v-de42d581"]]),rl={class:"dialog"},dl={class:"container"},cl={class:"material-container"},pl={class:"material-btns"},ml=le({__name:"AddMaterialDialog",props:["showDialog","materialId","materialType"],emits:["removeDialog","info"],setup(t,{emit:e}){const n=t,i=e,s=V(n.materialType),a=["Lesson","Quiz","Activity","Simulation","Project"],m=V(!1),p=V(!1),u=V(!1),o=V(!1),r=V(!1);function _(){s.value=="Lesson"&&(m.value=!0),s.value=="Quiz"&&(p.value=!0),s.value=="Activity"&&(u.value=!0),s.value=="Simulation"&&(r.value=!0),s.value=="Project"&&(o.value=!0)}function I(C){if(C){let A={Id:C==null?void 0:C.Id,order:0,title:C==null?void 0:C.title,type:s.value};i("info",A)}i("removeDialog",!0)}return(C,A)=>(v(),q(c(et),{visible:n.showDialog,"onUpdate:visible":A[7]||(A[7]=E=>n.showDialog=E),modal:"",pt:{root:"border-none",mask:{style:"backdrop-filter: blur(2px)"}}},{container:j(({closeCallback:E})=>[l("div",rl,[l("div",dl,[s.value?H("",!0):(v(),q(c(tt),{key:0,modelValue:s.value,"onUpdate:modelValue":A[0]||(A[0]=U=>s.value=U),options:a,placeholder:"Material Type"},null,8,["modelValue"])),l("div",cl,[s.value=="Quiz"?(v(),q(Nn,{key:0,"add-material":p.value,"material-id":t.materialId,onInfo:A[1]||(A[1]=U=>{I(U)})},null,8,["add-material","material-id"])):H("",!0),s.value=="Lesson"?(v(),q(ei,{key:1,"add-material":m.value,"material-id":t.materialId,onInfo:A[2]||(A[2]=U=>{I(U)})},null,8,["add-material","material-id"])):H("",!0),s.value=="Activity"?(v(),q(Gi,{key:2,"add-material":u.value,"material-id":t.materialId,onInfo:A[3]||(A[3]=U=>{I(U)})},null,8,["add-material","material-id"])):H("",!0),s.value=="Simulation"?(v(),q(At,{key:3,"add-material":r.value,"material-id":t.materialId,onInfo:A[4]||(A[4]=U=>{I(U)})},null,8,["add-material","material-id"])):H("",!0),s.value=="Project"?(v(),q(ul,{key:4,"add-material":o.value,"material-id":t.materialId,onInfo:A[5]||(A[5]=U=>{I(U)})},null,8,["add-material","material-id"])):H("",!0)]),l("div",pl,[d(c(F),{label:"Save Changes",onClick:_}),d(c(F),{style:{"background-color":"red"},label:"Cancel",onClick:A[6]||(A[6]=()=>{C.$emit("removeDialog")})})])])])]),_:1},8,["visible","pt"]))}}),hl=ae(ml,[["__scopeId","data-v-c229a480"]]),fl=t=>(oe("data-v-13f3bd92"),t=t(),ue(),t),vl={class:"dialog"},gl=fl(()=>l("h2",null,"Confirm Deletion",-1)),_l={class:"buttons"},yl=le({__name:"RemoveChapterDialog",props:["showDialog","cost"],emits:["hideDialog","confirm"],setup(t,{emit:e}){const n=t;return(i,s)=>(v(),q(c(et),{visible:n.showDialog,"onUpdate:visible":s[2]||(s[2]=a=>n.showDialog=a),modal:"",pt:{root:"border-none",mask:{style:"backdrop-filter: blur(2px)"}}},{container:j(({closeCallback:a})=>[l("div",vl,[gl,l("div",_l,[d(c(F),{label:"Confirm",onClick:s[0]||(s[0]=()=>{i.$emit("confirm")})}),d(c(F),{label:"Cancel",style:{"background-color":"red"},onClick:s[1]||(s[1]=()=>{i.$emit("hideDialog")})})])])]),_:1},8,["visible","pt"]))}}),bl=ae(yl,[["__scopeId","data-v-13f3bd92"]]),ee=t=>(oe("data-v-48476f6b"),t=t(),ue(),t),$l={class:"container"},Vl=ee(()=>l("div",{class:"tab_header"},[l("i",{class:"pi pi-info"}),l("p",null,"Basic Info")],-1)),Cl={class:"tab_container"},Il={class:"element"},wl={class:"element"},Sl=ee(()=>l("h3",null,"Is Locked",-1)),Dl={style:{display:"flex","justify-content":"space-around"}},kl={style:{display:"flex","justify-content":"center","align-items":"center",gap:"0.5rem"}},xl=ee(()=>l("label",{style:{"font-size":"1.25rem"},for:"v1"},"Yes",-1)),Bl={style:{display:"flex","justify-content":"center","align-items":"center",gap:"0.5rem"}},Al=ee(()=>l("label",{style:{"font-size":"1.25rem"},for:"v2"},"No",-1)),Ul=ee(()=>l("div",{class:"tab_header"},[l("i",{class:"pi pi-align-justify"}),l("p",null,"Categories")],-1)),Ml={class:"tab_container"},Pl={class:"row"},El={style:{display:"grid","grid-template-columns":"3fr 1fr",gap:"1rem"}},Tl={class:"btn-container"},Ol=ee(()=>l("div",{class:"tab_header"},[l("i",{class:"pi pi-star"}),l("p",null,"Objectives")],-1)),Ll={class:"tab_container"},Fl={class:"row"},Nl={class:"element"},Rl=ee(()=>l("span",null,"English",-1)),jl={class:"element"},ql=ee(()=>l("span",null,"Arabic",-1)),zl={class:"btn-container"},Kl=ee(()=>l("div",{class:"tab_header"},[l("i",{class:"pi pi-book"}),l("p",null,"Chapters")],-1)),Gl={class:"tab_container"},Ql={style:{display:"flex",gap:"0.5rem","align-items":"center",width:"80vw"}},Hl={class:"options",style:{gap:"0.5rem"}},Wl=["onClick"],Jl=["onClick"],Xl={class:"element"},Zl=ee(()=>l("span",null,"English Title",-1)),Yl={class:"element"},ea=ee(()=>l("span",null,"Arabic Title",-1)),ta=ee(()=>l("h3",null,"Materials",-1)),na={class:"options"},ia=["onClick"],la=["onClick"],aa={class:"mat-group"},sa={class:"element"},oa={class:"material-btns"},ua={style:{display:"flex","justify-content":"end"}},ra={class:"btn-container"},da={class:"btn-container"},ca=le({__name:"editCourse",setup(t){const e=st(),n=ot(),i=new K("get_course"),s=new K("get_categories"),a=V(),m=V([]),p=V([]),u=V([]),o=V([]),r=V(!1);s.callApi().then(w=>{var x,N;w!=null&&w.success&&(m.value=(x=w==null?void 0:w.data)==null?void 0:x.categories,i.callApi({course_id:(N=e.params)==null?void 0:N.courseId}).then(B=>{var $,S,P,O,W,X,me,he,fe,ve,ge,_e,ye,be,$e;if(B!=null&&B.success){a.value=($=B==null?void 0:B.data)==null?void 0:$.course,r.value=((S=a.value)==null?void 0:S.is_locked)??!1,R.value={...R.value,titleEn:{...R.value.titleEn,variable:((O=(P=a.value)==null?void 0:P.title)==null?void 0:O.en)||""},titleAr:{...R.value.titleAr,variable:((X=(W=a.value)==null?void 0:W.title)==null?void 0:X.ar)||""},descriptionEn:{...R.value.descriptionEn,variable:((he=(me=a.value)==null?void 0:me.description)==null?void 0:he.en)||""},descriptionAr:{...R.value.descriptionAr,variable:((ve=(fe=a.value)==null?void 0:fe.description)==null?void 0:ve.ar)||""},image:{...R.value.image,variable:((ge=a.value)==null?void 0:ge.image)||""},minAge:{...R.value.minAge,variable:((_e=a.value)==null?void 0:_e.min_age)||""},maxAge:{...R.value.maxAge,variable:((ye=a.value)==null?void 0:ye.max_age)||""},price:{...R.value.price,variable:((be=a.value)==null?void 0:be.price)||""}};for(let ie of a==null?void 0:a.value.objectives)p.value.push(ie);for(let ie of a==null?void 0:a.value.chapters)o.value.push(ie);for(let ie of a==null?void 0:a.value.categories)u.value.push(($e=m.value)==null?void 0:$e.find(re=>(re==null?void 0:re.id)==(ie==null?void 0:ie.Id)))}}))});const _=V(""),I=V("");function C(){u.value.push({Id:null,ristriction_on_course:null})}function A(w){u.value.splice(w,1)}function E(){p.value.push({en:null,ar:null})}function U(w){p.value.splice(w,1)}function f(){var N,B,$;let w=[];for(let S=0;S<u.value.length;S++)w.push({Id:(N=u.value[S])==null?void 0:N.id,title:(B=u.value[S])==null?void 0:B.category});const x={course_id:($=e.params)==null?void 0:$.courseId,update:{title:{en:R.value.titleEn.variable,ar:R.value.titleAr.variable},description:{en:R.value.descriptionEn.variable,ar:R.value.descriptionAr.variable},chapters:o.value,categories:w,objectives:p.value,price:R.value.price.variable,min_age:R.value.minAge.variable,max_age:R.value.maxAge.variable,image:R.value.image.variable,is_locked:r.value}};new K("update_course").callApi(x).then(S=>{S!=null&&S.success&&n.push("/manageCourses")})}const M=V(!1),g=V(-1);function y(w){setTimeout(()=>{o.value[g.value].materials.push(w)},250)}function h(){o.value.push({title:{en:"",ar:""},materials:[]})}function T(w,x){var N;if(x>0){let B=o.value[w].materials[x-1];o.value[w].materials[x-1]=(N=o.value[w])==null?void 0:N.materials[x],o.value[w].materials[x]=B}}function b(w,x){var N,B,$,S;if(x<((B=(N=o.value[w])==null?void 0:N.materials)==null?void 0:B.length)-1){let P=($=o.value[w])==null?void 0:$.materials[x+1];o.value[w].materials[x+1]=(S=o.value[w])==null?void 0:S.materials[x],o.value[w].materials[x]=P}}function L(w){let x=o.value[w];o.value[w]=o.value[w-1],o.value[w-1]=x}function z(w){let x=o.value[w];o.value[w]=o.value[w+1],o.value[w+1]=x}const Q=V(!1),te=V(-1);return(w,x)=>{const N=Ue("icon");return v(),k(J,null,[M.value?(v(),q(hl,{key:0,showDialog:M.value,"material-type":I.value,"material-id":_.value,onRemoveDialog:x[0]||(x[0]=B=>M.value=!1),onInfo:x[1]||(x[1]=B=>{y(B)})},null,8,["showDialog","material-type","material-id"])):H("",!0),d(bl,{showDialog:Q.value,onHideDialog:x[2]||(x[2]=B=>Q.value=!1),onConfirm:x[3]||(x[3]=B=>{o.value.splice(te.value,1),Q.value=!1})},null,8,["showDialog"]),d(ut),l("div",$l,[d(c(ft),{scrollable:!0},{default:j(()=>[d(c(De),null,{header:j(()=>[Vl]),default:j(()=>[l("div",Cl,[(v(!0),k(J,null,Z(c(R),B=>(v(),k("div",Il,[l("h3",null,de(B.label),1),(v(),q(se(B.component),{type:B.inputType,modelValue:B.variable,"onUpdate:modelValue":$=>B.variable=$},null,8,["type","modelValue","onUpdate:modelValue"]))]))),256)),l("div",wl,[Sl,l("div",Dl,[l("div",kl,[d(c(ke),{modelValue:r.value,"onUpdate:modelValue":x[4]||(x[4]=B=>r.value=B),inputId:"v1",name:"isLocked",value:!0},null,8,["modelValue"]),xl]),l("div",Bl,[d(c(ke),{modelValue:r.value,"onUpdate:modelValue":x[5]||(x[5]=B=>r.value=B),inputId:"v2",name:"isLocked",value:!1},null,8,["modelValue"]),Al])])])])]),_:1}),d(c(De),null,{header:j(()=>[Ul]),default:j(()=>[l("div",Ml,[(v(!0),k(J,null,Z(u.value,(B,$)=>(v(),k("div",Pl,[l("div",El,[d(c(tt),{modelValue:u.value[$],"onUpdate:modelValue":S=>u.value[$]=S,options:m.value,optionLabel:"category.en"},null,8,["modelValue","onUpdate:modelValue","options"]),d(c(F),{onClick:()=>{A($)},label:"Remove",style:{"background-color":"red"}},null,8,["onClick"])])]))),256)),l("div",Tl,[d(c(F),{onClick:C,label:"Add Category "})])])]),_:1}),d(c(De),null,{header:j(()=>[Ol]),default:j(()=>[l("div",Ll,[(v(!0),k(J,null,Z(p.value,(B,$)=>(v(),k("div",Fl,[l("div",Nl,[Rl,d(c(D),{modelValue:p.value[$].en,"onUpdate:modelValue":S=>p.value[$].en=S},null,8,["modelValue","onUpdate:modelValue"])]),l("div",jl,[ql,d(c(D),{modelValue:p.value[$].ar,"onUpdate:modelValue":S=>p.value[$].ar=S},null,8,["modelValue","onUpdate:modelValue"])]),d(c(F),{onClick:()=>{U($)},label:"Remove",style:{"background-color":"red"}},null,8,["onClick"])]))),256)),l("div",zl,[d(c(F),{onClick:E,label:"Add Objective "})])])]),_:1}),d(c(De),null,{header:j(()=>[Kl]),default:j(()=>[l("div",Gl,[d(c(pt),null,{default:j(()=>[(v(!0),k(J,null,Z(o.value,(B,$)=>(v(),q(c(mt),{class:"row",key:"chap"+$.toString()},{header:j(()=>[l("div",Ql,[l("div",Hl,[$>0?(v(),k("i",{key:0,class:"pi pi-arrow-up",style:{color:"var(--accent1)"},onClick:Be(S=>L($),["stop"])},null,8,Wl)):H("",!0),$<o.value.length-1?(v(),k("i",{key:1,class:"pi pi-arrow-down",style:{color:"var(--accent1)"},onClick:Be(S=>z($),["stop"])},null,8,Jl)):H("",!0)]),l("h3",null,de(B.title.en),1),d(N,{onClick:Be(S=>{Q.value=!0,te.value=$},["stop"]),class:"pi pi-trash",style:{color:"red","margin-left":"auto","margin-right":"0.5rem","font-size":"1.25rem"}},null,8,["onClick"])])]),default:j(()=>[l("div",Xl,[Zl,d(c(D),{modelValue:o.value[$].title.en,"onUpdate:modelValue":S=>o.value[$].title.en=S},null,8,["modelValue","onUpdate:modelValue"])]),l("div",Yl,[ea,d(c(D),{modelValue:o.value[$].title.ar,"onUpdate:modelValue":S=>o.value[$].title.ar=S},null,8,["modelValue","onUpdate:modelValue"])]),ta,d(rt,{name:"swap",tag:"dev"},{default:j(()=>[(v(!0),k(J,null,Z(o.value[$].materials,(S,P)=>(v(),k("li",{class:"row2 row",key:S},[l("div",na,[l("i",{class:"pi pi-arrow-up",style:{color:"var(--accent1)"},onClick:O=>T($,P)},null,8,ia),l("i",{class:"pi pi-arrow-down",style:{color:"var(--accent1)"},onClick:O=>b($,P)},null,8,la)]),l("div",aa,[(v(!0),k(J,null,Z(c(dt),(O,W)=>(v(),k("div",{key:"mask"+$.toString()+P.toString()+W.toString()},[l("div",sa,[l("span",null,de(O.label),1),O.mask2?(v(),q(se(O.component),{key:"com"+$.toString()+P.toString()+W.toString()+"a",disabled:O.disabled,modelValue:o.value[$].materials[P][O.mask1][O.mask2],"onUpdate:modelValue":X=>o.value[$].materials[P][O.mask1][O.mask2]=X},null,8,["disabled","modelValue","onUpdate:modelValue"])):(v(),q(se(O.component),{key:"com"+$.toString()+P.toString()+W.toString()+"b",disabled:O.disabled,modelValue:o.value[$].materials[P][O.mask1],"onUpdate:modelValue":X=>o.value[$].materials[P][O.mask1]=X},null,8,["disabled","modelValue","onUpdate:modelValue"]))])]))),128)),l("div",oa,[d(c(F),{label:"Edit",onClick:O=>{_.value=S==null?void 0:S.Id,I.value=S==null?void 0:S.type,M.value=!0,g.value=$}},null,8,["onClick"]),d(c(F),{style:{"background-color":"red"},label:"delete",onClick:O=>{var W,X;return(X=(W=o.value[$])==null?void 0:W.materials)==null?void 0:X.splice(P,1)}},null,8,["onClick"])])])]))),128))]),_:2},1024),l("div",ua,[d(c(F),{onClick:S=>{_.value="",I.value="",M.value=!0,g.value=$},label:"Add",style:{"margin-right":"2rem"}},null,8,["onClick"])])]),_:2},1024))),128))]),_:1}),l("div",ra,[d(c(F),{label:"Add Chapter",onClick:h})])])]),_:1})]),_:1}),l("div",da,[d(c(F),{onClick:f,label:"Save Changes"})])]),d(ct)],64)}}}),_a=ae(ca,[["__scopeId","data-v-48476f6b"]]);export{_a as default};
