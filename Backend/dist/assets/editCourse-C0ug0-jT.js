import{d as ae,r as I,H as j,Y as ye,o as g,c as D,e as l,b as c,f as p,l as x,p as re,n as de,_ as se,L as Je,z as q,B as Ye,O as Se,M as we,m as F,A as Xe,j as Qe,C as N,x as $e,G as R,V as le,ao as Ve,g as H,ap as it,v as Q,w as W,t as ue,J as lt,aq as O,E as at,i as st,N as ot,ar as ut,as as rt,F as dt}from"./index-DqAPtNs9.js";import{s as Ze}from"./dropdown.esm-BWPBDoPg.js";import{a as ct,s as pt}from"./accordiontab.esm-CZj_4qzh.js";import{G as mt}from"./index-CdeYONtP.js";import{s as Ie,a as ht}from"./tabpanel.esm-BF2O_BDW.js";import"./index.esm-CDTT3fGY.js";const ce=t=>(re("data-v-bac4694c"),t=t(),de(),t),ft={class:"container"},vt={class:"material-container"},gt={class:"element"},_t=ce(()=>l("h4",null,"English Title",-1)),yt={class:"element"},bt=ce(()=>l("h4",null,"Arabic Title",-1)),$t={class:"element"},Vt=ce(()=>l("h4",null,"English Description",-1)),It={class:"element"},Ct=ce(()=>l("h4",null,"Arabic Description",-1)),wt={class:"element"},St=ce(()=>l("h4",null,"Source",-1)),xt={class:"element"},Bt=ce(()=>l("h4",null,"Image",-1)),Dt=ae({__name:"AddSimulation",props:["addMaterial","materialId"],emits:["info"],setup(t,{emit:e}){const n=I({en:"",ar:""}),i=I({en:"",ar:""}),s=I(""),a=I(""),m=t,d=e;return m.materialId&&new j("get_simulation").callApi({simulation_id:m.materialId}).then(u=>{var o,r,_,w,C,A,E,k;u!=null&&u.success&&(n.value=(r=(o=u==null?void 0:u.data)==null?void 0:o.simulation)==null?void 0:r.title,i.value=(w=(_=u==null?void 0:u.data)==null?void 0:_.simulation)==null?void 0:w.description,s.value=(A=(C=u==null?void 0:u.data)==null?void 0:C.simulation)==null?void 0:A.source,a.value=(k=(E=u==null?void 0:u.data)==null?void 0:E.simulation)==null?void 0:k.image)}),ye(m,()=>{if(m.addMaterial){let u={title:n.value,description:i.value,source:s.value,image:a.value};if(m.materialId){let o={simulation_id:m.materialId,update:u};new j("update_simulation").callApi(o).then(r=>{r!=null&&r.success&&d("info",null)})}else{let o={new_simulation:u};new j("create_simulation").callApi(o).then(r=>{var _,w;if((_=r==null?void 0:r.data)!=null&&_.simulation_id){let C={Id:(w=r==null?void 0:r.data)==null?void 0:w.simulation_id,title:{en:n.value.en,ar:n.value.ar}};d("info",C)}})}}}),(u,o)=>(g(),D("div",ft,[l("div",vt,[l("div",gt,[_t,c(p(x),{modelValue:n.value.en,"onUpdate:modelValue":o[0]||(o[0]=r=>n.value.en=r)},null,8,["modelValue"])]),l("div",yt,[bt,c(p(x),{modelValue:n.value.ar,"onUpdate:modelValue":o[1]||(o[1]=r=>n.value.ar=r)},null,8,["modelValue"])]),l("div",$t,[Vt,c(p(x),{modelValue:i.value.en,"onUpdate:modelValue":o[2]||(o[2]=r=>i.value.en=r)},null,8,["modelValue"])]),l("div",It,[Ct,c(p(x),{modelValue:i.value.ar,"onUpdate:modelValue":o[3]||(o[3]=r=>i.value.ar=r)},null,8,["modelValue"])]),l("div",wt,[St,c(p(x),{modelValue:s.value,"onUpdate:modelValue":o[4]||(o[4]=r=>s.value=r)},null,8,["modelValue"])]),l("div",xt,[Bt,c(p(x),{modelValue:a.value,"onUpdate:modelValue":o[5]||(o[5]=r=>a.value=r)},null,8,["modelValue"])])])]))}}),At=se(Dt,[["__scopeId","data-v-bac4694c"]]);var et={name:"AngleDownIcon",extends:Je},kt=l("path",{d:"M3.58659 4.5007C3.68513 4.50023 3.78277 4.51945 3.87379 4.55723C3.9648 4.59501 4.04735 4.65058 4.11659 4.7207L7.11659 7.7207L10.1166 4.7207C10.2619 4.65055 10.4259 4.62911 10.5843 4.65956C10.7427 4.69002 10.8871 4.77074 10.996 4.88976C11.1049 5.00877 11.1726 5.15973 11.1889 5.32022C11.2052 5.48072 11.1693 5.6422 11.0866 5.7807L7.58659 9.2807C7.44597 9.42115 7.25534 9.50004 7.05659 9.50004C6.85784 9.50004 6.66722 9.42115 6.52659 9.2807L3.02659 5.7807C2.88614 5.64007 2.80725 5.44945 2.80725 5.2507C2.80725 5.05195 2.88614 4.86132 3.02659 4.7207C3.09932 4.64685 3.18675 4.58911 3.28322 4.55121C3.37969 4.51331 3.48305 4.4961 3.58659 4.5007Z",fill:"currentColor"},null,-1),Ut=[kt];function Mt(t,e,n,i,s,a){return g(),D("svg",q({width:"14",height:"14",viewBox:"0 0 14 14",fill:"none",xmlns:"http://www.w3.org/2000/svg"},t.pti()),Ut,16)}et.render=Mt;var tt={name:"AngleUpIcon",extends:Je},Pt=l("path",{d:"M10.4134 9.49931C10.3148 9.49977 10.2172 9.48055 10.1262 9.44278C10.0352 9.405 9.95263 9.34942 9.88338 9.27931L6.88338 6.27931L3.88338 9.27931C3.73811 9.34946 3.57409 9.3709 3.41567 9.34044C3.25724 9.30999 3.11286 9.22926 3.00395 9.11025C2.89504 8.99124 2.82741 8.84028 2.8111 8.67978C2.79478 8.51928 2.83065 8.35781 2.91338 8.21931L6.41338 4.71931C6.55401 4.57886 6.74463 4.49997 6.94338 4.49997C7.14213 4.49997 7.33276 4.57886 7.47338 4.71931L10.9734 8.21931C11.1138 8.35994 11.1927 8.55056 11.1927 8.74931C11.1927 8.94806 11.1138 9.13868 10.9734 9.27931C10.9007 9.35315 10.8132 9.41089 10.7168 9.44879C10.6203 9.48669 10.5169 9.5039 10.4134 9.49931Z",fill:"currentColor"},null,-1),Et=[Pt];function Tt(t,e,n,i,s,a){return g(),D("svg",q({width:"14",height:"14",viewBox:"0 0 14 14",fill:"none",xmlns:"http://www.w3.org/2000/svg"},t.pti()),Et,16)}tt.render=Tt;var Lt={root:function(e){var n=e.instance,i=e.props;return["p-inputnumber p-component p-inputwrapper",{"p-inputwrapper-filled":n.filled||i.allowEmpty===!1,"p-inputwrapper-focus":n.focused,"p-inputnumber-buttons-stacked":i.showButtons&&i.buttonLayout==="stacked","p-inputnumber-buttons-horizontal":i.showButtons&&i.buttonLayout==="horizontal","p-inputnumber-buttons-vertical":i.showButtons&&i.buttonLayout==="vertical","p-invalid":i.invalid}]},input:function(e){var n=e.props,i=e.instance;return["p-inputnumber-input",{"p-variant-filled":n.variant?n.variant==="filled":i.$primevue.config.inputStyle==="filled"}]},buttonGroup:"p-inputnumber-button-group",incrementButton:function(e){var n=e.instance,i=e.props;return["p-inputnumber-button p-inputnumber-button-up",{"p-disabled":i.showButtons&&i.max!==null&&n.maxBoundry()}]},decrementButton:function(e){var n=e.instance,i=e.props;return["p-inputnumber-button p-inputnumber-button-down",{"p-disabled":i.showButtons&&i.min!==null&&n.minBoundry()}]}},Ot=Ye.extend({name:"inputnumber",classes:Lt}),Ft={name:"BaseInputNumber",extends:Xe,props:{modelValue:{type:Number,default:null},format:{type:Boolean,default:!0},showButtons:{type:Boolean,default:!1},buttonLayout:{type:String,default:"stacked"},incrementButtonClass:{type:String,default:null},decrementButtonClass:{type:String,default:null},incrementButtonIcon:{type:String,default:void 0},decrementButtonIcon:{type:String,default:void 0},locale:{type:String,default:void 0},localeMatcher:{type:String,default:void 0},mode:{type:String,default:"decimal"},prefix:{type:String,default:null},suffix:{type:String,default:null},currency:{type:String,default:void 0},currencyDisplay:{type:String,default:void 0},useGrouping:{type:Boolean,default:!0},minFractionDigits:{type:Number,default:void 0},maxFractionDigits:{type:Number,default:void 0},roundingMode:{type:String,default:"halfExpand",validator:function(e){return["ceil","floor","expand","trunc","halfCeil","halfFloor","halfExpand","halfTrunc","halfEven"].includes(e)}},min:{type:Number,default:null},max:{type:Number,default:null},step:{type:Number,default:1},allowEmpty:{type:Boolean,default:!0},highlightOnFocus:{type:Boolean,default:!1},readonly:{type:Boolean,default:!1},variant:{type:String,default:null},invalid:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},placeholder:{type:String,default:null},inputId:{type:String,default:null},inputClass:{type:[String,Object],default:null},inputStyle:{type:Object,default:null},inputProps:{type:null,default:null},incrementButtonProps:{type:null,default:null},decrementButtonProps:{type:null,default:null},ariaLabelledby:{type:String,default:null},ariaLabel:{type:String,default:null}},style:Ot,provide:function(){return{$parentInstance:this}}};function _e(t){"@babel/helpers - typeof";return _e=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_e(t)}function He(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,i)}return n}function We(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?He(Object(n),!0).forEach(function(i){Nt(t,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):He(Object(n)).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(n,i))})}return t}function Nt(t,e,n){return e=Rt(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Rt(t){var e=jt(t,"string");return _e(e)=="symbol"?e:String(e)}function jt(t,e){if(_e(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var i=n.call(t,e||"default");if(_e(i)!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function qt(t){return Qt(t)||Gt(t)||Kt(t)||zt()}function zt(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Kt(t,e){if(t){if(typeof t=="string")return xe(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return xe(t,e)}}function Gt(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Qt(t){if(Array.isArray(t))return xe(t)}function xe(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,i=new Array(e);n<e;n++)i[n]=t[n];return i}var nt={name:"InputNumber",extends:Ft,inheritAttrs:!1,emits:["update:modelValue","input","focus","blur"],numberFormat:null,_numeral:null,_decimal:null,_group:null,_minusSign:null,_currency:null,_suffix:null,_prefix:null,_index:null,groupChar:"",isSpecialChar:null,prefixChar:null,suffixChar:null,timer:null,data:function(){return{d_modelValue:this.modelValue,focused:!1}},watch:{modelValue:function(e){this.d_modelValue=e},locale:function(e,n){this.updateConstructParser(e,n)},localeMatcher:function(e,n){this.updateConstructParser(e,n)},mode:function(e,n){this.updateConstructParser(e,n)},currency:function(e,n){this.updateConstructParser(e,n)},currencyDisplay:function(e,n){this.updateConstructParser(e,n)},useGrouping:function(e,n){this.updateConstructParser(e,n)},minFractionDigits:function(e,n){this.updateConstructParser(e,n)},maxFractionDigits:function(e,n){this.updateConstructParser(e,n)},suffix:function(e,n){this.updateConstructParser(e,n)},prefix:function(e,n){this.updateConstructParser(e,n)}},created:function(){this.constructParser()},methods:{getOptions:function(){return{localeMatcher:this.localeMatcher,style:this.mode,currency:this.currency,currencyDisplay:this.currencyDisplay,useGrouping:this.useGrouping,minimumFractionDigits:this.minFractionDigits,maximumFractionDigits:this.maxFractionDigits,roundingMode:this.roundingMode}},constructParser:function(){this.numberFormat=new Intl.NumberFormat(this.locale,this.getOptions());var e=qt(new Intl.NumberFormat(this.locale,{useGrouping:!1}).format(9876543210)).reverse(),n=new Map(e.map(function(i,s){return[i,s]}));this._numeral=new RegExp("[".concat(e.join(""),"]"),"g"),this._group=this.getGroupingExpression(),this._minusSign=this.getMinusSignExpression(),this._currency=this.getCurrencyExpression(),this._decimal=this.getDecimalExpression(),this._suffix=this.getSuffixExpression(),this._prefix=this.getPrefixExpression(),this._index=function(i){return n.get(i)}},updateConstructParser:function(e,n){e!==n&&this.constructParser()},escapeRegExp:function(e){return e.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&")},getDecimalExpression:function(){var e=new Intl.NumberFormat(this.locale,We(We({},this.getOptions()),{},{useGrouping:!1}));return new RegExp("[".concat(e.format(1.1).replace(this._currency,"").trim().replace(this._numeral,""),"]"),"g")},getGroupingExpression:function(){var e=new Intl.NumberFormat(this.locale,{useGrouping:!0});return this.groupChar=e.format(1e6).trim().replace(this._numeral,"").charAt(0),new RegExp("[".concat(this.groupChar,"]"),"g")},getMinusSignExpression:function(){var e=new Intl.NumberFormat(this.locale,{useGrouping:!1});return new RegExp("[".concat(e.format(-1).trim().replace(this._numeral,""),"]"),"g")},getCurrencyExpression:function(){if(this.currency){var e=new Intl.NumberFormat(this.locale,{style:"currency",currency:this.currency,currencyDisplay:this.currencyDisplay,minimumFractionDigits:0,maximumFractionDigits:0,roundingMode:this.roundingMode});return new RegExp("[".concat(e.format(1).replace(/\s/g,"").replace(this._numeral,"").replace(this._group,""),"]"),"g")}return new RegExp("[]","g")},getPrefixExpression:function(){if(this.prefix)this.prefixChar=this.prefix;else{var e=new Intl.NumberFormat(this.locale,{style:this.mode,currency:this.currency,currencyDisplay:this.currencyDisplay});this.prefixChar=e.format(1).split("1")[0]}return new RegExp("".concat(this.escapeRegExp(this.prefixChar||"")),"g")},getSuffixExpression:function(){if(this.suffix)this.suffixChar=this.suffix;else{var e=new Intl.NumberFormat(this.locale,{style:this.mode,currency:this.currency,currencyDisplay:this.currencyDisplay,minimumFractionDigits:0,maximumFractionDigits:0,roundingMode:this.roundingMode});this.suffixChar=e.format(1).split("1")[1]}return new RegExp("".concat(this.escapeRegExp(this.suffixChar||"")),"g")},formatValue:function(e){if(e!=null){if(e==="-")return e;if(this.format){var n=new Intl.NumberFormat(this.locale,this.getOptions()),i=n.format(e);return this.prefix&&(i=this.prefix+i),this.suffix&&(i=i+this.suffix),i}return e.toString()}return""},parseValue:function(e){var n=e.replace(this._suffix,"").replace(this._prefix,"").trim().replace(/\s/g,"").replace(this._currency,"").replace(this._group,"").replace(this._minusSign,"-").replace(this._decimal,".").replace(this._numeral,this._index);if(n){if(n==="-")return n;var i=+n;return isNaN(i)?null:i}return null},repeat:function(e,n,i){var s=this;if(!this.readonly){var a=n||500;this.clearTimer(),this.timer=setTimeout(function(){s.repeat(e,40,i)},a),this.spin(e,i)}},spin:function(e,n){if(this.$refs.input){var i=this.step*n,s=this.parseValue(this.$refs.input.$el.value)||0,a=this.validateValue(s+i);this.updateInput(a,null,"spin"),this.updateModel(e,a),this.handleOnInput(e,s,a)}},onUpButtonMouseDown:function(e){this.disabled||(this.$refs.input.$el.focus(),this.repeat(e,null,1),e.preventDefault())},onUpButtonMouseUp:function(){this.disabled||this.clearTimer()},onUpButtonMouseLeave:function(){this.disabled||this.clearTimer()},onUpButtonKeyUp:function(){this.disabled||this.clearTimer()},onUpButtonKeyDown:function(e){(e.keyCode===32||e.keyCode===13)&&this.repeat(e,null,1)},onDownButtonMouseDown:function(e){this.disabled||(this.$refs.input.$el.focus(),this.repeat(e,null,-1),e.preventDefault())},onDownButtonMouseUp:function(){this.disabled||this.clearTimer()},onDownButtonMouseLeave:function(){this.disabled||this.clearTimer()},onDownButtonKeyUp:function(){this.disabled||this.clearTimer()},onDownButtonKeyDown:function(e){(e.keyCode===32||e.keyCode===13)&&this.repeat(e,null,-1)},onUserInput:function(){this.isSpecialChar&&(this.$refs.input.$el.value=this.lastValue),this.isSpecialChar=!1},onInputKeyDown:function(e){if(!this.readonly){if(this.lastValue=e.target.value,e.shiftKey||e.altKey){this.isSpecialChar=!0;return}var n=e.target.selectionStart,i=e.target.selectionEnd,s=e.target.value,a=null;switch(e.altKey&&e.preventDefault(),e.code){case"ArrowUp":this.spin(e,1),e.preventDefault();break;case"ArrowDown":this.spin(e,-1),e.preventDefault();break;case"ArrowLeft":this.isNumeralChar(s.charAt(n-1))||e.preventDefault();break;case"ArrowRight":this.isNumeralChar(s.charAt(n))||e.preventDefault();break;case"Tab":case"Enter":case"NumpadEnter":a=this.validateValue(this.parseValue(s)),this.$refs.input.$el.value=this.formatValue(a),this.$refs.input.$el.setAttribute("aria-valuenow",a),this.updateModel(e,a);break;case"Backspace":{if(e.preventDefault(),n===i){var m=s.charAt(n-1),d=this.getDecimalCharIndexes(s),u=d.decimalCharIndex,o=d.decimalCharIndexWithoutPrefix;if(this.isNumeralChar(m)){var r=this.getDecimalLength(s);if(this._group.test(m))this._group.lastIndex=0,a=s.slice(0,n-2)+s.slice(n-1);else if(this._decimal.test(m))this._decimal.lastIndex=0,r?this.$refs.input.$el.setSelectionRange(n-1,n-1):a=s.slice(0,n-1)+s.slice(n);else if(u>0&&n>u){var _=this.isDecimalMode()&&(this.minFractionDigits||0)<r?"":"0";a=s.slice(0,n-1)+_+s.slice(n)}else o===1?(a=s.slice(0,n-1)+"0"+s.slice(n),a=this.parseValue(a)>0?a:""):a=s.slice(0,n-1)+s.slice(n)}this.updateValue(e,a,null,"delete-single")}else a=this.deleteRange(s,n,i),this.updateValue(e,a,null,"delete-range");break}case"Delete":if(e.preventDefault(),n===i){var w=s.charAt(n),C=this.getDecimalCharIndexes(s),A=C.decimalCharIndex,E=C.decimalCharIndexWithoutPrefix;if(this.isNumeralChar(w)){var k=this.getDecimalLength(s);if(this._group.test(w))this._group.lastIndex=0,a=s.slice(0,n)+s.slice(n+2);else if(this._decimal.test(w))this._decimal.lastIndex=0,k?this.$refs.input.$el.setSelectionRange(n+1,n+1):a=s.slice(0,n)+s.slice(n+1);else if(A>0&&n>A){var f=this.isDecimalMode()&&(this.minFractionDigits||0)<k?"":"0";a=s.slice(0,n)+f+s.slice(n+1)}else E===1?(a=s.slice(0,n)+"0"+s.slice(n+1),a=this.parseValue(a)>0?a:""):a=s.slice(0,n)+s.slice(n+1)}this.updateValue(e,a,null,"delete-back-single")}else a=this.deleteRange(s,n,i),this.updateValue(e,a,null,"delete-range");break;case"Home":e.preventDefault(),Se.isEmpty(this.min)||this.updateModel(e,this.min);break;case"End":e.preventDefault(),Se.isEmpty(this.max)||this.updateModel(e,this.max);break}}},onInputKeyPress:function(e){if(!this.readonly){e.preventDefault();var n=e.which||e.keyCode,i=String.fromCharCode(n),s=this.isDecimalSign(i),a=this.isMinusSign(i);(48<=n&&n<=57||a||s)&&this.insert(e,i,{isDecimalSign:s,isMinusSign:a})}},onPaste:function(e){e.preventDefault();var n=(e.clipboardData||window.clipboardData).getData("Text");if(n){var i=this.parseValue(n);i!=null&&this.insert(e,i.toString())}},allowMinusSign:function(){return this.min===null||this.min<0},isMinusSign:function(e){return this._minusSign.test(e)||e==="-"?(this._minusSign.lastIndex=0,!0):!1},isDecimalSign:function(e){return this._decimal.test(e)?(this._decimal.lastIndex=0,!0):!1},isDecimalMode:function(){return this.mode==="decimal"},getDecimalCharIndexes:function(e){var n=e.search(this._decimal);this._decimal.lastIndex=0;var i=e.replace(this._prefix,"").trim().replace(/\s/g,"").replace(this._currency,""),s=i.search(this._decimal);return this._decimal.lastIndex=0,{decimalCharIndex:n,decimalCharIndexWithoutPrefix:s}},getCharIndexes:function(e){var n=e.search(this._decimal);this._decimal.lastIndex=0;var i=e.search(this._minusSign);this._minusSign.lastIndex=0;var s=e.search(this._suffix);this._suffix.lastIndex=0;var a=e.search(this._currency);return this._currency.lastIndex=0,{decimalCharIndex:n,minusCharIndex:i,suffixCharIndex:s,currencyCharIndex:a}},insert:function(e,n){var i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{isDecimalSign:!1,isMinusSign:!1},s=n.search(this._minusSign);if(this._minusSign.lastIndex=0,!(!this.allowMinusSign()&&s!==-1)){var a=this.$refs.input.$el.selectionStart,m=this.$refs.input.$el.selectionEnd,d=this.$refs.input.$el.value.trim(),u=this.getCharIndexes(d),o=u.decimalCharIndex,r=u.minusCharIndex,_=u.suffixCharIndex,w=u.currencyCharIndex,C;if(i.isMinusSign)a===0&&(C=d,(r===-1||m!==0)&&(C=this.insertText(d,n,0,m)),this.updateValue(e,C,n,"insert"));else if(i.isDecimalSign)o>0&&a===o?this.updateValue(e,d,n,"insert"):o>a&&o<m?(C=this.insertText(d,n,a,m),this.updateValue(e,C,n,"insert")):o===-1&&this.maxFractionDigits&&(C=this.insertText(d,n,a,m),this.updateValue(e,C,n,"insert"));else{var A=this.numberFormat.resolvedOptions().maximumFractionDigits,E=a!==m?"range-insert":"insert";if(o>0&&a>o){if(a+n.length-(o+1)<=A){var k=w>=a?w-1:_>=a?_:d.length;C=d.slice(0,a)+n+d.slice(a+n.length,k)+d.slice(k),this.updateValue(e,C,n,E)}}else C=this.insertText(d,n,a,m),this.updateValue(e,C,n,E)}}},insertText:function(e,n,i,s){var a=n==="."?n:n.split(".");if(a.length===2){var m=e.slice(i,s).search(this._decimal);return this._decimal.lastIndex=0,m>0?e.slice(0,i)+this.formatValue(n)+e.slice(s):this.formatValue(n)||e}else return s-i===e.length?this.formatValue(n):i===0?n+e.slice(s):s===e.length?e.slice(0,i)+n:e.slice(0,i)+n+e.slice(s)},deleteRange:function(e,n,i){var s;return i-n===e.length?s="":n===0?s=e.slice(i):i===e.length?s=e.slice(0,n):s=e.slice(0,n)+e.slice(i),s},initCursor:function(){var e=this.$refs.input.$el.selectionStart,n=this.$refs.input.$el.value,i=n.length,s=null,a=(this.prefixChar||"").length;n=n.replace(this._prefix,""),e=e-a;var m=n.charAt(e);if(this.isNumeralChar(m))return e+a;for(var d=e-1;d>=0;)if(m=n.charAt(d),this.isNumeralChar(m)){s=d+a;break}else d--;if(s!==null)this.$refs.input.$el.setSelectionRange(s+1,s+1);else{for(d=e;d<i;)if(m=n.charAt(d),this.isNumeralChar(m)){s=d+a;break}else d++;s!==null&&this.$refs.input.$el.setSelectionRange(s,s)}return s||0},onInputClick:function(){var e=this.$refs.input.$el.value;!this.readonly&&e!==we.getSelection()&&this.initCursor()},isNumeralChar:function(e){return e.length===1&&(this._numeral.test(e)||this._decimal.test(e)||this._group.test(e)||this._minusSign.test(e))?(this.resetRegex(),!0):!1},resetRegex:function(){this._numeral.lastIndex=0,this._decimal.lastIndex=0,this._group.lastIndex=0,this._minusSign.lastIndex=0},updateValue:function(e,n,i,s){var a=this.$refs.input.$el.value,m=null;n!=null&&(m=this.parseValue(n),m=!m&&!this.allowEmpty?0:m,this.updateInput(m,i,s,n),this.handleOnInput(e,a,m))},handleOnInput:function(e,n,i){this.isValueChanged(n,i)&&this.$emit("input",{originalEvent:e,value:i,formattedValue:n})},isValueChanged:function(e,n){if(n===null&&e!==null)return!0;if(n!=null){var i=typeof e=="string"?this.parseValue(e):e;return n!==i}return!1},validateValue:function(e){return e==="-"||e==null?null:this.min!=null&&e<this.min?this.min:this.max!=null&&e>this.max?this.max:e},updateInput:function(e,n,i,s){n=n||"";var a=this.$refs.input.$el.value,m=this.formatValue(e),d=a.length;if(m!==s&&(m=this.concatValues(m,s)),d===0){this.$refs.input.$el.value=m,this.$refs.input.$el.setSelectionRange(0,0);var u=this.initCursor(),o=u+n.length;this.$refs.input.$el.setSelectionRange(o,o)}else{var r=this.$refs.input.$el.selectionStart,_=this.$refs.input.$el.selectionEnd;this.$refs.input.$el.value=m;var w=m.length;if(i==="range-insert"){var C=this.parseValue((a||"").slice(0,r)),A=C!==null?C.toString():"",E=A.split("").join("(".concat(this.groupChar,")?")),k=new RegExp(E,"g");k.test(m);var f=n.split("").join("(".concat(this.groupChar,")?")),U=new RegExp(f,"g");U.test(m.slice(k.lastIndex)),_=k.lastIndex+U.lastIndex,this.$refs.input.$el.setSelectionRange(_,_)}else if(w===d)if(i==="insert"||i==="delete-back-single"){var v=/[.,]/g,y=_+Number(v.test(e)||v.test(n));this.$refs.input.$el.setSelectionRange(y,y)}else i==="delete-single"?this.$refs.input.$el.setSelectionRange(_-1,_-1):(i==="delete-range"||i==="spin")&&this.$refs.input.$el.setSelectionRange(_,_);else if(i==="delete-back-single"){var h=a.charAt(_-1),T=a.charAt(_),$=d-w,V=this._group.test(T);V&&$===1?_+=1:!V&&this.isNumeralChar(h)&&(_+=-1*$+1),this._group.lastIndex=0,this.$refs.input.$el.setSelectionRange(_,_)}else if(a==="-"&&i==="insert"){this.$refs.input.$el.setSelectionRange(0,0);var S=this.initCursor(),B=S+n.length+1;this.$refs.input.$el.setSelectionRange(B,B)}else _=_+(w-d),this.$refs.input.$el.setSelectionRange(_,_)}this.$refs.input.$el.setAttribute("aria-valuenow",e)},concatValues:function(e,n){if(e&&n){var i=n.search(this._decimal);return this._decimal.lastIndex=0,this.suffixChar?i!==-1?e.replace(this.suffixChar,"").split(this._decimal)[0]+n.replace(this.suffixChar,"").slice(i)+this.suffixChar:e:i!==-1?e.split(this._decimal)[0]+n.slice(i):e}return e},getDecimalLength:function(e){if(e){var n=e.split(this._decimal);if(n.length===2)return n[1].replace(this._suffix,"").trim().replace(/\s/g,"").replace(this._currency,"").length}return 0},updateModel:function(e,n){this.d_modelValue=n,this.$emit("update:modelValue",n)},onInputFocus:function(e){this.focused=!0,!this.disabled&&!this.readonly&&this.$refs.input.$el.value!==we.getSelection()&&this.highlightOnFocus&&e.target.select(),this.$emit("focus",e)},onInputBlur:function(e){this.focused=!1;var n=e.target,i=this.validateValue(this.parseValue(n.value));this.$emit("blur",{originalEvent:e,value:n.value}),n.value=this.formatValue(i),n.setAttribute("aria-valuenow",i),this.updateModel(e,i),!this.disabled&&!this.readonly&&this.highlightOnFocus&&we.clearSelection()},clearTimer:function(){this.timer&&clearInterval(this.timer)},maxBoundry:function(){return this.d_modelValue>=this.max},minBoundry:function(){return this.d_modelValue<=this.min}},computed:{filled:function(){return this.modelValue!=null&&this.modelValue.toString().length>0},upButtonListeners:function(){var e=this;return{mousedown:function(i){return e.onUpButtonMouseDown(i)},mouseup:function(i){return e.onUpButtonMouseUp(i)},mouseleave:function(i){return e.onUpButtonMouseLeave(i)},keydown:function(i){return e.onUpButtonKeyDown(i)},keyup:function(i){return e.onUpButtonKeyUp(i)}}},downButtonListeners:function(){var e=this;return{mousedown:function(i){return e.onDownButtonMouseDown(i)},mouseup:function(i){return e.onDownButtonMouseUp(i)},mouseleave:function(i){return e.onDownButtonMouseLeave(i)},keydown:function(i){return e.onDownButtonKeyDown(i)},keyup:function(i){return e.onDownButtonKeyUp(i)}}},formattedValue:function(){var e=!this.modelValue&&!this.allowEmpty?0:this.modelValue;return this.formatValue(e)},getFormatter:function(){return this.numberFormat}},components:{INInputText:x,INButton:F,AngleUpIcon:tt,AngleDownIcon:et}};function Ht(t,e,n,i,s,a){var m=Qe("INInputText"),d=Qe("INButton");return g(),D("span",q({class:t.cx("root")},t.ptmi("root")),[c(m,q({ref:"input",id:t.inputId,role:"spinbutton",class:[t.cx("input"),t.inputClass],style:t.inputStyle,value:a.formattedValue,"aria-valuemin":t.min,"aria-valuemax":t.max,"aria-valuenow":t.modelValue,disabled:t.disabled,readonly:t.readonly,placeholder:t.placeholder,"aria-labelledby":t.ariaLabelledby,"aria-label":t.ariaLabel,"aria-invalid":t.invalid||void 0,onInput:a.onUserInput,onKeydown:a.onInputKeyDown,onKeypress:a.onInputKeyPress,onPaste:a.onPaste,onClick:a.onInputClick,onFocus:a.onInputFocus,onBlur:a.onInputBlur},t.inputProps,{pt:t.ptm("input"),unstyled:t.unstyled}),null,16,["id","class","style","value","aria-valuemin","aria-valuemax","aria-valuenow","disabled","readonly","placeholder","aria-labelledby","aria-label","aria-invalid","onInput","onKeydown","onKeypress","onPaste","onClick","onFocus","onBlur","pt","unstyled"]),t.showButtons&&t.buttonLayout==="stacked"?(g(),D("span",q({key:0,class:t.cx("buttonGroup")},t.ptm("buttonGroup")),[c(d,q({class:[t.cx("incrementButton"),t.incrementButtonClass]},Ve(a.upButtonListeners),{disabled:t.disabled,tabindex:-1,"aria-hidden":"true"},t.incrementButtonProps,{pt:t.ptm("incrementButton"),unstyled:t.unstyled}),{icon:N(function(){return[$e(t.$slots,"incrementbuttonicon",{},function(){return[(g(),R(le(t.incrementButtonIcon?"span":"AngleUpIcon"),q({class:t.incrementButtonIcon},t.ptm("incrementButton").icon,{"data-pc-section":"incrementbuttonicon"}),null,16,["class"]))]})]}),_:3},16,["class","disabled","pt","unstyled"]),c(d,q({class:[t.cx("decrementButton"),t.decrementButtonClass]},Ve(a.downButtonListeners),{disabled:t.disabled,tabindex:-1,"aria-hidden":"true"},t.decrementButtonProps,{pt:t.ptm("decrementButton"),unstyled:t.unstyled}),{icon:N(function(){return[$e(t.$slots,"decrementbuttonicon",{},function(){return[(g(),R(le(t.decrementButtonIcon?"span":"AngleDownIcon"),q({class:t.decrementButtonIcon},t.ptm("decrementButton").icon,{"data-pc-section":"decrementbuttonicon"}),null,16,["class"]))]})]}),_:3},16,["class","disabled","pt","unstyled"])],16)):H("",!0),t.showButtons&&t.buttonLayout!=="stacked"?(g(),R(d,q({key:1,class:[t.cx("incrementButton"),t.incrementButtonClass]},Ve(a.upButtonListeners),{disabled:t.disabled,tabindex:-1,"aria-hidden":"true"},t.incrementButtonProps,{pt:t.ptm("incrementButton"),unstyled:t.unstyled}),{icon:N(function(){return[$e(t.$slots,"incrementbuttonicon",{},function(){return[(g(),R(le(t.incrementButtonIcon?"span":"AngleUpIcon"),q({class:t.incrementButtonIcon},t.ptm("incrementButton").icon,{"data-pc-section":"incrementbuttonicon"}),null,16,["class"]))]})]}),_:3},16,["class","disabled","pt","unstyled"])):H("",!0),t.showButtons&&t.buttonLayout!=="stacked"?(g(),R(d,q({key:2,class:[t.cx("decrementButton"),t.decrementButtonClass]},Ve(a.downButtonListeners),{disabled:t.disabled,tabindex:-1,"aria-hidden":"true"},t.decrementButtonProps,{pt:t.ptm("decrementButton"),unstyled:t.unstyled}),{icon:N(function(){return[$e(t.$slots,"decrementbuttonicon",{},function(){return[(g(),R(le(t.decrementButtonIcon?"span":"AngleDownIcon"),q({class:t.decrementButtonIcon},t.ptm("decrementButton").icon,{"data-pc-section":"decrementbuttonicon"}),null,16,["class"]))]})]}),_:3},16,["class","disabled","pt","unstyled"])):H("",!0)],16)}nt.render=Ht;var Wt={root:function(e){var n=e.instance,i=e.props;return["p-radiobutton p-component",{"p-highlight":n.checked,"p-disabled":i.disabled,"p-invalid":i.invalid,"p-variant-filled":i.variant?i.variant==="filled":n.$primevue.config.inputStyle==="filled"}]},box:"p-radiobutton-box",input:"p-radiobutton-input",icon:"p-radiobutton-icon"},Jt=Ye.extend({name:"radiobutton",classes:Wt}),Yt={name:"BaseRadioButton",extends:Xe,props:{value:null,modelValue:null,binary:Boolean,name:{type:String,default:null},variant:{type:String,default:null},invalid:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},readonly:{type:Boolean,default:!1},tabindex:{type:Number,default:null},inputId:{type:String,default:null},inputClass:{type:[String,Object],default:null},inputStyle:{type:Object,default:null},ariaLabelledby:{type:String,default:null},ariaLabel:{type:String,default:null}},style:Jt,provide:function(){return{$parentInstance:this}}},Ce={name:"RadioButton",extends:Yt,inheritAttrs:!1,emits:["update:modelValue","change","focus","blur"],methods:{getPTOptions:function(e){var n=e==="root"?this.ptmi:this.ptm;return n(e,{context:{checked:this.checked,disabled:this.disabled}})},onChange:function(e){if(!this.disabled&&!this.readonly){var n=this.binary?!this.checked:this.value;this.$emit("update:modelValue",n),this.$emit("change",e)}},onFocus:function(e){this.$emit("focus",e)},onBlur:function(e){this.$emit("blur",e)}},computed:{checked:function(){return this.modelValue!=null&&(this.binary?!!this.modelValue:Se.equals(this.modelValue,this.value))}}},Xt=["data-p-highlight","data-p-disabled"],Zt=["id","value","name","checked","tabindex","disabled","readonly","aria-labelledby","aria-label","aria-invalid"];function en(t,e,n,i,s,a){return g(),D("div",q({class:t.cx("root")},a.getPTOptions("root"),{"data-p-highlight":a.checked,"data-p-disabled":t.disabled}),[l("input",q({id:t.inputId,type:"radio",class:[t.cx("input"),t.inputClass],style:t.inputStyle,value:t.value,name:t.name,checked:a.checked,tabindex:t.tabindex,disabled:t.disabled,readonly:t.readonly,"aria-labelledby":t.ariaLabelledby,"aria-label":t.ariaLabel,"aria-invalid":t.invalid||void 0,onFocus:e[0]||(e[0]=function(){return a.onFocus&&a.onFocus.apply(a,arguments)}),onBlur:e[1]||(e[1]=function(){return a.onBlur&&a.onBlur.apply(a,arguments)}),onChange:e[2]||(e[2]=function(){return a.onChange&&a.onChange.apply(a,arguments)})},a.getPTOptions("input")),null,16,Zt),l("div",q({class:t.cx("box")},a.getPTOptions("box")),[l("div",q({class:t.cx("icon")},a.getPTOptions("icon")),null,16)],16)],16,Xt)}Ce.render=en;const X=t=>(re("data-v-b1f8aabe"),t=t(),de(),t),tn={key:0,class:"smart_extract"},nn={class:"element"},ln=X(()=>l("h4",null,"Smart Extraction",-1)),an={key:1,class:"container"},sn={class:"material-container"},on={class:"element"},un=X(()=>l("h4",null,"English Title",-1)),rn={class:"element"},dn=X(()=>l("h4",null,"Arabic Title",-1)),cn={class:"element"},pn=X(()=>l("h4",null,"English Description",-1)),mn={class:"element"},hn=X(()=>l("h4",null,"Arabic Description",-1)),fn={class:"element"},vn=X(()=>l("h4",null,"Duration",-1)),gn={class:"questions"},_n=X(()=>l("h4",null,"Questions",-1)),yn={class:"question"},bn=["onClick"],$n={class:"element-container"},Vn={class:"element"},In=X(()=>l("span",null,"En",-1)),Cn={class:"element"},wn=X(()=>l("span",null,"Ar",-1)),Sn={class:"choices"},xn=["for"],Bn=["onClick"],Dn={class:"element-container"},An={class:"element"},kn=X(()=>l("span",null,"En",-1)),Un={class:"element"},Mn=X(()=>l("span",null,"Ar",-1)),Pn={class:"btn-container"},En={class:"btn-container"},Tn="AIzaSyB6WTXMQsbP9QJCe1ymDInuXRQ0a_uk4uQ",Ln=`I will send you a quiz and i want you to generate json file like this format:
{
  "title": {
    "en": " Quiz - History of Military Aviation",
    "ar": "اختبار - تاريخ الطيران العسكري"
  },
  "description": {
    "en": "Test your knowledge of the history of military aviation and its advancements through the ages!",
    "ar": "اختبر معلوماتك عن تاريخ الطيران العسكري وتطوراته عبر العصور!"
  },
  "questions": [
    {
      "id": 1,
      "question": {
        "en": "What was the first aerial vehicle used for military reconnaissance?",
        "ar": "ما هي وسيلة الطيران الأولى التي استخدمت للاستطلاع العسكري؟"
      },
      "choices": [
        {
          "id": 1,
          "choice": {
            "en": "Jet planes",
            "ar": "الطائرات النفاثة"
          }
        },
        {
          "id": 2,
          "choice": {
            "en": "Airships",
            "ar": "المناطيد"
          }
        },
        {
          "id": 3,
          "choice": {
            "en": "Helicopters",
            "ar": "الطائرات المروحية"
          }
        },
        {
          "id": 4,
          "choice": {
            "en": "Supersonic planes",
            "ar": "الطائرات الأسرع من الصوت"
          }
        }
      ],
      "correct_answer_id": 2
    },
    {
      "id": 2,
      "question": {
        "en": "Drones are part of modern warfare because they don’t put pilots' lives at risk.",
        "ar": "الطائرات بدون طيار (Drones) تعتبر جزءً من الحروب الحديثة لأنها لا تعرض حياة الطيارين للخطر"
      },
      "choices": [
        {
          "id": 1,
          "choice": {
            "en": "True",
            "ar": "صح"
          }
        },
        {
          "id": 2,
          "choice": {
            "en": "False",
            "ar": "خطأ"
          }
        }
      ],
      "correct_answer_id": 0
    },
  ],
  "duration": 15,
  "last_question_number": 6
}
  the quiz is:
`,On=ae({__name:"AddQuiz",props:["addMaterial","materialId"],emits:["info"],setup(t,{emit:e}){const n=I({en:"",ar:""}),i=I({en:"",ar:""}),s=I();I();const a=I([]);function m(){a.value.push({id:0,question:{en:"",ar:""},choices:[{id:0,choice:{en:"",ar:""}}],correct_answer_id:0})}function d(v){a.value[v].choices.push({id:0,choice:{en:"",ar:""}})}function u(v){a.value.splice(v,1)}function o(v,y){a.value[v].choices.splice(y,1)}const r=t,_=e;r.materialId&&new j("get_quiz").callApi({quiz_id:r.materialId}).then(v=>{var y,h,T,$,V,S,B,b;v!=null&&v.success&&(n.value=(h=(y=v==null?void 0:v.data)==null?void 0:y.quiz)==null?void 0:h.title,i.value=($=(T=v==null?void 0:v.data)==null?void 0:T.quiz)==null?void 0:$.description,s.value=(S=(V=v==null?void 0:v.data)==null?void 0:V.quiz)==null?void 0:S.duration,a.value=(b=(B=v==null?void 0:v.data)==null?void 0:B.quiz)==null?void 0:b.questions)}),ye(r,()=>{if(r.addMaterial){for(let y=0;y<a.value.length;y++){a.value[y].id=y+1;for(let h=0;h<a.value[y].choices.length;h++)a.value[y].choices[h].id=h+1}let v={title:n.value,description:i.value,questions:a.value,duration:s.value,last_question_number:a.value.length};if(r.materialId){let y={quiz_id:r.materialId,update:v};new j("update_quiz").callApi(y).then(h=>{h!=null&&h.success&&_("info",null)})}else{let y={new_quiz:v};new j("create_quiz").callApi(y).then(h=>{var T,$;if((T=h==null?void 0:h.data)!=null&&T.quiz_id){let V={Id:($=h==null?void 0:h.data)==null?void 0:$.quiz_id,title:{en:n.value.en,ar:n.value.ar}};_("info",V)}})}}});const A=new mt(Tn).getGenerativeModel({model:"gemini-1.5-flash",generationConfig:{temperature:1}}).startChat({history:[]}),E=I("");async function k(){f.value="edit";const v=await A.sendMessage(Ln+U.value);E.value=v.response.text();const h=E.value.match(/```json([\s\S]*?)```/);if(h){const T=h[1].trim(),$=JSON.parse(T);console.log($),n.value=$==null?void 0:$.title,i.value=$==null?void 0:$.description,s.value=$==null?void 0:$.duration,a.value=$==null?void 0:$.questions}else console.log("No JSON found.")}const f=I("smart"),U=I("");return(v,y)=>(g(),D(Q,null,[f.value=="smart"?(g(),D("div",tn,[l("div",nn,[ln,c(p(it),{modelValue:U.value,"onUpdate:modelValue":y[0]||(y[0]=h=>U.value=h)},null,8,["modelValue"])]),c(p(F),{onClick:k,label:"Proceed"})])):H("",!0),f.value=="edit"?(g(),D("div",an,[l("div",sn,[l("div",on,[un,c(p(x),{modelValue:n.value.en,"onUpdate:modelValue":y[1]||(y[1]=h=>n.value.en=h)},null,8,["modelValue"])]),l("div",rn,[dn,c(p(x),{modelValue:n.value.ar,"onUpdate:modelValue":y[2]||(y[2]=h=>n.value.ar=h)},null,8,["modelValue"])]),l("div",cn,[pn,c(p(x),{modelValue:i.value.en,"onUpdate:modelValue":y[3]||(y[3]=h=>i.value.en=h)},null,8,["modelValue"])]),l("div",mn,[hn,c(p(x),{modelValue:i.value.ar,"onUpdate:modelValue":y[4]||(y[4]=h=>i.value.ar=h)},null,8,["modelValue"])]),l("div",fn,[vn,c(p(nt),{modelValue:s.value,"onUpdate:modelValue":y[5]||(y[5]=h=>s.value=h)},null,8,["modelValue"])]),l("div",gn,[_n,(g(!0),D(Q,null,W(a.value,(h,T)=>(g(),D("div",yn,[l("p",null,[l("span",null," Question "+ue(T+1),1),l("i",{class:"pi pi-times-circle",onClick:()=>{u(T)}},null,8,bn)]),l("div",$n,[l("div",Vn,[In,c(p(x),{modelValue:h.question.en,"onUpdate:modelValue":$=>h.question.en=$},null,8,["modelValue","onUpdate:modelValue"])]),l("div",Cn,[wn,c(p(x),{modelValue:h.question.ar,"onUpdate:modelValue":$=>h.question.ar=$},null,8,["modelValue","onUpdate:modelValue"])])]),(g(!0),D(Q,null,W(h.choices,($,V)=>(g(),D("div",Sn,[c(p(Ce),{modelValue:h.correct_answer_id,"onUpdate:modelValue":S=>h.correct_answer_id=S,inputId:T.toString()+V.toString(),name:T.toString(),value:V+1},null,8,["modelValue","onUpdate:modelValue","inputId","name","value"]),l("label",{class:"choice",for:T.toString()+V.toString()},[l("p",null,[l("span",null," Choice "+ue(V+1),1),l("i",{class:"pi pi-times-circle",onClick:()=>{o(T,V)}},null,8,Bn)]),l("div",Dn,[l("div",An,[kn,c(p(x),{modelValue:$.choice.en,"onUpdate:modelValue":S=>$.choice.en=S},null,8,["modelValue","onUpdate:modelValue"])]),l("div",Un,[Mn,c(p(x),{modelValue:$.choice.ar,"onUpdate:modelValue":S=>$.choice.ar=S},null,8,["modelValue","onUpdate:modelValue"])])])],8,xn)]))),256)),l("div",Pn,[c(p(F),{label:"Add Choice",style:{"font-size":"0.6rem"},onClick:()=>{d(T)}},null,8,["onClick"])])]))),256)),l("div",En,[c(p(F),{style:{width:"fit-content","font-size":"0.7rem"},label:"Add Question",onClick:m})])])])])):H("",!0)],64))}}),Fn=se(On,[["__scopeId","data-v-b1f8aabe"]]),be=t=>(re("data-v-a1297840"),t=t(),de(),t),Nn={class:"container"},Rn={class:"material-container"},jn={class:"element"},qn=be(()=>l("h4",null,"English Title",-1)),zn={class:"element"},Kn=be(()=>l("h4",null,"Arabic Title",-1)),Gn={class:"element"},Qn=be(()=>l("h4",null,"English Description",-1)),Hn={class:"element"},Wn=be(()=>l("h4",null,"Arabic Description",-1)),Jn={class:"element"},Yn=be(()=>l("h4",null,"Source",-1)),Xn=ae({__name:"AddLesson",props:["addMaterial","materialId"],emits:["info"],setup(t,{emit:e}){const n=I({en:"",ar:""}),i=I({en:"",ar:""}),s=I(),a=t,m=e;return a.materialId&&new j("get_lesson").callApi({lesson_id:a.materialId}).then(d=>{var u,o,r,_,w,C;d!=null&&d.success&&(n.value=(o=(u=d==null?void 0:d.data)==null?void 0:u.lesson)==null?void 0:o.title,i.value=(_=(r=d==null?void 0:d.data)==null?void 0:r.lesson)==null?void 0:_.description,s.value=(C=(w=d==null?void 0:d.data)==null?void 0:w.lesson)==null?void 0:C.source)}),ye(a,()=>{if(a.addMaterial){let d={title:n.value,description:i.value,source:s.value};if(a.materialId){let u={lesson_id:a.materialId,update:d};new j("update_lesson").callApi(u).then(o=>{o!=null&&o.success&&m("info",null)})}else{let u={new_lesson:d};new j("create_lesson").callApi(u).then(o=>{var r,_;if((r=o==null?void 0:o.data)!=null&&r.lesson_id){let w={Id:(_=o==null?void 0:o.data)==null?void 0:_.lesson_id,title:{en:n.value.en,ar:n.value.ar}};m("info",w)}})}}}),(d,u)=>(g(),D("div",Nn,[l("div",Rn,[l("div",jn,[qn,c(p(x),{modelValue:n.value.en,"onUpdate:modelValue":u[0]||(u[0]=o=>n.value.en=o)},null,8,["modelValue"])]),l("div",zn,[Kn,c(p(x),{modelValue:n.value.ar,"onUpdate:modelValue":u[1]||(u[1]=o=>n.value.ar=o)},null,8,["modelValue"])]),l("div",Gn,[Qn,c(p(x),{modelValue:i.value.en,"onUpdate:modelValue":u[2]||(u[2]=o=>i.value.en=o)},null,8,["modelValue"])]),l("div",Hn,[Wn,c(p(x),{modelValue:i.value.ar,"onUpdate:modelValue":u[3]||(u[3]=o=>i.value.ar=o)},null,8,["modelValue"])]),l("div",Jn,[Yn,c(p(x),{modelValue:s.value,"onUpdate:modelValue":u[4]||(u[4]=o=>s.value=o)},null,8,["modelValue"])])])]))}}),Zn=se(Xn,[["__scopeId","data-v-a1297840"]]),J=t=>(re("data-v-f2f2481e"),t=t(),de(),t),ei={class:"container"},ti={class:"material-container"},ni={class:"element"},ii=J(()=>l("h4",null,"English Title",-1)),li={class:"element"},ai=J(()=>l("h4",null,"Arabic Title",-1)),si={class:"element"},oi=J(()=>l("h4",null,"English Description",-1)),ui={class:"element"},ri=J(()=>l("h4",null,"Arabic Description",-1)),di={class:"images"},ci=J(()=>l("h4",null,"Start Images",-1)),pi={class:"image"},mi={style:{display:"flex",gap:"0.25rem"}},hi=["src"],fi=["onClick"],vi={class:"btn-container"},gi={class:"images"},_i=J(()=>l("h4",null,"Scources",-1)),yi={class:"image"},bi={style:{display:"flex",gap:"0.25rem"}},$i=["onClick"],Vi={class:"btn-container"},Ii={class:"item-container"},Ci={class:"item"},wi=["onClick"],Si={class:"text"},xi=J(()=>l("span",null,"En Text",-1)),Bi=J(()=>l("span",null,"Ar Text",-1)),Di={key:0,class:"text"},Ai=J(()=>l("span",null,"En Description",-1)),ki=J(()=>l("span",null,"Ar Description",-1)),Ui=J(()=>l("h4",null,"Image",-1)),Mi={class:"image"},Pi={style:{display:"flex",gap:"0.25rem"}},Ei=["src"],Ti={class:"btn-container"},Li={class:"images"},Oi=J(()=>l("h4",null,"End Images",-1)),Fi={class:"image"},Ni={style:{display:"flex",gap:"0.25rem"}},Ri=["src"],ji=["onClick"],qi={class:"btn-container"},zi=ae({__name:"AddActivity",props:["addMaterial","materialId"],emits:["info"],setup(t,{emit:e}){const n=I({en:"",ar:""}),i=I({en:"",ar:""}),s=I([]),a=I([]),m=I([]),d=I({items:[],start_images:[],end_images:[]}),u=I({items:[],start_images:[],end_images:[]}),o=I({items:[],start_images:[],end_images:[]}),r=I({items:[],start_images:[],end_images:[]}),_=I({items:[],start_images:[],end_images:[]}),w=I({items:[],start_images:[],end_images:[]}),C=[{title:"Oblective",item:d.value},{title:"Terms and Concepts",item:u.value},{title:"Materials",item:o.value},{title:"Instructions",item:r.value},{title:"Results",item:_.value},{title:"Conclusions",item:w.value}];function A(f){f==null&&(f={items:[],start_images:[],end_images:[]}),f.items.push({id:0,text:{en:"",ar:""},description:{en:"",ar:""},image:""})}const E=t,k=e;return E.materialId&&new j("get_activity").callApi({activity_id:E.materialId}).then(f=>{var U,v,y,h,T,$,V,S,B,b,M,P,L,K,G,ee,z,te,ne,ie,me,he,fe,ve,ge,Z,oe,Be,De,Ae,ke,Ue,Me,Pe,Ee,Te,Le,Oe,Fe,Ne,Re,je,qe,ze,Ke,Ge;f!=null&&f.success&&(n.value=(v=(U=f==null?void 0:f.data)==null?void 0:U.activity)==null?void 0:v.title,i.value=(h=(y=f==null?void 0:f.data)==null?void 0:y.activity)==null?void 0:h.description,s.value=($=(T=f==null?void 0:f.data)==null?void 0:T.activity)==null?void 0:$.start_images,a.value=(S=(V=f==null?void 0:f.data)==null?void 0:V.activity)==null?void 0:S.end_images,m.value=(b=(B=f==null?void 0:f.data)==null?void 0:B.activity)==null?void 0:b.sources,(L=(P=(M=f==null?void 0:f.data)==null?void 0:M.activity)==null?void 0:P.objectives)!=null&&L.items&&(d.value.items=(ee=(G=(K=f==null?void 0:f.data)==null?void 0:K.activity)==null?void 0:G.objectives)==null?void 0:ee.items),(ne=(te=(z=f==null?void 0:f.data)==null?void 0:z.activity)==null?void 0:te.terms_concepts)!=null&&ne.items&&(u.value.items=(he=(me=(ie=f==null?void 0:f.data)==null?void 0:ie.activity)==null?void 0:me.terms_concepts)==null?void 0:he.items),(ge=(ve=(fe=f==null?void 0:f.data)==null?void 0:fe.activity)==null?void 0:ve.materials)!=null&&ge.items&&(o.value.items=(Be=(oe=(Z=f==null?void 0:f.data)==null?void 0:Z.activity)==null?void 0:oe.materials)==null?void 0:Be.items),(ke=(Ae=(De=f==null?void 0:f.data)==null?void 0:De.activity)==null?void 0:Ae.instructions)!=null&&ke.items&&(r.value.items=(Pe=(Me=(Ue=f==null?void 0:f.data)==null?void 0:Ue.activity)==null?void 0:Me.instructions)==null?void 0:Pe.items),(Le=(Te=(Ee=f==null?void 0:f.data)==null?void 0:Ee.activity)==null?void 0:Te.results)!=null&&Le.items&&(_.value.items=(Ne=(Fe=(Oe=f==null?void 0:f.data)==null?void 0:Oe.activity)==null?void 0:Fe.results)==null?void 0:Ne.items),(qe=(je=(Re=f==null?void 0:f.data)==null?void 0:Re.activity)==null?void 0:je.conclusions)!=null&&qe.items&&(w.value.items=(Ge=(Ke=(ze=f==null?void 0:f.data)==null?void 0:ze.activity)==null?void 0:Ke.conclusions)==null?void 0:Ge.items))}),ye(E,()=>{var f,U,v,y,h,T,$,V,S,B,b,M,P,L,K;if(E.addMaterial){let G={title:n.value,description:i.value,start_images:(f=s.value)!=null&&f.length?s.value:null,end_images:(U=a.value)!=null&&U.length?a.value:null,sources:(v=m.value)!=null&&v.length?m.value:null,objectives:(h=(y=d.value)==null?void 0:y.items)!=null&&h.length?d.value:null,terms_concepts:($=(T=u.value)==null?void 0:T.items)!=null&&$.length?u.value:null,materials:(S=(V=o.value)==null?void 0:V.items)!=null&&S.length?o.value:null,instructions:(b=(B=r.value)==null?void 0:B.items)!=null&&b.length?r.value:null,results:(P=(M=_.value)==null?void 0:M.items)!=null&&P.length?_.value:null,conclusions:(K=(L=w.value)==null?void 0:L.items)!=null&&K.length?w.value:null};if(E.materialId){let ee={activity_id:E.materialId,update:G};new j("update_activity").callApi(ee).then(z=>{z!=null&&z.success&&k("info",null)})}else{let ee={new_activity:G};new j("create_activity").callApi(ee).then(z=>{var te,ne;if((te=z==null?void 0:z.data)!=null&&te.activity_id){let ie={Id:(ne=z==null?void 0:z.data)==null?void 0:ne.activity_id,title:{en:n.value.en,ar:n.value.ar}};k("info",ie)}})}}}),(f,U)=>(g(),D("div",ei,[l("div",ti,[l("div",ni,[ii,c(p(x),{modelValue:n.value.en,"onUpdate:modelValue":U[0]||(U[0]=v=>n.value.en=v)},null,8,["modelValue"])]),l("div",li,[ai,c(p(x),{modelValue:n.value.ar,"onUpdate:modelValue":U[1]||(U[1]=v=>n.value.ar=v)},null,8,["modelValue"])]),l("div",si,[oi,c(p(x),{modelValue:i.value.en,"onUpdate:modelValue":U[2]||(U[2]=v=>i.value.en=v)},null,8,["modelValue"])]),l("div",ui,[ri,c(p(x),{modelValue:i.value.ar,"onUpdate:modelValue":U[3]||(U[3]=v=>i.value.ar=v)},null,8,["modelValue"])]),l("div",di,[ci,(g(!0),D(Q,null,W(s.value,(v,y)=>(g(),D("div",pi,[c(p(x),{modelValue:s.value[y],"onUpdate:modelValue":h=>s.value[y]=h},null,8,["modelValue","onUpdate:modelValue"]),l("div",mi,[l("img",{src:v},null,8,hi),l("i",{class:"pi pi-times-circle",onClick:h=>s.value.splice(y,1)},null,8,fi)])]))),256)),l("div",vi,[c(p(F),{label:"Add Image",onClick:U[4]||(U[4]=()=>{s.value?s.value.push(""):s.value=[""]})})])]),l("div",gi,[_i,(g(!0),D(Q,null,W(m.value,(v,y)=>(g(),D("div",yi,[c(p(x),{modelValue:m.value[y],"onUpdate:modelValue":h=>m.value[y]=h},null,8,["modelValue","onUpdate:modelValue"]),l("div",bi,[l("i",{class:"pi pi-times-circle",onClick:h=>m.value.splice(y,1)},null,8,$i)])]))),256)),l("div",Vi,[c(p(F),{label:"Add Source",onClick:U[5]||(U[5]=()=>{m.value?m.value.push(""):m.value=[""]})})])]),(g(),D(Q,null,W(C,v=>{var y;return l("div",Ii,[l("h4",null,ue(v.title),1),(g(!0),D(Q,null,W((y=v.item)==null?void 0:y.items,(h,T)=>(g(),D("div",Ci,[l("i",{class:"pi pi-times-circle",onClick:$=>{var V;return(V=v.item)==null?void 0:V.items.splice(T,1)}},null,8,wi),l("div",Si,[l("div",null,[xi,c(p(x),{modelValue:h.text.en,"onUpdate:modelValue":$=>h.text.en=$},null,8,["modelValue","onUpdate:modelValue"])]),l("div",null,[Bi,c(p(x),{modelValue:h.text.ar,"onUpdate:modelValue":$=>h.text.ar=$},null,8,["modelValue","onUpdate:modelValue"])])]),h.description?(g(),D("div",Di,[l("div",null,[Ai,c(p(x),{modelValue:h.description.en,"onUpdate:modelValue":$=>h.description.en=$},null,8,["modelValue","onUpdate:modelValue"])]),l("div",null,[ki,c(p(x),{modelValue:h.description.ar,"onUpdate:modelValue":$=>h.description.ar=$},null,8,["modelValue","onUpdate:modelValue"])])])):H("",!0),Ui,l("div",Mi,[c(p(x),{modelValue:h.image,"onUpdate:modelValue":$=>h.image=$},null,8,["modelValue","onUpdate:modelValue"]),l("div",Pi,[h.image?(g(),D("img",{key:0,src:h.image},null,8,Ei)):H("",!0)])])]))),256)),l("div",Ti,[c(p(F),{label:"Add Item",onClick:()=>{A(v.item)}},null,8,["onClick"])])])}),64)),l("div",Li,[Oi,(g(!0),D(Q,null,W(a.value,(v,y)=>(g(),D("div",Fi,[c(p(x),{modelValue:a.value[y],"onUpdate:modelValue":h=>a.value[y]=h},null,8,["modelValue","onUpdate:modelValue"]),l("div",Ni,[l("img",{src:v},null,8,Ri),l("i",{class:"pi pi-times-circle",onClick:h=>a.value.splice(y,1)},null,8,ji)])]))),256)),l("div",qi,[c(p(F),{label:"Add Image",onClick:U[6]||(U[6]=()=>{a.value?a.value.push(""):a.value=[""]})})])])])]))}}),Ki=se(zi,[["__scopeId","data-v-f2f2481e"]]),pe=t=>(re("data-v-de42d581"),t=t(),de(),t),Gi={class:"container"},Qi={class:"material-container"},Hi={class:"element"},Wi=pe(()=>l("h4",null,"English Title",-1)),Ji={class:"element"},Yi=pe(()=>l("h4",null,"Arabic Title",-1)),Xi={class:"element"},Zi=pe(()=>l("h4",null,"English Description",-1)),el={class:"element"},tl=pe(()=>l("h4",null,"Arabic Description",-1)),nl={class:"element"},il=pe(()=>l("h4",null,"English Source",-1)),ll={class:"element"},al=pe(()=>l("h4",null,"Arabic Source",-1)),sl=ae({__name:"AddProject",props:["addMaterial","materialId"],emits:["info"],setup(t,{emit:e}){const n=I({en:"",ar:""}),i=I({en:"",ar:""}),s=I(""),a=I(""),m=t,d=e;return m.materialId&&new j("get_project").callApi({project_id:m.materialId}).then(u=>{var o,r,_,w,C,A,E,k;u!=null&&u.success&&(n.value=(r=(o=u==null?void 0:u.data)==null?void 0:o.project)==null?void 0:r.title,i.value=(w=(_=u==null?void 0:u.data)==null?void 0:_.project)==null?void 0:w.description,s.value=(A=(C=u==null?void 0:u.data)==null?void 0:C.project)==null?void 0:A.source,a.value=(k=(E=u==null?void 0:u.data)==null?void 0:E.project)==null?void 0:k.source2)}),ye(m,()=>{if(m.addMaterial){let u={title:n.value,description:i.value,source:s.value,source2:a.value};if(m.materialId){let o={project_id:m.materialId,update:u};new j("update_project").callApi(o).then(r=>{r!=null&&r.success&&d("info",null)})}else{let o={new_project:u};new j("create_project").callApi(o).then(r=>{var _,w;if((_=r==null?void 0:r.data)!=null&&_.project_id){let C={Id:(w=r==null?void 0:r.data)==null?void 0:w.project_id,title:{en:n.value.en,ar:n.value.ar}};d("info",C)}})}}}),(u,o)=>(g(),D("div",Gi,[l("div",Qi,[l("div",Hi,[Wi,c(p(x),{modelValue:n.value.en,"onUpdate:modelValue":o[0]||(o[0]=r=>n.value.en=r)},null,8,["modelValue"])]),l("div",Ji,[Yi,c(p(x),{modelValue:n.value.ar,"onUpdate:modelValue":o[1]||(o[1]=r=>n.value.ar=r)},null,8,["modelValue"])]),l("div",Xi,[Zi,c(p(x),{modelValue:i.value.en,"onUpdate:modelValue":o[2]||(o[2]=r=>i.value.en=r)},null,8,["modelValue"])]),l("div",el,[tl,c(p(x),{modelValue:i.value.ar,"onUpdate:modelValue":o[3]||(o[3]=r=>i.value.ar=r)},null,8,["modelValue"])]),l("div",nl,[il,c(p(x),{modelValue:s.value,"onUpdate:modelValue":o[4]||(o[4]=r=>s.value=r)},null,8,["modelValue"])]),l("div",ll,[al,c(p(x),{modelValue:a.value,"onUpdate:modelValue":o[5]||(o[5]=r=>a.value=r)},null,8,["modelValue"])])])]))}}),ol=se(sl,[["__scopeId","data-v-de42d581"]]),ul={class:"dialog"},rl={class:"container"},dl={class:"material-container"},cl={class:"material-btns"},pl=ae({__name:"AddMaterialDialog",props:["showDialog","materialId","materialType"],emits:["removeDialog","info"],setup(t,{emit:e}){const n=t,i=e,s=I(n.materialType),a=["Lesson","Quiz","Activity","Simulation","Project"],m=I(!1),d=I(!1),u=I(!1),o=I(!1),r=I(!1);function _(){s.value=="Lesson"&&(m.value=!0),s.value=="Quiz"&&(d.value=!0),s.value=="Activity"&&(u.value=!0),s.value=="Simulation"&&(r.value=!0),s.value=="Project"&&(o.value=!0)}function w(C){if(C){let A={Id:C==null?void 0:C.Id,order:0,title:C==null?void 0:C.title,type:s.value};i("info",A)}i("removeDialog",!0)}return(C,A)=>(g(),R(p(lt),{visible:n.showDialog,"onUpdate:visible":A[7]||(A[7]=E=>n.showDialog=E),modal:"",pt:{root:"border-none",mask:{style:"backdrop-filter: blur(2px)"}}},{container:N(({closeCallback:E})=>[l("div",ul,[l("div",rl,[s.value?H("",!0):(g(),R(p(Ze),{key:0,modelValue:s.value,"onUpdate:modelValue":A[0]||(A[0]=k=>s.value=k),options:a,placeholder:"Material Type"},null,8,["modelValue"])),l("div",dl,[s.value=="Quiz"?(g(),R(Fn,{key:0,"add-material":d.value,"material-id":t.materialId,onInfo:A[1]||(A[1]=k=>{w(k)})},null,8,["add-material","material-id"])):H("",!0),s.value=="Lesson"?(g(),R(Zn,{key:1,"add-material":m.value,"material-id":t.materialId,onInfo:A[2]||(A[2]=k=>{w(k)})},null,8,["add-material","material-id"])):H("",!0),s.value=="Activity"?(g(),R(Ki,{key:2,"add-material":u.value,"material-id":t.materialId,onInfo:A[3]||(A[3]=k=>{w(k)})},null,8,["add-material","material-id"])):H("",!0),s.value=="Simulation"?(g(),R(At,{key:3,"add-material":r.value,"material-id":t.materialId,onInfo:A[4]||(A[4]=k=>{w(k)})},null,8,["add-material","material-id"])):H("",!0),s.value=="Project"?(g(),R(ol,{key:4,"add-material":o.value,"material-id":t.materialId,onInfo:A[5]||(A[5]=k=>{w(k)})},null,8,["add-material","material-id"])):H("",!0)]),l("div",cl,[c(p(F),{label:"Save Changes",onClick:_}),c(p(F),{style:{"background-color":"red"},label:"Cancel",onClick:A[6]||(A[6]=()=>{C.$emit("removeDialog")})})])])])]),_:1},8,["visible","pt"]))}}),ml=se(pl,[["__scopeId","data-v-c229a480"]]),Y=t=>(re("data-v-209944a9"),t=t(),de(),t),hl={class:"container"},fl=Y(()=>l("div",{class:"tab_header"},[l("i",{class:"pi pi-info"}),l("p",null,"Basic Info")],-1)),vl={class:"tab_container"},gl={class:"element"},_l={class:"element"},yl=Y(()=>l("h3",null,"Is Locked",-1)),bl={style:{display:"flex","justify-content":"space-around"}},$l={style:{display:"flex","justify-content":"center","align-items":"center",gap:"0.5rem"}},Vl=Y(()=>l("label",{style:{"font-size":"1.25rem"},for:"v1"},"Yes",-1)),Il={style:{display:"flex","justify-content":"center","align-items":"center",gap:"0.5rem"}},Cl=Y(()=>l("label",{style:{"font-size":"1.25rem"},for:"v2"},"No",-1)),wl=Y(()=>l("div",{class:"tab_header"},[l("i",{class:"pi pi-align-justify"}),l("p",null,"Categories")],-1)),Sl={class:"tab_container"},xl={class:"row"},Bl={style:{display:"grid","grid-template-columns":"3fr 1fr",gap:"1rem"}},Dl={class:"btn-container"},Al=Y(()=>l("div",{class:"tab_header"},[l("i",{class:"pi pi-star"}),l("p",null,"Objectives")],-1)),kl={class:"tab_container"},Ul={class:"row"},Ml={class:"element"},Pl=Y(()=>l("span",null,"English",-1)),El={class:"element"},Tl=Y(()=>l("span",null,"Arabic",-1)),Ll={class:"btn-container"},Ol=Y(()=>l("div",{class:"tab_header"},[l("i",{class:"pi pi-book"}),l("p",null,"Chapters")],-1)),Fl={class:"tab_container"},Nl={class:"element"},Rl=Y(()=>l("span",null,"English Title",-1)),jl={class:"element"},ql=Y(()=>l("span",null,"Arabic Title",-1)),zl=Y(()=>l("h3",null,"Materials",-1)),Kl={class:"options"},Gl=["onClick"],Ql=["onClick"],Hl={class:"mat-group"},Wl={class:"element"},Jl={class:"material-btns"},Yl={style:{display:"flex","justify-content":"end"}},Xl={class:"btn-container"},Zl={class:"btn-container"},ea=ae({__name:"editCourse",setup(t){const e=at(),n=st(),i=new j("get_course"),s=new j("get_categories"),a=I(),m=I([]),d=I([]),u=I([]),o=I([]),r=I(!1);s.callApi().then(V=>{var S,B;V!=null&&V.success&&(m.value=(S=V==null?void 0:V.data)==null?void 0:S.categories,i.callApi({course_id:(B=e.params)==null?void 0:B.courseId}).then(b=>{var M,P,L,K,G,ee,z,te,ne,ie,me,he,fe,ve,ge;if(b!=null&&b.success){a.value=(M=b==null?void 0:b.data)==null?void 0:M.course,r.value=((P=a.value)==null?void 0:P.is_locked)??!1,O.value={...O.value,titleEn:{...O.value.titleEn,variable:((K=(L=a.value)==null?void 0:L.title)==null?void 0:K.en)||""},titleAr:{...O.value.titleAr,variable:((ee=(G=a.value)==null?void 0:G.title)==null?void 0:ee.ar)||""},descriptionEn:{...O.value.descriptionEn,variable:((te=(z=a.value)==null?void 0:z.description)==null?void 0:te.en)||""},descriptionAr:{...O.value.descriptionAr,variable:((ie=(ne=a.value)==null?void 0:ne.description)==null?void 0:ie.ar)||""},image:{...O.value.image,variable:((me=a.value)==null?void 0:me.image)||""},minAge:{...O.value.minAge,variable:((he=a.value)==null?void 0:he.min_age)||""},maxAge:{...O.value.maxAge,variable:((fe=a.value)==null?void 0:fe.max_age)||""},price:{...O.value.price,variable:((ve=a.value)==null?void 0:ve.price)||""}};for(let Z of a==null?void 0:a.value.objectives)d.value.push(Z);for(let Z of a==null?void 0:a.value.chapters)o.value.push(Z);for(let Z of a==null?void 0:a.value.categories)u.value.push((ge=m.value)==null?void 0:ge.find(oe=>(oe==null?void 0:oe.id)==(Z==null?void 0:Z.Id)))}}))});const _=I(""),w=I("");function C(){u.value.push({Id:null,ristriction_on_course:null})}function A(V){u.value.splice(V,1)}function E(){d.value.push({en:null,ar:null})}function k(V){d.value.splice(V,1)}function f(){var B,b,M;let V=[];for(let P=0;P<u.value.length;P++)V.push({Id:(B=u.value[P])==null?void 0:B.id,title:(b=u.value[P])==null?void 0:b.category});const S={course_id:(M=e.params)==null?void 0:M.courseId,update:{title:{en:O.value.titleEn.variable,ar:O.value.titleAr.variable},description:{en:O.value.descriptionEn.variable,ar:O.value.descriptionAr.variable},chapters:o.value,categories:V,objectives:d.value,price:O.value.price.variable,min_age:O.value.minAge.variable,max_age:O.value.maxAge.variable,image:O.value.image.variable,is_locked:r.value}};new j("update_course").callApi(S).then(P=>{P!=null&&P.success&&n.push("/manageCourses")})}const U=I(!1),v=I(-1);function y(V){setTimeout(()=>{o.value[v.value].materials.push(V)},250)}function h(){o.value.push({title:{en:"",ar:""},materials:[]})}function T(V,S){var B;if(S>0){let b=o.value[V].materials[S-1];o.value[V].materials[S-1]=(B=o.value[V])==null?void 0:B.materials[S],o.value[V].materials[S]=b}}function $(V,S){var B,b,M,P;if(S<((b=(B=o.value[V])==null?void 0:B.materials)==null?void 0:b.length)-1){let L=(M=o.value[V])==null?void 0:M.materials[S+1];o.value[V].materials[S+1]=(P=o.value[V])==null?void 0:P.materials[S],o.value[V].materials[S]=L}}return(V,S)=>(g(),D(Q,null,[U.value?(g(),R(ml,{key:0,showDialog:U.value,"material-type":w.value,"material-id":_.value,onRemoveDialog:S[0]||(S[0]=B=>U.value=!1),onInfo:S[1]||(S[1]=B=>{y(B)})},null,8,["showDialog","material-type","material-id"])):H("",!0),c(ot),l("div",hl,[c(p(ht),{scrollable:!0},{default:N(()=>[c(p(Ie),null,{header:N(()=>[fl]),default:N(()=>[l("div",vl,[(g(!0),D(Q,null,W(p(O),B=>(g(),D("div",gl,[l("h3",null,ue(B.label),1),(g(),R(le(B.component),{type:B.inputType,modelValue:B.variable,"onUpdate:modelValue":b=>B.variable=b},null,8,["type","modelValue","onUpdate:modelValue"]))]))),256)),l("div",_l,[yl,l("div",bl,[l("div",$l,[c(p(Ce),{modelValue:r.value,"onUpdate:modelValue":S[2]||(S[2]=B=>r.value=B),inputId:"v1",name:"isLocked",value:!0},null,8,["modelValue"]),Vl]),l("div",Il,[c(p(Ce),{modelValue:r.value,"onUpdate:modelValue":S[3]||(S[3]=B=>r.value=B),inputId:"v2",name:"isLocked",value:!1},null,8,["modelValue"]),Cl])])])])]),_:1}),c(p(Ie),null,{header:N(()=>[wl]),default:N(()=>[l("div",Sl,[(g(!0),D(Q,null,W(u.value,(B,b)=>(g(),D("div",xl,[l("div",Bl,[c(p(Ze),{modelValue:u.value[b],"onUpdate:modelValue":M=>u.value[b]=M,options:m.value,optionLabel:"category.en"},null,8,["modelValue","onUpdate:modelValue","options"]),c(p(F),{onClick:()=>{A(b)},label:"Remove",style:{"background-color":"red"}},null,8,["onClick"])])]))),256)),l("div",Dl,[c(p(F),{onClick:C,label:"Add Category "})])])]),_:1}),c(p(Ie),null,{header:N(()=>[Al]),default:N(()=>[l("div",kl,[(g(!0),D(Q,null,W(d.value,(B,b)=>(g(),D("div",Ul,[l("div",Ml,[Pl,c(p(x),{modelValue:d.value[b].en,"onUpdate:modelValue":M=>d.value[b].en=M},null,8,["modelValue","onUpdate:modelValue"])]),l("div",El,[Tl,c(p(x),{modelValue:d.value[b].ar,"onUpdate:modelValue":M=>d.value[b].ar=M},null,8,["modelValue","onUpdate:modelValue"])]),c(p(F),{onClick:()=>{k(b)},label:"Remove",style:{"background-color":"red"}},null,8,["onClick"])]))),256)),l("div",Ll,[c(p(F),{onClick:E,label:"Add Objective "})])])]),_:1}),c(p(Ie),null,{header:N(()=>[Ol]),default:N(()=>[l("div",Fl,[c(p(ct),null,{default:N(()=>[(g(!0),D(Q,null,W(o.value,(B,b)=>(g(),R(p(pt),{class:"row",key:"chap"+b.toString()},{header:N(()=>[l("h3",null,ue(B.title.en),1)]),default:N(()=>[l("div",Nl,[Rl,c(p(x),{modelValue:o.value[b].title.en,"onUpdate:modelValue":M=>o.value[b].title.en=M},null,8,["modelValue","onUpdate:modelValue"])]),l("div",jl,[ql,c(p(x),{modelValue:o.value[b].title.ar,"onUpdate:modelValue":M=>o.value[b].title.ar=M},null,8,["modelValue","onUpdate:modelValue"])]),zl,c(ut,{name:"swap",tag:"ul"},{default:N(()=>[(g(!0),D(Q,null,W(o.value[b].materials,(M,P)=>(g(),D("li",{class:"row2 row",key:M},[l("div",Kl,[l("i",{class:"pi pi-arrow-up",style:{color:"var(--accent1)"},onClick:L=>T(b,P)},null,8,Gl),l("i",{class:"pi pi-arrow-down",style:{color:"var(--accent1)"},onClick:L=>$(b,P)},null,8,Ql)]),l("div",Hl,[(g(!0),D(Q,null,W(p(rt),(L,K)=>(g(),D("div",{key:"mask"+b.toString()+P.toString()+K.toString()},[l("div",Wl,[l("span",null,ue(L.label),1),L.mask2?(g(),R(le(L.component),{key:"com"+b.toString()+P.toString()+K.toString()+"a",disabled:L.disabled,modelValue:o.value[b].materials[P][L.mask1][L.mask2],"onUpdate:modelValue":G=>o.value[b].materials[P][L.mask1][L.mask2]=G},null,8,["disabled","modelValue","onUpdate:modelValue"])):(g(),R(le(L.component),{key:"com"+b.toString()+P.toString()+K.toString()+"b",disabled:L.disabled,modelValue:o.value[b].materials[P][L.mask1],"onUpdate:modelValue":G=>o.value[b].materials[P][L.mask1]=G},null,8,["disabled","modelValue","onUpdate:modelValue"]))])]))),128)),l("div",Jl,[c(p(F),{label:"Edit",onClick:L=>{_.value=M==null?void 0:M.Id,w.value=M==null?void 0:M.type,U.value=!0,v.value=b}},null,8,["onClick"]),c(p(F),{style:{"background-color":"red"},label:"delete",onClick:L=>{var K,G;return(G=(K=o.value[b])==null?void 0:K.materials)==null?void 0:G.splice(P,1)}},null,8,["onClick"])])])]))),128))]),_:2},1024),l("div",Yl,[c(p(F),{onClick:M=>{_.value="",w.value="",U.value=!0,v.value=b},label:"Add",style:{"margin-right":"2rem"}},null,8,["onClick"])])]),_:2},1024))),128))]),_:1}),l("div",Xl,[c(p(F),{label:"Add Chapter",onClick:h})])])]),_:1})]),_:1}),l("div",Zl,[c(p(F),{onClick:f,label:"Save Changes"})])]),c(dt)],64))}}),oa=se(ea,[["__scopeId","data-v-209944a9"]]);export{oa as default};
