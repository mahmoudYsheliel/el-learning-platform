import{d as q,c as I,e as l,t as s,f as e,v as A,w as z,h as T,o as h,s as a,k as d,p as te,n as se,_ as k,z as S,B,i as F,b as w,m as M,C as Y,g as X,D as ae,A as ne,a as ie,r as f,H as D,E as ue,y as re,N as ce,F as de}from"./index-SwBa6dz9.js";import{A as pe,E as me,G as ve,P as he}from"./PromoCodeDialog-Bf9dckEx.js";import{s as _e,a as ge}from"./accordiontab.esm-C2wrdRGp.js";const H=t=>(te("data-v-db54c86b"),t=t(),se(),t),fe={class:"container"},we={class:"wrapper"},be={class:"wrapper"},Ie={class:"wrapper"},Ce=H(()=>l("i",{class:"pi pi-clock"},null,-1)),De={class:"wrapper"},$e=H(()=>l("i",{class:"pi pi-angle-double-up"},null,-1)),qe={class:"wrapper"},ke=H(()=>l("i",{class:"pi pi-dollar"},null,-1)),ye=q({__name:"Information",props:["title","price","categories","min_age","max_age","duration"],setup(t){return(C,_)=>(h(),I("main",null,[l("div",fe,[l("h2",null,s(e(a)(e(d).courseInfo)),1),l("div",we,[l("h4",null,s(e(a)(e(d).title)),1),l("p",null,s(t.title),1)]),l("div",be,[l("h4",null,s(e(a)(e(d).categories)),1),(h(!0),I(A,null,z(t.categories,n=>(h(),I("p",null,s(e(a)(n.title)),1))),256))]),l("div",Ie,[l("h4",null,[T(s(e(a)(e(d).duration)),1),Ce]),l("p",null,s(t.duration)+" "+s(e(a)(e(d).days)),1)]),l("div",De,[l("h4",null,[T(s(e(a)(e(d).age)),1),$e]),l("p",null,s(t.min_age)+" - "+s(t.max_age)+" "+s(e(a)(e(d).years)),1)]),l("div",qe,[l("h4",null,[T(s(e(a)(e(d).price)),1),ke]),l("p",null,s(t.price)+" L.E",1)])])]))}}),Pe=k(ye,[["__scopeId","data-v-db54c86b"]]),xe={class:"dialog"},Ee=q({__name:"CourseBelongsToPlanDialog",props:["showDialog","planId","childId"],setup(t){const C=F(),_=t;return(n,v)=>(h(),S(e(Y),{visible:_.showDialog,"onUpdate:visible":v[1]||(v[1]=u=>_.showDialog=u),modal:"",pt:{root:"border-none",mask:{style:"backdrop-filter: blur(2px)"}}},{container:B(({closeCallback:u})=>[l("div",xe,[l("h2",null,s(e(a)(e(d).courseBelongsToPlan)),1),w(e(M),{label:e(a)(e(d).viewPlans),style:{width:"10rem"},onClick:v[0]||(v[0]=y=>e(C).push(`/plan/${t.planId}/${t.childId}`))},null,8,["label"])])]),_:1},8,["visible","pt"]))}}),Be=k(Ee,[["__scopeId","data-v-004f4601"]]),Ae={class:"course-description"},Se={class:"head"},Re=["src"],Te={class:"description"},ze={class:"header"},Me={class:"objectives"},Ne=q({__name:"CourseDescribtion",props:["course","isEnrolled","notShowButton"],emits:["enroll","viewMaterial"],setup(t,{emit:C}){return(_,n)=>{var v,u,y,P;return h(),I("div",Ae,[l("div",Se,[l("h1",null,s(e(a)((v=t.course)==null?void 0:v.title)),1)]),l("img",{src:(u=t.course)==null?void 0:u.image,alt:""},null,8,Re),l("div",Te,[l("div",ze,[l("h2",null,s(e(a)(e(d).courseDescription)),1),!t.isEnrolled&&!t.notShowButton?(h(),S(e(M),{key:0,label:e(a)(e(d).enrollNow),onClick:n[0]||(n[0]=()=>{_.$emit("enroll")})},null,8,["label"])):X("",!0),t.isEnrolled&&!t.notShowButton?(h(),S(e(M),{key:1,label:e(a)(e(d).viewMat),onClick:n[1]||(n[1]=()=>{_.$emit("viewMaterial")})},null,8,["label"])):X("",!0)]),l("p",null,s(e(a)((y=t.course)==null?void 0:y.description)),1)]),l("div",Me,[l("h2",null,s(e(a)(e(d).courseObjectives)),1),(h(!0),I(A,null,z((P=t.course)==null?void 0:P.objectives,R=>(h(),I("p",null," - "+s(e(a)(R)),1))),256))])])}}}),je=k(Ne,[["__scopeId","data-v-0e255b34"]]),Ve={class:"card"},Le={style:{display:"flex","justify-content":"space-between",gap:"2rem","padding-left":"2rem"}},Fe={style:{padding:"0",margin:"0",color:"var(--accent1)"},class:"m-0"},He=q({__name:"CourseMaterial",props:["chapters"],setup(t){return(C,_)=>(h(),I("div",Ve,[l("h2",null,s(e(a)(e(d).courseContent)),1),w(e(ge),{multiple:!0,activeIndex:[]},{default:B(()=>[(h(!0),I(A,null,z(t.chapters,(n,v)=>(h(),S(e(_e),{key:n.title,pt:{root:{style:"margin-block:0.5rem; border:solid 2px var(--accent1); border-radius:1rem; padding:0.25rem"}}},{header:B(()=>[l("div",null,[l("h4",null,s(e(a)(n.title)),1),l("div",Le,[l("h5",null,s(n.lessonCount)+" "+s(e(a)(e(d).lessons)),1),l("h5",null,s(n.quizCount)+" "+s(e(a)(e(d).quiz)),1)])])]),default:B(()=>[(h(!0),I(A,null,z(n.materials,u=>(h(),I("p",Fe,[l("i",{class:ae(u.icon)},null,2),T(" "+s(u.title),1)]))),256))]),_:2},1032,["pt"]))),128))]),_:1})]))}}),Ge=k(He,[["__scopeId","data-v-7d0b47df"]]),Ue={class:"dialog"},Oe=q({__name:"PrequisiteDialog",props:["showDialog","course"],emits:["removeDialog"],setup(t,{emit:C}){F();const _=t;return(n,v)=>(h(),S(e(Y),{visible:_.showDialog,"onUpdate:visible":v[1]||(v[1]=u=>_.showDialog=u),modal:"",pt:{root:"border-none",mask:{style:"backdrop-filter: blur(2px)"}}},{container:B(({closeCallback:u})=>[l("div",Ue,[l("h2",null,s(e(a)(e(d).courseHasPrequisite))+" "+s(t.course),1),w(e(M),{label:e(a)(e(d).cancell),onClick:v[0]||(v[0]=()=>{n.$emit("removeDialog")})},null,8,["label"])])]),_:1},8,["visible","pt"]))}}),Qe=k(Oe,[["__scopeId","data-v-b41bb835"]]),We={class:"big-container"},Je={class:"content"},Ke=q({__name:"courseDetails",setup(t){const C=ne(),_=ie(),n=re(),v=F(),u=f(),y=new D("get_course"),P=f([]);y.callApi({course_id:n.params.courseId}).then(r=>{var c,p;u.value=(c=r==null?void 0:r.data)==null?void 0:c.course;for(let i of(p=u.value)==null?void 0:p.chapters){let m={title:"",lessonCount:0,quizCount:0,materials:[]};m.title=i==null?void 0:i.title;for(let o of i==null?void 0:i.materials){for(let g of ue)(o==null?void 0:o.type)==g.name&&m.materials.push({title:a(o.title),icon:g.icon});(o==null?void 0:o.type)==="Lesson"&&(m.lessonCount=m.lessonCount+1),(o==null?void 0:o.type)==="Quiz"&&(m.quizCount=m.quizCount+1)}P.value.push(m)}});const R=f(),N=f(!1),G=f(!1),U=f(!1),O=f(!1),j=f(!1),Q=f(),V=f(!1);function Z(){var r,c,p,i;C.getIsAuthorized?((r=_.getInfo)==null?void 0:r.userType)=="Child"?N.value=!0:((c=_.getInfo)==null?void 0:c.userType)=="Parent"&&(((p=n.params)==null?void 0:p.childId)=="0"?O.value=!0:new D("get_course_plan").callApi({course_id:(i=n.params)==null?void 0:i.courseId}).then(o=>{var g,b;(o==null?void 0:o.success)==!1?j.value=!0:(o==null?void 0:o.success)==!0&&(U.value=!0,Q.value=(b=(g=o==null?void 0:o.data)==null?void 0:g.plan)==null?void 0:b.id)})):v.push("/login")}function ee(r){var p;j.value=!1,new D("request_enrollment").callApi({request:{student_id:n.params.childId,course_id:(p=u.value)==null?void 0:p.id,promo_code:r}}).then(i=>{var m,o;i!=null&&i.success&&(R.value=(o=(m=i==null?void 0:i.data)==null?void 0:m.request)==null?void 0:o.price,G.value=!0)})}const W=f(!1),J=f();new D("get_enrollment").callApi({course_id:n.params.courseId}).then(r=>{var c,p,i;(c=r==null?void 0:r.data)!=null&&c.enrollment&&(W.value=!0,J.value=(i=(p=r==null?void 0:r.data)==null?void 0:p.enrollment)==null?void 0:i.id)});const L=f(""),K=f(""),le=new D("get_course_plan");function oe(){le.callApi({course_id:n.params.courseId}).then(r=>{var p,i,m;let c=(i=(p=r==null?void 0:r.data)==null?void 0:p.plan)==null?void 0:i.courses;L.value=(m=c==null?void 0:c.find(o=>(o==null?void 0:o.Id)==n.params.courseId))==null?void 0:m.ristriction_on_course,new D("get_course").callApi({course_id:L.value||""}).then(o=>{var g,b;K.value=a((b=(g=o==null?void 0:o.data)==null?void 0:g.course)==null?void 0:b.title)||""}),new D("get_enrollment").callApi({course_id:L.value||""}).then(o=>{var g,b,x,E,$;((b=(g=o==null?void 0:o.data)==null?void 0:g.enrollment)==null?void 0:b.is_completed)==!1?V.value=!0:v.push(`/viewCoursePage/${n.params.courseId}/${J.value}/${($=(E=(x=u.value)==null?void 0:x.chapters[0])==null?void 0:E.materials[0])==null?void 0:$.Id}`)})})}return(r,c)=>{var p,i,m,o,g,b,x,E;return h(),I(A,null,[w(ce),l("div",We,[w(pe,{showDialog:N.value,onRemoveDialog:c[0]||(c[0]=$=>{N.value=!1})},null,8,["showDialog"]),w(Qe,{course:K.value,"show-dialog":V.value,onRemoveDialog:c[1]||(c[1]=$=>V.value=!1)},null,8,["course","show-dialog"]),w(me,{showDialog:G.value,cost:R.value},null,8,["showDialog","cost"]),w(ve,{showDialog:O.value},null,8,["showDialog"]),w(Be,{showDialog:U.value,planId:Q.value,childId:(p=e(n).params)==null?void 0:p.childId},null,8,["showDialog","planId","childId"]),w(he,{showDialog:j.value,onPromoCode:c[2]||(c[2]=$=>{ee($)})},null,8,["showDialog"]),w(je,{course:u.value,isEnrolled:W.value,notShowButton:((i=e(_).getInfo)==null?void 0:i.userType)=="Parent"&&e(n).params.isEnrolled=="1",onEnroll:Z,onViewMaterial:oe},null,8,["course","isEnrolled","notShowButton"]),l("div",Je,[w(Ge,{chapters:P.value},null,8,["chapters"]),w(Pe,{categories:(m=u.value)==null?void 0:m.categories,title:e(a)((o=u.value)==null?void 0:o.title),price:(g=u.value)==null?void 0:g.price,duration:(b=u.value)==null?void 0:b.duration,min_age:(x=u.value)==null?void 0:x.min_age,max_age:(E=u.value)==null?void 0:E.max_age},null,8,["categories","title","price","duration","min_age","max_age"])])]),w(de)],64)}}}),ll=k(Ke,[["__scopeId","data-v-2eeb2ffa"]]);export{ll as default};
