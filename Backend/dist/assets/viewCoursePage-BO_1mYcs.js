import{B as Ae,O as be,j as J,o as c,c as u,e as s,A as E,y as Ce,I as W,g as D,z as K,C as _e,M as Be,P as re,Q as Ve,R as Fe,S as Oe,T as ze,U as Ze,V as Le,w as V,W as ne,D as le,X as Qe,h as Y,t as y,x as U,Y as We,b as N,d as oe,r as T,E as ce,f as i,i as Ke,G as de,s as b,_ as ae,Z as se,H as G,k as P,m as X,u as Ne,$ as H,K as Ue,v as Ye,p as Ge,n as Xe,a as Je,L as et,N as tt}from"./index-DY8XNVPR.js";import{s as $e,a as nt}from"./index.esm-DJe1-apb.js";import{s as lt}from"./progressbar.esm-C01jRmSr.js";import{G as ot}from"./index-CdeYONtP.js";var at={root:function(n){var e=n.props;return["p-tree p-component",{"p-tree-selectable":e.selectionMode!=null,"p-tree-loading":e.loading,"p-tree-flex-scrollable":e.scrollHeight==="flex"}]},loadingOverlay:"p-tree-loading-overlay p-component-overlay",loadingIcon:"p-tree-loading-icon",filterContainer:"p-tree-filter-container",input:"p-tree-filter p-inputtext p-component",searchIcon:"p-tree-filter-icon",wrapper:"p-tree-wrapper",container:"p-tree-container",node:function(n){var e=n.instance;return["p-treenode",{"p-treenode-leaf":e.leaf}]},content:function(n){var e=n.instance;return["p-treenode-content",e.node.styleClass,{"p-treenode-selectable":e.selectable,"p-highlight":e.checkboxMode&&e.$parentInstance.highlightOnSelect?e.checked:e.selected}]},toggler:"p-tree-toggler p-link",togglerIcon:"p-tree-toggler-icon",nodeTogglerIcon:"p-tree-node-toggler-icon",nodeCheckbox:function(n){var e=n.instance;return[{"p-indeterminate":e.partialChecked}]},nodeIcon:"p-treenode-icon",label:"p-treenode-label",subgroup:"p-treenode-children"},rt=Ae.extend({name:"tree",classes:at}),it={root:function(n){var e=n.instance,l=n.props;return["p-checkbox p-component",{"p-highlight":e.checked,"p-disabled":l.disabled,"p-invalid":l.invalid,"p-variant-filled":l.variant?l.variant==="filled":e.$primevue.config.inputStyle==="filled"}]},box:"p-checkbox-box",input:"p-checkbox-input",icon:"p-checkbox-icon"},st=Ae.extend({name:"checkbox",classes:it}),ct={name:"BaseCheckbox",extends:_e,props:{value:null,modelValue:null,binary:Boolean,name:{type:String,default:null},trueValue:{type:null,default:!0},falseValue:{type:null,default:!1},variant:{type:String,default:null},invalid:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},readonly:{type:Boolean,default:!1},required:{type:Boolean,default:!1},tabindex:{type:Number,default:null},inputId:{type:String,default:null},inputClass:{type:[String,Object],default:null},inputStyle:{type:Object,default:null},ariaLabelledby:{type:String,default:null},ariaLabel:{type:String,default:null}},style:st,provide:function(){return{$parentInstance:this}}};function dt(t){return ft(t)||pt(t)||ht(t)||ut()}function ut(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ht(t,n){if(t){if(typeof t=="string")return ke(t,n);var e=Object.prototype.toString.call(t).slice(8,-1);if(e==="Object"&&t.constructor&&(e=t.constructor.name),e==="Map"||e==="Set")return Array.from(t);if(e==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e))return ke(t,n)}}function pt(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function ft(t){if(Array.isArray(t))return ke(t)}function ke(t,n){(n==null||n>t.length)&&(n=t.length);for(var e=0,l=new Array(n);e<n;e++)l[e]=t[e];return l}var Ee={name:"Checkbox",extends:ct,inheritAttrs:!1,emits:["update:modelValue","change","focus","blur"],methods:{getPTOptions:function(n){var e=n==="root"?this.ptmi:this.ptm;return e(n,{context:{checked:this.checked,disabled:this.disabled}})},onChange:function(n){var e=this;if(!this.disabled&&!this.readonly){var l;this.binary?l=this.checked?this.falseValue:this.trueValue:this.checked?l=this.modelValue.filter(function(a){return!be.equals(a,e.value)}):l=this.modelValue?[].concat(dt(this.modelValue),[this.value]):[this.value],this.$emit("update:modelValue",l),this.$emit("change",n)}},onFocus:function(n){this.$emit("focus",n)},onBlur:function(n){this.$emit("blur",n)}},computed:{checked:function(){return this.binary?this.modelValue===this.trueValue:be.contains(this.value,this.modelValue)}},components:{CheckIcon:$e}},gt=["data-p-highlight","data-p-disabled"],mt=["id","value","name","checked","tabindex","disabled","readonly","required","aria-labelledby","aria-label","aria-invalid"];function vt(t,n,e,l,a,o){var d=J("CheckIcon");return c(),u("div",E({class:t.cx("root")},o.getPTOptions("root"),{"data-p-highlight":o.checked,"data-p-disabled":t.disabled}),[s("input",E({id:t.inputId,type:"checkbox",class:[t.cx("input"),t.inputClass],style:t.inputStyle,value:t.value,name:t.name,checked:o.checked,tabindex:t.tabindex,disabled:t.disabled,readonly:t.readonly,required:t.required,"aria-labelledby":t.ariaLabelledby,"aria-label":t.ariaLabel,"aria-invalid":t.invalid||void 0,onFocus:n[0]||(n[0]=function(){return o.onFocus&&o.onFocus.apply(o,arguments)}),onBlur:n[1]||(n[1]=function(){return o.onBlur&&o.onBlur.apply(o,arguments)}),onChange:n[2]||(n[2]=function(){return o.onChange&&o.onChange.apply(o,arguments)})},o.getPTOptions("input")),null,16,mt),s("div",E({class:t.cx("box")},o.getPTOptions("box")),[Ce(t.$slots,"icon",{checked:o.checked,class:K(t.cx("icon"))},function(){return[o.checked?(c(),W(d,E({key:0,class:t.cx("icon")},o.getPTOptions("icon")),null,16,["class"])):D("",!0)]})],16)],16,gt)}Ee.render=vt;var Pe={name:"MinusIcon",extends:Be},yt=s("path",{d:"M13.2222 7.77778H0.777778C0.571498 7.77778 0.373667 7.69584 0.227806 7.54998C0.0819442 7.40412 0 7.20629 0 7.00001C0 6.79373 0.0819442 6.5959 0.227806 6.45003C0.373667 6.30417 0.571498 6.22223 0.777778 6.22223H13.2222C13.4285 6.22223 13.6263 6.30417 13.7722 6.45003C13.9181 6.5959 14 6.79373 14 7.00001C14 7.20629 13.9181 7.40412 13.7722 7.54998C13.6263 7.69584 13.4285 7.77778 13.2222 7.77778Z",fill:"currentColor"},null,-1),bt=[yt];function Ct(t,n,e,l,a,o){return c(),u("svg",E({width:"14",height:"14",viewBox:"0 0 14 14",fill:"none",xmlns:"http://www.w3.org/2000/svg"},t.pti()),bt,16)}Pe.render=Ct;var kt={name:"BaseTree",extends:_e,props:{value:{type:null,default:null},expandedKeys:{type:null,default:null},selectionKeys:{type:null,default:null},selectionMode:{type:String,default:null},metaKeySelection:{type:Boolean,default:!1},loading:{type:Boolean,default:!1},loadingIcon:{type:String,default:void 0},loadingMode:{type:String,default:"mask"},filter:{type:Boolean,default:!1},filterBy:{type:String,default:"label"},filterMode:{type:String,default:"lenient"},filterPlaceholder:{type:String,default:null},filterLocale:{type:String,default:void 0},highlightOnSelect:{type:Boolean,default:!1},scrollHeight:{type:String,default:null},level:{type:Number,default:0},ariaLabelledby:{type:String,default:null},ariaLabel:{type:String,default:null}},style:rt,provide:function(){return{$parentInstance:this}}};function ge(t){"@babel/helpers - typeof";return ge=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(n){return typeof n}:function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},ge(t)}function Ie(t,n){var e=typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(!e){if(Array.isArray(t)||(e=De(t))||n&&t&&typeof t.length=="number"){e&&(t=e);var l=0,a=function(){};return{s:a,n:function(){return l>=t.length?{done:!0}:{done:!1,value:t[l++]}},e:function(r){throw r},f:a}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var o=!0,d=!1,h;return{s:function(){e=e.call(t)},n:function(){var r=e.next();return o=r.done,r},e:function(r){d=!0,h=r},f:function(){try{!o&&e.return!=null&&e.return()}finally{if(d)throw h}}}}function Se(t,n){var e=Object.keys(t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(t);n&&(l=l.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),e.push.apply(e,l)}return e}function Me(t){for(var n=1;n<arguments.length;n++){var e=arguments[n]!=null?arguments[n]:{};n%2?Se(Object(e),!0).forEach(function(l){wt(t,l,e[l])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(e)):Se(Object(e)).forEach(function(l){Object.defineProperty(t,l,Object.getOwnPropertyDescriptor(e,l))})}return t}function wt(t,n,e){return n=xt(n),n in t?Object.defineProperty(t,n,{value:e,enumerable:!0,configurable:!0,writable:!0}):t[n]=e,t}function xt(t){var n=_t(t,"string");return ge(n)=="symbol"?n:String(n)}function _t(t,n){if(ge(t)!="object"||!t)return t;var e=t[Symbol.toPrimitive];if(e!==void 0){var l=e.call(t,n||"default");if(ge(l)!="object")return l;throw new TypeError("@@toPrimitive must return a primitive value.")}return(n==="string"?String:Number)(t)}function fe(t){return Mt(t)||St(t)||De(t)||It()}function It(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function De(t,n){if(t){if(typeof t=="string")return we(t,n);var e=Object.prototype.toString.call(t).slice(8,-1);if(e==="Object"&&t.constructor&&(e=t.constructor.name),e==="Map"||e==="Set")return Array.from(t);if(e==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e))return we(t,n)}}function St(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Mt(t){if(Array.isArray(t))return we(t)}function we(t,n){(n==null||n>t.length)&&(n=t.length);for(var e=0,l=new Array(n);e<n;e++)l[e]=t[e];return l}var He={name:"TreeNode",hostName:"Tree",extends:_e,emits:["node-toggle","node-click","checkbox-change"],props:{node:{type:null,default:null},expandedKeys:{type:null,default:null},loadingMode:{type:String,default:"mask"},selectionKeys:{type:null,default:null},selectionMode:{type:String,default:null},templates:{type:null,default:null},level:{type:Number,default:null},index:null},nodeTouched:!1,toggleClicked:!1,mounted:function(){this.setAllNodesTabIndexes()},methods:{toggle:function(){this.$emit("node-toggle",this.node),this.toggleClicked=!0},label:function(n){return typeof n.label=="function"?n.label():n.label},onChildNodeToggle:function(n){this.$emit("node-toggle",n)},getPTOptions:function(n){return this.ptm(n,{context:{index:this.index,expanded:this.expanded,selected:this.selected,checked:this.checked,leaf:this.leaf}})},onClick:function(n){if(this.toggleClicked||re.getAttribute(n.target,'[data-pc-section="toggler"]')||re.getAttribute(n.target.parentElement,'[data-pc-section="toggler"]')){this.toggleClicked=!1;return}this.isCheckboxSelectionMode()?this.toggleCheckbox():this.$emit("node-click",{originalEvent:n,nodeTouched:this.nodeTouched,node:this.node}),this.nodeTouched=!1},onChildNodeClick:function(n){this.$emit("node-click",n)},onTouchEnd:function(){this.nodeTouched=!0},onKeyDown:function(n){if(this.isSameNode(n))switch(n.code){case"Tab":this.onTabKey(n);break;case"ArrowDown":this.onArrowDown(n);break;case"ArrowUp":this.onArrowUp(n);break;case"ArrowRight":this.onArrowRight(n);break;case"ArrowLeft":this.onArrowLeft(n);break;case"Enter":case"NumpadEnter":case"Space":this.onEnterKey(n);break}},onArrowDown:function(n){var e=n.target.getAttribute("data-pc-section")==="toggler"?n.target.closest('[role="treeitem"]'):n.target,l=e.children[1];if(l)this.focusRowChange(e,l.children[0]);else if(e.nextElementSibling)this.focusRowChange(e,e.nextElementSibling);else{var a=this.findNextSiblingOfAncestor(e);a&&this.focusRowChange(e,a)}n.preventDefault()},onArrowUp:function(n){var e=n.target;if(e.previousElementSibling)this.focusRowChange(e,e.previousElementSibling,this.findLastVisibleDescendant(e.previousElementSibling));else{var l=this.getParentNodeElement(e);l&&this.focusRowChange(e,l)}n.preventDefault()},onArrowRight:function(n){var e=this;this.leaf||this.expanded||(n.currentTarget.tabIndex=-1,this.$emit("node-toggle",this.node),this.$nextTick(function(){e.onArrowDown(n)}))},onArrowLeft:function(n){var e=re.findSingle(n.currentTarget,'[data-pc-section="toggler"]');if(this.level===0&&!this.expanded)return!1;if(this.expanded&&!this.leaf)return e.click(),!1;var l=this.findBeforeClickableNode(n.currentTarget);l&&this.focusRowChange(n.currentTarget,l)},onEnterKey:function(n){this.setTabIndexForSelectionMode(n,this.nodeTouched),this.onClick(n),n.preventDefault()},onTabKey:function(){this.setAllNodesTabIndexes()},setAllNodesTabIndexes:function(){var n=re.find(this.$refs.currentNode.closest('[data-pc-section="container"]'),'[role="treeitem"]'),e=fe(n).some(function(a){return a.getAttribute("aria-selected")==="true"||a.getAttribute("aria-checked")==="true"});if(fe(n).forEach(function(a){a.tabIndex=-1}),e){var l=fe(n).filter(function(a){return a.getAttribute("aria-selected")==="true"||a.getAttribute("aria-checked")==="true"});l[0].tabIndex=0;return}fe(n)[0].tabIndex=0},setTabIndexForSelectionMode:function(n,e){if(this.selectionMode!==null){var l=fe(re.find(this.$refs.currentNode.parentElement,'[role="treeitem"]'));n.currentTarget.tabIndex=e===!1?-1:0,l.every(function(a){return a.tabIndex===-1})&&(l[0].tabIndex=0)}},focusRowChange:function(n,e,l){n.tabIndex="-1",e.tabIndex="0",this.focusNode(l||e)},findBeforeClickableNode:function(n){var e=n.closest("ul").closest("li");if(e){var l=re.findSingle(e,"button");return l&&l.style.visibility!=="hidden"?e:this.findBeforeClickableNode(n.previousElementSibling)}return null},toggleCheckbox:function(){var n=this.selectionKeys?Me({},this.selectionKeys):{},e=!this.checked;this.propagateDown(this.node,e,n),this.$emit("checkbox-change",{node:this.node,check:e,selectionKeys:n})},propagateDown:function(n,e,l){if(e?l[n.key]={checked:!0,partialChecked:!1}:delete l[n.key],n.children&&n.children.length){var a=Ie(n.children),o;try{for(a.s();!(o=a.n()).done;){var d=o.value;this.propagateDown(d,e,l)}}catch(h){a.e(h)}finally{a.f()}}},propagateUp:function(n){var e=n.check,l=Me({},n.selectionKeys),a=0,o=!1,d=Ie(this.node.children),h;try{for(d.s();!(h=d.n()).done;){var f=h.value;l[f.key]&&l[f.key].checked?a++:l[f.key]&&l[f.key].partialChecked&&(o=!0)}}catch(r){d.e(r)}finally{d.f()}e&&a===this.node.children.length?l[this.node.key]={checked:!0,partialChecked:!1}:(e||delete l[this.node.key],o||a>0&&a!==this.node.children.length?l[this.node.key]={checked:!1,partialChecked:!0}:delete l[this.node.key]),this.$emit("checkbox-change",{node:n.node,check:n.check,selectionKeys:l})},onChildCheckboxChange:function(n){this.$emit("checkbox-change",n)},findNextSiblingOfAncestor:function(n){var e=this.getParentNodeElement(n);return e?e.nextElementSibling?e.nextElementSibling:this.findNextSiblingOfAncestor(e):null},findLastVisibleDescendant:function(n){var e=n.children[1];if(e){var l=e.children[e.children.length-1];return this.findLastVisibleDescendant(l)}else return n},getParentNodeElement:function(n){var e=n.parentElement.parentElement;return re.getAttribute(e,"role")==="treeitem"?e:null},focusNode:function(n){n.focus()},isCheckboxSelectionMode:function(){return this.selectionMode==="checkbox"},isSameNode:function(n){return n.currentTarget&&(n.currentTarget.isSameNode(n.target)||n.currentTarget.isSameNode(n.target.closest('[role="treeitem"]')))}},computed:{hasChildren:function(){return this.node.children&&this.node.children.length>0},expanded:function(){return this.expandedKeys&&this.expandedKeys[this.node.key]===!0},leaf:function(){return this.node.leaf===!1?!1:!(this.node.children&&this.node.children.length)},selectable:function(){return this.node.selectable===!1?!1:this.selectionMode!=null},selected:function(){return this.selectionMode&&this.selectionKeys?this.selectionKeys[this.node.key]===!0:!1},checkboxMode:function(){return this.selectionMode==="checkbox"&&this.node.selectable!==!1},checked:function(){return this.selectionKeys?this.selectionKeys[this.node.key]&&this.selectionKeys[this.node.key].checked:!1},partialChecked:function(){return this.selectionKeys?this.selectionKeys[this.node.key]&&this.selectionKeys[this.node.key].partialChecked:!1},ariaChecked:function(){return this.selectionMode==="single"||this.selectionMode==="multiple"?this.selected:void 0},ariaSelected:function(){return this.checkboxMode?this.checked:void 0}},components:{Checkbox:Ee,ChevronDownIcon:Ve,ChevronRightIcon:Fe,CheckIcon:$e,MinusIcon:Pe,SpinnerIcon:Oe},directives:{ripple:ze}},Tt=["aria-label","aria-selected","aria-expanded","aria-setsize","aria-posinset","aria-level","aria-checked","tabindex"],At=["data-p-highlight","data-p-selectable"];function Ot(t,n,e,l,a,o){var d=J("SpinnerIcon"),h=J("Checkbox"),f=J("TreeNode",!0),r=Ze("ripple");return c(),u("li",E({ref:"currentNode",class:t.cx("node"),role:"treeitem","aria-label":o.label(e.node),"aria-selected":o.ariaSelected,"aria-expanded":o.expanded,"aria-setsize":e.node.children?e.node.children.length:0,"aria-posinset":e.index+1,"aria-level":e.level,"aria-checked":o.ariaChecked,tabindex:e.index===0?0:-1,onKeydown:n[4]||(n[4]=function(){return o.onKeyDown&&o.onKeyDown.apply(o,arguments)})},e.level===1?o.getPTOptions("node"):t.ptm("subgroup")),[s("div",E({class:t.cx("content"),onClick:n[2]||(n[2]=function(){return o.onClick&&o.onClick.apply(o,arguments)}),onTouchend:n[3]||(n[3]=function(){return o.onTouchEnd&&o.onTouchEnd.apply(o,arguments)}),style:e.node.style},o.getPTOptions("content"),{"data-p-highlight":o.checkboxMode?o.checked:o.selected,"data-p-selectable":o.selectable}),[Le((c(),u("button",E({type:"button",class:t.cx("toggler"),onClick:n[0]||(n[0]=function(){return o.toggle&&o.toggle.apply(o,arguments)}),tabindex:"-1","aria-hidden":"true"},o.getPTOptions("toggler")),[e.node.loading&&e.loadingMode==="icon"?(c(),u(V,{key:0},[e.templates.nodetogglericon?(c(),W(ne(e.templates.nodetogglericon),{key:0,class:K(t.cx("nodetogglericon"))},null,8,["class"])):(c(),W(d,E({key:1,spin:"",class:t.cx("nodetogglericon")},t.ptm("nodetogglericon")),null,16,["class"]))],64)):(c(),u(V,{key:1},[e.templates.togglericon?(c(),W(ne(e.templates.togglericon),{key:0,node:e.node,expanded:o.expanded,class:K(t.cx("togglerIcon"))},null,8,["node","expanded","class"])):o.expanded?(c(),W(ne(e.node.expandedIcon?"span":"ChevronDownIcon"),E({key:1,class:t.cx("togglerIcon")},o.getPTOptions("togglerIcon")),null,16,["class"])):(c(),W(ne(e.node.collapsedIcon?"span":"ChevronRightIcon"),E({key:2,class:t.cx("togglerIcon")},o.getPTOptions("togglerIcon")),null,16,["class"]))],64))],16)),[[r]]),o.checkboxMode?(c(),W(h,{key:0,modelValue:o.checked,binary:!0,class:K(t.cx("nodeCheckbox")),tabindex:-1,unstyled:t.unstyled,pt:o.getPTOptions("nodeCheckbox"),"data-p-checked":o.checked,"data-p-partialchecked":o.partialChecked},{icon:le(function(p){return[e.templates.checkboxicon?(c(),W(ne(e.templates.checkboxicon),{key:0,checked:p.checked,partialChecked:o.partialChecked,class:K(p.class)},null,8,["checked","partialChecked","class"])):(c(),W(ne(o.checked?"CheckIcon":o.partialChecked?"MinusIcon":null),E({key:1,class:p.class},o.getPTOptions("nodeCheckbox.icon")),null,16,["class"]))]}),_:1},8,["modelValue","class","unstyled","pt","data-p-checked","data-p-partialchecked"])):D("",!0),s("span",E({class:[t.cx("nodeIcon"),e.node.icon]},o.getPTOptions("nodeIcon")),null,16),s("span",E({class:t.cx("label")},o.getPTOptions("label"),{onKeydown:n[1]||(n[1]=Qe(function(){},["stop"]))}),[e.templates[e.node.type]||e.templates.default?(c(),W(ne(e.templates[e.node.type]||e.templates.default),{key:0,node:e.node},null,8,["node"])):(c(),u(V,{key:1},[Y(y(o.label(e.node)),1)],64))],16)],16,At),o.hasChildren&&o.expanded?(c(),u("ul",E({key:0,class:t.cx("subgroup"),role:"group"},t.ptm("subgroup")),[(c(!0),u(V,null,U(e.node.children,function(p){return c(),W(f,{key:p.key,node:p,templates:e.templates,level:e.level+1,expandedKeys:e.expandedKeys,onNodeToggle:o.onChildNodeToggle,onNodeClick:o.onChildNodeClick,selectionMode:e.selectionMode,selectionKeys:e.selectionKeys,onCheckboxChange:o.propagateUp,unstyled:t.unstyled,pt:t.pt},null,8,["node","templates","level","expandedKeys","onNodeToggle","onNodeClick","selectionMode","selectionKeys","onCheckboxChange","unstyled","pt"])}),128))],16)):D("",!0)],16,Tt)}He.render=Ot;function me(t){"@babel/helpers - typeof";return me=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(n){return typeof n}:function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},me(t)}function ye(t,n){var e=typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(!e){if(Array.isArray(t)||(e=je(t))||n&&t&&typeof t.length=="number"){e&&(t=e);var l=0,a=function(){};return{s:a,n:function(){return l>=t.length?{done:!0}:{done:!1,value:t[l++]}},e:function(r){throw r},f:a}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var o=!0,d=!1,h;return{s:function(){e=e.call(t)},n:function(){var r=e.next();return o=r.done,r},e:function(r){d=!0,h=r},f:function(){try{!o&&e.return!=null&&e.return()}finally{if(d)throw h}}}}function Lt(t){return $t(t)||Nt(t)||je(t)||Kt()}function Kt(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function je(t,n){if(t){if(typeof t=="string")return xe(t,n);var e=Object.prototype.toString.call(t).slice(8,-1);if(e==="Object"&&t.constructor&&(e=t.constructor.name),e==="Map"||e==="Set")return Array.from(t);if(e==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e))return xe(t,n)}}function Nt(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function $t(t){if(Array.isArray(t))return xe(t)}function xe(t,n){(n==null||n>t.length)&&(n=t.length);for(var e=0,l=new Array(n);e<n;e++)l[e]=t[e];return l}function Te(t,n){var e=Object.keys(t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(t);n&&(l=l.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),e.push.apply(e,l)}return e}function ie(t){for(var n=1;n<arguments.length;n++){var e=arguments[n]!=null?arguments[n]:{};n%2?Te(Object(e),!0).forEach(function(l){Et(t,l,e[l])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(e)):Te(Object(e)).forEach(function(l){Object.defineProperty(t,l,Object.getOwnPropertyDescriptor(e,l))})}return t}function Et(t,n,e){return n=Pt(n),n in t?Object.defineProperty(t,n,{value:e,enumerable:!0,configurable:!0,writable:!0}):t[n]=e,t}function Pt(t){var n=Dt(t,"string");return me(n)=="symbol"?n:String(n)}function Dt(t,n){if(me(t)!="object"||!t)return t;var e=t[Symbol.toPrimitive];if(e!==void 0){var l=e.call(t,n||"default");if(me(l)!="object")return l;throw new TypeError("@@toPrimitive must return a primitive value.")}return(n==="string"?String:Number)(t)}var Re={name:"Tree",extends:kt,inheritAttrs:!1,emits:["node-expand","node-collapse","update:expandedKeys","update:selectionKeys","node-select","node-unselect","filter"],data:function(){return{d_expandedKeys:this.expandedKeys||{},filterValue:null}},watch:{expandedKeys:function(n){this.d_expandedKeys=n}},methods:{onNodeToggle:function(n){var e=n.key;this.d_expandedKeys[e]?(delete this.d_expandedKeys[e],this.$emit("node-collapse",n)):(this.d_expandedKeys[e]=!0,this.$emit("node-expand",n)),this.d_expandedKeys=ie({},this.d_expandedKeys),this.$emit("update:expandedKeys",this.d_expandedKeys)},onNodeClick:function(n){if(this.selectionMode!=null&&n.node.selectable!==!1){var e=n.nodeTouched?!1:this.metaKeySelection,l=e?this.handleSelectionWithMetaKey(n):this.handleSelectionWithoutMetaKey(n);this.$emit("update:selectionKeys",l)}},onCheckboxChange:function(n){this.$emit("update:selectionKeys",n.selectionKeys),n.check?this.$emit("node-select",n.node):this.$emit("node-unselect",n.node)},handleSelectionWithMetaKey:function(n){var e=n.originalEvent,l=n.node,a=e.metaKey||e.ctrlKey,o=this.isNodeSelected(l),d;return o&&a?(this.isSingleSelectionMode()?d={}:(d=ie({},this.selectionKeys),delete d[l.key]),this.$emit("node-unselect",l)):(this.isSingleSelectionMode()?d={}:this.isMultipleSelectionMode()&&(d=a?this.selectionKeys?ie({},this.selectionKeys):{}:{}),d[l.key]=!0,this.$emit("node-select",l)),d},handleSelectionWithoutMetaKey:function(n){var e=n.node,l=this.isNodeSelected(e),a;return this.isSingleSelectionMode()?l?(a={},this.$emit("node-unselect",e)):(a={},a[e.key]=!0,this.$emit("node-select",e)):l?(a=ie({},this.selectionKeys),delete a[e.key],this.$emit("node-unselect",e)):(a=this.selectionKeys?ie({},this.selectionKeys):{},a[e.key]=!0,this.$emit("node-select",e)),a},isSingleSelectionMode:function(){return this.selectionMode==="single"},isMultipleSelectionMode:function(){return this.selectionMode==="multiple"},isNodeSelected:function(n){return this.selectionMode&&this.selectionKeys?this.selectionKeys[n.key]===!0:!1},isChecked:function(n){return this.selectionKeys?this.selectionKeys[n.key]&&this.selectionKeys[n.key].checked:!1},isNodeLeaf:function(n){return n.leaf===!1?!1:!(n.children&&n.children.length)},onFilterKeydown:function(n){(n.code==="Enter"||n.code==="NumpadEnter")&&n.preventDefault(),this.$emit("filter",{originalEvent:n,value:n.target.value})},findFilteredNodes:function(n,e){if(n){var l=!1;if(n.children){var a=Lt(n.children);n.children=[];var o=ye(a),d;try{for(o.s();!(d=o.n()).done;){var h=d.value,f=ie({},h);this.isFilterMatched(f,e)&&(l=!0,n.children.push(f))}}catch(r){o.e(r)}finally{o.f()}}if(l)return!0}},isFilterMatched:function(n,e){var l=e.searchFields,a=e.filterText,o=e.strict,d=!1,h=ye(l),f;try{for(h.s();!(f=h.n()).done;){var r=f.value,p=String(be.resolveFieldData(n,r)).toLocaleLowerCase(this.filterLocale);p.indexOf(a)>-1&&(d=!0)}}catch(v){h.e(v)}finally{h.f()}return(!d||o&&!this.isNodeLeaf(n))&&(d=this.findFilteredNodes(n,{searchFields:l,filterText:a,strict:o})||d),d}},computed:{filteredValue:function(){var n=[],e=this.filterBy.split(","),l=this.filterValue.trim().toLocaleLowerCase(this.filterLocale),a=this.filterMode==="strict",o=ye(this.value),d;try{for(o.s();!(d=o.n()).done;){var h=d.value,f=ie({},h),r={searchFields:e,filterText:l,strict:a};(a&&(this.findFilteredNodes(f,r)||this.isFilterMatched(f,r))||!a&&(this.isFilterMatched(f,r)||this.findFilteredNodes(f,r)))&&n.push(f)}}catch(p){o.e(p)}finally{o.f()}return n},valueToRender:function(){return this.filterValue&&this.filterValue.trim().length>0?this.filteredValue:this.value}},components:{TreeNode:He,SearchIcon:nt,SpinnerIcon:Oe}},Ht=["placeholder"],jt=["aria-labelledby","aria-label"];function Rt(t,n,e,l,a,o){var d=J("SpinnerIcon"),h=J("SearchIcon"),f=J("TreeNode");return c(),u("div",E({class:t.cx("root")},t.ptmi("root")),[t.loading&&t.loadingMode==="mask"?(c(),u("div",E({key:0,class:t.cx("loadingOverlay")},t.ptm("loadingOverlay")),[Ce(t.$slots,"loadingicon",{class:K(t.cx("loadingIcon"))},function(){return[t.loadingIcon?(c(),u("i",E({key:0,class:[t.cx("loadingIcon"),"pi-spin",t.loadingIcon]},t.ptm("loadingIcon")),null,16)):(c(),W(d,E({key:1,spin:"",class:t.cx("loadingIcon")},t.ptm("loadingIcon")),null,16,["class"]))]})],16)):D("",!0),t.filter?(c(),u("div",E({key:1,class:t.cx("filterContainer")},t.ptm("filterContainer")),[Le(s("input",E({"onUpdate:modelValue":n[0]||(n[0]=function(r){return a.filterValue=r}),type:"text",autocomplete:"off",class:t.cx("input"),placeholder:t.filterPlaceholder,onKeydown:n[1]||(n[1]=function(){return o.onFilterKeydown&&o.onFilterKeydown.apply(o,arguments)})},t.ptm("input")),null,16,Ht),[[We,a.filterValue]]),Ce(t.$slots,"searchicon",{class:K(t.cx("searchIcon"))},function(){return[N(h,E({class:t.cx("searchIcon")},t.ptm("searchIcon")),null,16,["class"])]})],16)):D("",!0),s("div",E({class:t.cx("wrapper"),style:{maxHeight:t.scrollHeight}},t.ptm("wrapper")),[s("ul",E({class:t.cx("container"),role:"tree","aria-labelledby":t.ariaLabelledby,"aria-label":t.ariaLabel},t.ptm("container")),[(c(!0),u(V,null,U(o.valueToRender,function(r,p){return c(),W(f,{key:r.key,node:r,templates:t.$slots,level:t.level+1,index:p,expandedKeys:a.d_expandedKeys,onNodeToggle:o.onNodeToggle,onNodeClick:o.onNodeClick,selectionMode:t.selectionMode,selectionKeys:t.selectionKeys,onCheckboxChange:o.onCheckboxChange,loadingMode:t.loadingMode,unstyled:t.unstyled,pt:t.pt},null,8,["node","templates","level","index","expandedKeys","onNodeToggle","onNodeClick","selectionMode","selectionKeys","onCheckboxChange","loadingMode","unstyled","pt"])}),128))],16,jt)],16)],16)}Re.render=Rt;const qt={id:"wrapper"},Bt=["onClick"],Vt=["onClick"],Ft=["onClick"],zt=["onClick"],Zt=["onClick"],Qt=oe({__name:"SideBar",props:["chapters","courseTitle"],setup(t){const n=t,e=Ke(),l=de(),a=T(!0),o=T(),d=ce(()=>{var f;let h=n.chapters;for(let r=0;r<(h==null?void 0:h.length);r++){h[r].label=b(h[r].title),h[r].children=h[r].materials,h[r].key="k"+r.toString();for(let p=0;p<((f=h[r].children)==null?void 0:f.length);p++)h[r].children[p].label=b(h[r].children[p].title),h[r].children[p].key="k"+r.toString()+"_"+p.toString(),h[r].children[p].Id==l.params.materialId&&(o.value=Object.fromEntries(new Map([[h[r].children[p].key,!0]])))}return h});return(h,f)=>(c(),u("div",qt,[s("span",{onClick:f[0]||(f[0]=r=>a.value=!a.value),class:"circle"},[s("span",{class:K(["upper-arrow",{upperArrowShrink:a.value}])},null,2),s("span",{class:K(["down-arrow",{downArrowShrink:a.value}])},null,2)]),s("div",{class:K(["container",{shrink:a.value}])},[s("h3",null,y(i(b)(t.courseTitle)),1),N(i(Re),{value:d.value,class:"tree"},{default:le(r=>[s("p",{class:K(["default",{head:r.node.status=="head"}])},y(r.node.label),3)]),Quiz:le(r=>[s("p",{class:K(["unselected",{done:r.node.status=="Done",selected:r.node.Id==i(l).params.materialId}]),onClick:()=>{i(e).push(`/viewCoursePage/${i(l).params.courseId}/${i(l).params.enrollmentId}/${r.node.Id}`)}},[s("i",{class:K(r.node.matIcon)},null,2),Y(" "+y(r.node.label),1)],10,Bt)]),Lesson:le(r=>[s("p",{class:K(["unselected",{selected:r.node.Id==i(l).params.materialId,done:r.node.status=="Done"}]),onClick:()=>{i(e).push(`/viewCoursePage/${i(l).params.courseId}/${i(l).params.enrollmentId}/${r.node.Id}`)}},[s("i",{class:K(r.node.matIcon)},null,2),Y(" "+y(r.node.label),1)],10,Vt)]),Simulation:le(r=>[s("p",{class:K(["unselected",{selected:r.node.Id==i(l).params.materialId,done:r.node.status=="Done"}]),onClick:()=>{i(e).push(`/viewCoursePage/${i(l).params.courseId}/${i(l).params.enrollmentId}/${r.node.Id}`)}},[s("i",{class:K(r.node.matIcon)},null,2),Y(" "+y(r.node.label),1)],10,Ft)]),Activity:le(r=>[s("p",{class:K(["unselected",{selected:r.node.Id==i(l).params.materialId,done:r.node.status=="Done"}]),onClick:()=>{i(e).push(`/viewCoursePage/${i(l).params.courseId}/${i(l).params.enrollmentId}/${r.node.Id}`)}},[s("i",{class:K(r.node.matIcon)},null,2),Y(" "+y(r.node.label),1)],10,zt)]),Project:le(r=>[s("p",{class:K(["unselected",{selected:r.node.Id==i(l).params.materialId,done:r.node.status=="Done"}]),onClick:()=>{i(e).push(`/viewCoursePage/${i(l).params.courseId}/${i(l).params.enrollmentId}/${r.node.Id}`)}},[s("i",{class:K(r.node.matIcon)},null,2),Y(" "+y(r.node.label),1)],10,Zt)]),_:1},8,["value"])],2)]))}}),Wt=ae(Qt,[["__scopeId","data-v-318b6002"]]),Ut={class:"container"},Yt={class:"wrapper"},Gt=["src"],Xt=oe({__name:"Lesson",props:["completed"],emits:["next"],setup(t,{emit:n}){const e=n,l=de(),a=T(),o=ce(()=>l.params.materialId);se(o,()=>{d()});const d=()=>{new G("get_lesson").callApi({lesson_id:l.params.materialId}).then(r=>{var p;r!=null&&r.success&&(a.value=(p=r==null?void 0:r.data)==null?void 0:p.lesson)})};d();function h(){const f=new G("add_progress");let r={lesson_progress:{lesson_id:l.params.materialId,completed_at:new Date().toISOString()},material_type:"Lesson"};f.callApi({progres:r,enrolment_id:l.params.enrollmentId}).then(p=>{e("next",!0)})}return(f,r)=>{var p,v,w,m,k;return c(),u("main",null,[s("div",Ut,[s("h2",null,y(i(b)((p=a.value)==null?void 0:p.title)),1),s("p",null,y(i(b)((v=a.value)==null?void 0:v.description)),1),s("div",Yt,[s("iframe",{src:(k=(m=(w=a.value)==null?void 0:w.source)==null?void 0:m.replace("view?usp=sharing","preview"))==null?void 0:k.replace("view?usp=drive_link","preview"),frameborder:"0",sandbox:"allow-scripts allow-same-origin",allowfullscreen:""},null,8,Gt)]),N(i(X),{disabled:t.completed,icon:"pi pi-check-circle",label:i(b)(i(P).markCompleted),"icon-pos":"right",onClick:h},null,8,["disabled","label"])])])}}}),Jt=ae(Xt,[["__scopeId","data-v-f42c771e"]]),en={class:"container"},tn={style:{color:"var(--accent2)"}},nn=["src"],ln=oe({__name:"Simulation",props:["completed"],emits:["next"],setup(t,{emit:n}){const e=n,l=de(),a=T(),o=ce(()=>l.params.materialId);se(o,()=>{d()});const d=()=>{new G("get_simulation").callApi({simulation_id:l.params.materialId}).then(p=>{var v;p!=null&&p.success&&(a.value=(v=p==null?void 0:p.data)==null?void 0:v.simulation)})};d();function h(){const r=new G("add_progress");let p={simulation_progress:{simulation_id:l.params.materialId,completed_at:new Date().toISOString()},material_type:"Simulation"};r.callApi({progres:p,enrolment_id:l.params.enrollmentId}).then(v=>{e("next",!0)})}function f(r){window.open(r)}return(r,p)=>{var v,w,m;return c(),u("main",null,[s("div",en,[s("h2",null,y(i(b)((v=a.value)==null?void 0:v.title)),1),s("p",null,y(i(b)((w=a.value)==null?void 0:w.description)),1),s("div",{class:"wrapper",style:{cursor:"pointer"},onClick:p[0]||(p[0]=()=>{var k;f((k=a.value)==null?void 0:k.source)})},[s("h4",tn,y(i(b)(i(P).clickToView)),1),s("img",{src:(m=a.value)==null?void 0:m.image},null,8,nn)]),N(i(X),{disabled:t.completed,icon:"pi pi-check-circle",label:i(b)(i(P).markCompleted),"icon-pos":"right",onClick:h},null,8,["disabled","label"])])])}}}),on=ae(ln,[["__scopeId","data-v-9dfc33b3"]]),an={class:"container"},rn={class:"wrapper"},sn=["src"],cn=oe({__name:"Project",props:["completed"],emits:["next"],setup(t,{emit:n}){const e=n,l=de(),a=T(),o=ce(()=>l.params.materialId);se(o,()=>{d()});const d=()=>{new G("get_project").callApi({project_id:l.params.materialId}).then(v=>{var w,m,k,M,q,j,x;if(v!=null&&v.success){a.value=(w=v==null?void 0:v.data)==null?void 0:w.project;const O=f.getLang;O=="en"&&(r.value=(M=(k=(m=a.value)==null?void 0:m.source)==null?void 0:k.replace("view?usp=sharing","preview"))==null?void 0:M.replace("view?usp=drive_link","preview")),O=="ar"&&(r.value=(x=(j=(q=a.value)==null?void 0:q.source2)==null?void 0:j.replace("view?usp=sharing","preview"))==null?void 0:x.replace("view?usp=drive_link","preview"))}})};d();function h(){const p=new G("add_progress");let v={project_progress:{project_id:l.params.materialId,completed_at:new Date().toISOString()},material_type:"Project"};p.callApi({progres:v,enrolment_id:l.params.enrollmentId}).then(w=>{e("next",!0)})}const f=Ne(),r=T("");return se(f,()=>{var v,w,m,k,M,q;const p=f.getLang;p=="en"&&(r.value=(m=(w=(v=a.value)==null?void 0:v.source)==null?void 0:w.replace("view?usp=sharing","preview"))==null?void 0:m.replace("view?usp=drive_link","preview")),p=="ar"&&(r.value=(q=(M=(k=a.value)==null?void 0:k.source2)==null?void 0:M.replace("view?usp=sharing","preview"))==null?void 0:q.replace("view?usp=drive_link","preview"))}),(p,v)=>{var w,m;return c(),u("main",null,[s("div",an,[s("h2",null,y(i(b)((w=a.value)==null?void 0:w.title)),1),s("p",null,y(i(b)((m=a.value)==null?void 0:m.description)),1),s("div",rn,[s("iframe",{src:r.value,frameborder:"0",sandbox:"allow-scripts allow-same-origin",allowfullscreen:""},null,8,sn)]),N(i(X),{disabled:t.completed,icon:"pi pi-check-circle",label:i(b)(i(P).markCompleted),"icon-pos":"right",onClick:h},null,8,["disabled","label"])])])}}}),dn=ae(cn,[["__scopeId","data-v-88c7b7d7"]]),un={class:"container"},hn={key:0},pn={class:"wrapper"},fn={key:0,class:"images"},gn=["src"],mn={key:1,class:"items"},vn={class:"item"},yn=["onClick"],bn={class:"allitems"},Cn={key:0,class:"items"},kn={key:0,class:"images"},wn=["src"],xn={class:"item"},_n={key:0},In=["src"],Sn={key:1,class:"images"},Mn=["src"],Tn={key:2,class:"images"},An=["src"],On=oe({__name:"Activity",props:["completed"],emits:["next"],setup(t,{emit:n}){const e=n,l=de(),a=T(),o=T(P),d=ce(()=>l.params.materialId);se(d,()=>{h()});const h=()=>{new G("get_activity").callApi({activity_id:l.params.materialId}).then(w=>{var m;w!=null&&w.success&&(a.value=(m=w==null?void 0:w.data)==null?void 0:m.activity)})};h();function f(){const v=new G("add_progress");let w={activity_progress:{activity_id:l.params.materialId,completed_at:new Date().toISOString()},material_type:"Activity"};v.callApi({progres:w,enrolment_id:l.params.enrollmentId}).then(m=>{e("next",!0)})}const r=["objectives","terms_concepts","materials","instructions","results","conclusions"];function p(v){window.open(v)}return(v,w)=>{var m,k,M,q,j,x,O,L,_;return c(),u("main",null,[s("div",un,[s("h2",null,y(i(b)((m=a.value)==null?void 0:m.title)),1),(k=a.value)!=null&&k.description?(c(),u("p",hn,y(i(b)((M=a.value)==null?void 0:M.description)),1)):D("",!0),s("div",pn,[(q=a.value)!=null&&q.start_images?(c(),u("div",fn,[(c(!0),u(V,null,U((j=a.value)==null?void 0:j.start_images,g=>(c(),u("img",{src:g,alt:""},null,8,gn))),256))])):D("",!0),(x=a.value)!=null&&x.sources?(c(),u("div",mn,[s("h3",null,y(i(b)(i(P).sources)),1),(c(!0),u(V,null,U((O=a.value)==null?void 0:O.sources,(g,S)=>(c(),u("div",vn,[s("p",{style:{color:"var(--secondary)",cursor:"pointer"},onClick:()=>{p(g)}},y(i(b)(i(P).source))+" "+y(S+1),9,yn)]))),256))])):D("",!0),(c(),u(V,null,U(r,g=>{var S,I,R,C,F,B,Z,Q,ee,A,$,he;return s("div",bn,[(S=a.value)!=null&&S[g]?(c(),u("div",Cn,[(R=(I=a.value)==null?void 0:I[g])!=null&&R.start_images?(c(),u("div",kn,[(c(!0),u(V,null,U((F=(C=a.value)==null?void 0:C[g])==null?void 0:F.start_images,z=>(c(),u("img",{src:z,alt:""},null,8,wn))),256))])):D("",!0),s("h3",null,y(i(b)((B=o.value)==null?void 0:B[g])),1),(c(!0),u(V,null,U((Q=(Z=a.value)==null?void 0:Z[g])==null?void 0:Q.items,z=>(c(),u("div",xn,[s("p",null,[s("span",{class:K({terms:g=="terms_concepts"})}," - "+y(i(b)(z.text)),3),z.description?(c(),u("span",_n,": "+y(i(b)(z.description)),1)):D("",!0)]),z!=null&&z.image?(c(),u("img",{key:0,src:z==null?void 0:z.image,alt:""},null,8,In)):D("",!0)]))),256)),(A=(ee=a.value)==null?void 0:ee[g])!=null&&A.end_images?(c(),u("div",Sn,[(c(!0),u(V,null,U((he=($=a.value)==null?void 0:$[g])==null?void 0:he.end_images,z=>(c(),u("img",{src:z,alt:""},null,8,Mn))),256))])):D("",!0)])):D("",!0)])}),64)),(L=a.value)!=null&&L.end_images?(c(),u("div",Tn,[(c(!0),u(V,null,U((_=a.value)==null?void 0:_.end_images,g=>(c(),u("img",{src:g,alt:""},null,8,An))),256))])):D("",!0)]),N(i(X),{disabled:t.completed,icon:"pi pi-check-circle",label:i(b)(i(P).markCompleted),"icon-pos":"right",onClick:f},null,8,["disabled","label"])])])}}}),Ln=ae(On,[["__scopeId","data-v-3747d963"]]),Kn={class:"container"},Nn={class:"wrapper"},$n={key:0},En={style:{"text-align":"center",color:"var(--accent1)"}},Pn={class:"count-down"},Dn={key:1,class:"question-wrapper"},Hn={class:"quiz-duration"},jn={style:{direction:"ltr"}},Rn={key:0},qn={key:0,class:"question"},Bn={class:"question-order"},Vn={class:"question-text"},Fn={class:"choices-wrapper"},zn=["onClick"],Zn={class:"controls"},Qn={class:"dialog-wrapper",style:{display:"flex","align-items":"center","flex-direction":"column"}},Wn={key:0,class:"score"},Un={key:0,class:"interaction",src:"https://i.pinimg.com/originals/56/da/ac/56daac56f90ba6cf039125586181f6ea.gif",alt:""},Yn={key:1,class:"interaction",src:"https://img.freepik.com/free-vector/hand-drawn-facepalm-illustration_23-2150212662.jpg?t=st=1720110311~exp=1720113911~hmac=f9f12f7c863341a0acb15d0ec44f785e42038ebf827f157f7863f0ea96805826&w=826",alt:""},Gn={key:1,class:"answers"},Xn={class:"question",style:{"min-height":"2rem"}},Jn={class:"choices-wrapper"},el={class:"quiz-duration"},tl={key:0},nl={class:"controls"},ll=oe({__name:"Quiz2",emits:["next"],setup(t){const n=Ne(),e=T("ltr");n.getLang=="en"&&(e.value="ltr"),n.getLang=="ar"&&(e.value="rtl"),se(n,()=>{n.getLang=="en"&&(e.value="ltr"),n.getLang=="ar"&&(e.value="rtl")});const l=de(),a=T(!0),o=T(0),d=T(0),h=T(0),f=T(0),r=T(!1),p=T(!0),v=T(0),w=ce(()=>l.params.materialId);se(w,()=>{k()});const m=T(),k=()=>{new G("get_quiz").callApi({quiz_id:l.params.materialId}).then(g=>{var S,I,R,C,F;if(g!=null&&g.success&&(m.value=(S=g==null?void 0:g.data)==null?void 0:S.quiz,(I=m.value)!=null&&I.questions))for(let B of(R=m.value)==null?void 0:R.questions){const Z=T(!1),Q=T(-1);B.showAnswer=Z,B.selected=Q}v.value=Math.floor(100/((F=(C=m.value)==null?void 0:C.questions)==null?void 0:F.length)),O()})};k(),setInterval(()=>{p.value||(d.value=d.value+1)},1e3);function M(){o.value=3;const _=setInterval(()=>{o.value==0&&(clearInterval(_),a.value=!1,q()),o.value=o.value-1},1e3)}function q(){d.value=0,p.value=!1}const j=T(!1);r.value=!1;function x(){var I,R;p.value=!0,j.value=!0;for(let C of(I=m.value)==null?void 0:I.questions)(C==null?void 0:C.correct_answer_id)==(C==null?void 0:C.selected)&&f.value++;const _=new G("add_progress");let g=[];for(let C of(R=m.value)==null?void 0:R.questions)(C==null?void 0:C.selected)!=-1&&g.push({question_id:C==null?void 0:C.id,choice_id:C==null?void 0:C.selected});let S={quiz_progress:{quiz_id:l.params.materialId,time_taken:d.value,created_at:new Date().toISOString(),answers:g},material_type:"Quiz"};_.callApi({progres:S,enrolment_id:l.params.enrollmentId})}function O(){var _,g,S,I;if(a.value=!0,o.value=3,h.value=0,f.value=0,r.value=!1,p.value=!0,j.value=!1,v.value=0,v.value=Math.floor(100/((g=(_=m.value)==null?void 0:_.questions)==null?void 0:g.length)),(S=m.value)!=null&&S.questions)for(let R of(I=m.value)==null?void 0:I.questions)R.selected=-1;M()}function L(){var R,C;let _=10,g=v.value,S=Math.floor((h.value+1)/((C=(R=m.value)==null?void 0:R.questions)==null?void 0:C.length)*100),I=10;for(let F=0;F<=I;F++)setTimeout(()=>{v.value=Math.floor(g+(S-g)/I*F)},_*F)}return(_,g)=>{var S,I,R,C,F;return c(),u("main",null,[s("div",Kn,[s("h2",null,y(i(b)((S=m.value)==null?void 0:S.title)),1),s("p",null,y(i(b)((I=m.value)==null?void 0:I.description)),1),s("div",Nn,[a.value?(c(),u("div",$n,[s("h1",En,y(i(b)(i(P).quizWillStart)),1),s("h1",Pn,y(o.value),1)])):(c(),u("div",Dn,[s("div",Hn,[s("span",{style:H([{direction:e.value},{width:"fit-content"}])},[Y(y(i(b)(i(P).yourTime))+" ",1),s("strong",jn,[Y(y(Math.floor(d.value/60))+": ",1),d.value%60<10?(c(),u("strong",Rn,"0")):D("",!0),Y(y(d.value%60),1)])],4)]),(c(!0),u(V,null,U((R=m.value)==null?void 0:R.questions,(B,Z)=>(c(),u("div",{key:B},[Z==h.value?(c(),u("div",qn,[N(i(lt),{style:{width:"75%","margin-bottom":"1rem"},value:v.value},null,8,["value"]),s("h3",Bn,y(i(b)(i(P).question))+" "+y(Z+1),1),s("h4",Vn,y(i(b)(B==null?void 0:B.question)),1),s("div",Fn,[(c(!0),u(V,null,U(B==null?void 0:B.choices,Q=>(c(),u("p",{class:K(["choice-text",{selectedChoice:m.value.questions[Z].selected==Q.id}]),key:Q,onClick:()=>{m.value.questions[Z].selected=Q.id}},y(i(b)(Q.choice)),11,zn))),128))])])):D("",!0)]))),128)),s("div",Zn,[N(i(X),{label:i(b)(i(P).prevQuestion),disabled:h.value==0,onClick:g[0]||(g[0]=()=>{h.value--,L()})},null,8,["label","disabled"]),N(i(X),{label:i(b)(i(P).finishQuiz),onClick:x},null,8,["label"]),N(i(X),{label:i(b)(i(P).nextQuestion),disabled:h.value+1==((F=(C=m.value)==null?void 0:C.questions)==null?void 0:F.length),onClick:g[1]||(g[1]=()=>{h.value++,L()})},null,8,["label","disabled"])])]))])]),N(i(Ue),{visible:j.value,"onUpdate:visible":g[4]||(g[4]=B=>j.value=B),modal:"",class:"dialog",style:{"max-width":"75%"},pt:{root:"border-none",mask:{style:"backdrop-filter: blur(2px)"}}},{container:le(({closeCallback:B})=>{var Z,Q,ee,A,$,he,z;return[s("div",Qn,[r.value?(c(),u("div",Gn,[(c(!0),u(V,null,U((z=m.value)==null?void 0:z.questions,(te,ue)=>(c(),u("div",{key:te},[s("div",Xn,[s("h4",{class:"question-order",style:H({direction:e.value})},y(i(b)(i(P).question))+" "+y(ue+1),5),s("div",{class:"question-text",style:H({direction:e.value})},y(i(b)(te==null?void 0:te.question)),5),s("div",Jn,[(c(!0),u(V,null,U(te==null?void 0:te.choices,pe=>(c(),u("div",{class:K(["choice-text",{correct:pe.id==m.value.questions[ue].correct_answer_id,selectedChoice:m.value.questions[ue].selected==pe.id,wrong:m.value.questions[ue].selected!=m.value.questions[ue].correct_answer_id&&m.value.questions[ue].selected==pe.id}]),key:pe,style:H([{cursor:"auto"},{direction:e.value}])},y(i(b)(pe.choice)),7))),128))])])]))),128))])):(c(),u("div",Wn,[s("p",null,y(i(b)(i(P).yourScore)),1),s("p",null,y(Math.floor(f.value/((Q=(Z=m.value)==null?void 0:Z.questions)==null?void 0:Q.length)*100))+"%",1),f.value/((A=(ee=m.value)==null?void 0:ee.questions)==null?void 0:A.length)>.9?(c(),u("img",Un)):D("",!0),f.value/((he=($=m.value)==null?void 0:$.questions)==null?void 0:he.length)<.5?(c(),u("img",Yn)):D("",!0)])),s("div",el,[s("span",{style:H({direction:e.value})},[Y(y(i(b)(i(P).yourTime))+" ",1),s("strong",null,[Y(y(Math.floor(d.value/60))+": ",1),d.value%60<10?(c(),u("strong",tl,"0")):D("",!0),Y(y(d.value%60),1)])],4)]),s("div",nl,[N(i(X),{label:i(b)(i(P).showAnswer),onClick:g[2]||(g[2]=te=>r.value=!0)},null,8,["label"]),N(i(X),{label:i(b)(i(P).tryAgain),onClick:O},null,8,["label"]),N(i(X),{label:i(b)(i(P).nextLesson),onClick:g[3]||(g[3]=te=>_.$emit("next",!0))},null,8,["label"])])])]}),_:1},8,["visible","pt"])])}}}),ol=ae(ll,[["__scopeId","data-v-a62df90e"]]);(function(){try{if(typeof document<"u"){var t=document.createElement("style");t.appendChild(document.createTextNode(".div[data-v-9bed9119]{position:relative}.div:hover div[data-v-9bed9119]{display:block}.div-2[data-v-9bed9119]{position:relative;border-radius:.75rem;padding:1rem;width:fit-content;max-width:80%;margin-bottom:1rem;margin-left:auto}.div-3[data-v-9bed9119]{position:absolute;width:max-content;display:none;bottom:0px;border-radius:.25rem;left:0px;transform:translate(-50%) translateY(50%);box-shadow:#0003 0 0 2px;padding:.25rem;z-index:9999}.div-4[data-v-9bed9119]{position:relative;border-radius:.75rem;padding:1rem;width:fit-content;max-width:80%;margin-bottom:1rem;margin-right:auto}.div-5[data-v-9bed9119]{position:absolute;width:max-content;display:none;bottom:0px;right:0px;border-radius:.25rem;transform:translate(50%) translateY(50%);box-shadow:#0003 0 0 2px;padding:.25rem;z-index:9999}.input[data-v-46284fc5]:focus{outline:none}.svg[data-v-46284fc5]{height:1.5rem;width:1.5rkm}")),document.head.appendChild(t)}}catch(n){console.error("vite-plugin-css-injected-by-js",n)}})();const ve=(t,n)=>{const e=t.__vccOpts||t;for(const[l,a]of n)e[l]=a;return e},al={name:"chat-messages",props:["bgColorChat","chat","bgColorMessagePerson","textColorMessagePerson","bgColorMessageTimestamp","textColorMessageTimestamp","bgColorMessageChatbot","textColorMessageChatbot"],data:()=>({chatElementAdded:!1}),updated(){const t=document.getElementById("chat-container");t&&this.chatElementAdded&&(this.scrollToEnd(t),this.chatElementAdded=!1)},watch:{onUpdateHook0:{handler(){document.getElementById("chat-container")&&(this.chatElementAdded=!0)},immediate:!0}},computed:{onUpdateHook0(){return{0:this.chat.length}}},methods:{scrollToEnd:function(t){const n=t.clientHeight,e=t.scrollHeight;t.scrollTop=e-n}}},rl={key:0,class:"div"},il={key:1,class:"div"};function sl(t,n,e,l,a,o){return c(),u("div",{id:"chat-container",style:H({height:"100%",overscrollBehaviorY:"contain",overflowY:"auto",overflowX:"hidden",backgroundColor:e.bgColorChat||"#EAEEF3",padding:"1.5rem"})},[(c(!0),u(V,null,U(e.chat,(d,h)=>(c(),u("div",{key:h},[d.type=="person"?(c(),u("div",rl,[s("div",{class:"div-2",style:H({backgroundColor:e.bgColorMessagePerson||"#025CDB",color:e.textColorMessagePerson||"white"})},[d.timestamp?(c(),u("div",{key:0,class:"div-3",style:H({backgroundColor:e.bgColorMessageTimestamp||"white",color:e.textColorMessageTimestamp||"black"})},y(d.timestamp),5)):D("",!0),Y(" "+y(d.message),1)],4)])):D("",!0),d.type=="chatbot"?(c(),u("div",il,[s("div",{class:"div-4",style:H({backgroundColor:e.bgColorMessageChatbot||"white",color:e.textColorMessageChatbot||"black"})},[d.timestamp?(c(),u("div",{key:0,class:"div-5",style:H({backgroundColor:e.bgColorMessageTimestamp||"white",color:e.textColorMessageTimestamp||"black"})},y(d.timestamp),5)):D("",!0),Y(" "+y(d.message),1)],4)])):D("",!0)]))),128))],4)}const cl=ve(al,[["render",sl],["__scopeId","data-v-9bed9119"]]),dl={name:"chat-input",props:["onSend","inputHeight","bgColorInput","textColorInput","inputPlaceholder"],data:()=>({inputField:""}),methods:{sendMessage(t){t.preventDefault(),this.onSend&&this.onSend(this.inputField),this.inputField=""}}},ul=t=>(Ge("data-v-46284fc5"),t=t(),Xe(),t),hl=["placeholder","value"],pl=["strokeWidth"],fl=ul(()=>s("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M6 12L3.269 3.126A59.768 59.768 0 0121.485 12 59.77 59.77 0 013.27 20.876L5.999 12zm0 0h7.5"},null,-1)),gl=[fl];function ml(t,n,e,l,a,o){return c(),u("form",{onSubmit:n[1]||(n[1]=(...d)=>o.sendMessage&&o.sendMessage(...d)),style:H({display:"flex",height:e.inputHeight||"60px",backgroundColor:e.bgColorInput||"white",color:e.textColorInput||"black"})},[s("input",{class:"input",placeholder:e.inputPlaceholder||"Type your message here",onInput:n[0]||(n[0]=d=>t.inputField=d.target.value),value:t.inputField,style:H({borderWidth:"0px",backgroundColor:e.bgColorInput||"white",color:e.textColorInput||"black",width:"100%",marginLeft:"1rem",fontSize:"1rem"})},null,44,hl),s("button",{style:H({backgroundColor:e.bgColorInput||"white",flexShrink:"0",all:"unset",cursor:"pointer",margin:"auto 1rem"})},[(c(),u("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",class:"svg",strokeWidth:1.5},gl,8,pl))],4)],36)}const vl=ve(dl,[["render",ml],["__scopeId","data-v-46284fc5"]]),yl={name:"chat-icon"},bl={style:{height:"32px",width:"32px"}},Cl=Ye('<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19.3259 5.77772L18.4944 6.33329V6.33329L19.3259 5.77772ZM19.3259 16.2223L18.4944 15.6667V15.6667L19.3259 16.2223ZM18.2223 17.3259L17.6667 16.4944H17.6667L18.2223 17.3259ZM14 17.9986L13.9956 16.9986C13.4451 17.001 13 17.4481 13 17.9986H14ZM14 18L14.8944 18.4472C14.9639 18.3084 15 18.1552 15 18H14ZM10 18H9C9 18.1552 9.03615 18.3084 9.10557 18.4472L10 18ZM10 17.9986H11C11 17.4481 10.5549 17.001 10.0044 16.9986L10 17.9986ZM5.77772 17.3259L6.33329 16.4944H6.33329L5.77772 17.3259ZM4.67412 16.2223L5.50559 15.6667L5.50559 15.6667L4.67412 16.2223ZM4.67412 5.77772L5.50559 6.33329L4.67412 5.77772ZM5.77772 4.67412L6.33329 5.50559L5.77772 4.67412ZM18.2223 4.67412L17.6667 5.50559L17.6667 5.50559L18.2223 4.67412ZM21 11C21 9.61635 21.0012 8.50334 20.9106 7.61264C20.8183 6.70523 20.6225 5.91829 20.1573 5.22215L18.4944 6.33329C18.7034 6.64604 18.8446 7.06578 18.9209 7.81505C18.9988 8.58104 19 9.57473 19 11H21ZM20.1573 16.7779C20.6225 16.0817 20.8183 15.2948 20.9106 14.3874C21.0012 13.4967 21 12.3836 21 11H19C19 12.4253 18.9988 13.419 18.9209 14.1849C18.8446 14.9342 18.7034 15.354 18.4944 15.6667L20.1573 16.7779ZM18.7779 18.1573C19.3238 17.7926 19.7926 17.3238 20.1573 16.7779L18.4944 15.6667C18.2755 15.9943 17.9943 16.2755 17.6667 16.4944L18.7779 18.1573ZM14.0044 18.9986C15.0785 18.9939 15.9763 18.9739 16.7267 18.8701C17.4931 18.7642 18.1699 18.5636 18.7779 18.1573L17.6667 16.4944C17.3934 16.6771 17.0378 16.8081 16.4528 16.889C15.8518 16.9721 15.0792 16.9939 13.9956 16.9986L14.0044 18.9986ZM15 18V17.9986H13V18H15ZM13.7889 20.6584L14.8944 18.4472L13.1056 17.5528L12 19.7639L13.7889 20.6584ZM10.2111 20.6584C10.9482 22.1325 13.0518 22.1325 13.7889 20.6584L12 19.7639L12 19.7639L10.2111 20.6584ZM9.10557 18.4472L10.2111 20.6584L12 19.7639L10.8944 17.5528L9.10557 18.4472ZM9 17.9986V18H11V17.9986H9ZM5.22215 18.1573C5.83014 18.5636 6.50685 18.7642 7.2733 18.8701C8.02368 18.9739 8.92154 18.9939 9.99564 18.9986L10.0044 16.9986C8.92075 16.9939 8.14815 16.9721 7.54716 16.889C6.96223 16.8081 6.60665 16.6771 6.33329 16.4944L5.22215 18.1573ZM3.84265 16.7779C4.20744 17.3238 4.6762 17.7926 5.22215 18.1573L6.33329 16.4944C6.00572 16.2755 5.72447 15.9943 5.50559 15.6667L3.84265 16.7779ZM3 11C3 12.3836 2.99879 13.4967 3.0894 14.3874C3.18171 15.2948 3.3775 16.0817 3.84265 16.7779L5.50559 15.6667C5.29662 15.354 5.15535 14.9342 5.07913 14.1849C5.00121 13.419 5 12.4253 5 11H3ZM3.84265 5.22215C3.3775 5.91829 3.18171 6.70523 3.0894 7.61264C2.99879 8.50334 3 9.61635 3 11H5C5 9.57473 5.00121 8.58104 5.07913 7.81505C5.15535 7.06578 5.29662 6.64604 5.50559 6.33329L3.84265 5.22215ZM5.22215 3.84265C4.6762 4.20744 4.20744 4.6762 3.84265 5.22215L5.50559 6.33329C5.72447 6.00572 6.00572 5.72447 6.33329 5.50559L5.22215 3.84265ZM11 3C9.61635 3 8.50334 2.99879 7.61264 3.0894C6.70523 3.18171 5.91829 3.3775 5.22215 3.84265L6.33329 5.50559C6.64604 5.29662 7.06578 5.15535 7.81505 5.07913C8.58104 5.00121 9.57473 5 11 5V3ZM13 3H11V5H13V3ZM18.7779 3.84265C18.0817 3.3775 17.2948 3.18171 16.3874 3.0894C15.4967 2.99879 14.3836 3 13 3V5C14.4253 5 15.419 5.00121 16.1849 5.07913C16.9342 5.15535 17.354 5.29662 17.6667 5.50559L18.7779 3.84265ZM20.1573 5.22215C19.7926 4.6762 19.3238 4.20744 18.7779 3.84265L17.6667 5.50559C17.9943 5.72447 18.2755 6.00572 18.4944 6.33329L20.1573 5.22215Z"></path><circle cx="16" cy="11" r="1" stroke-linecap="round"></circle><circle cx="12" cy="11" r="1" stroke-linecap="round"></circle><circle cx="8" cy="11" r="1" stroke-linecap="round"></circle></svg>',1),kl=[Cl];function wl(t,n,e,l,a,o){return c(),u("div",bl,kl)}const qe=ve(yl,[["render",wl]]),xl={name:"chat-header",components:{ChatIcon:qe},props:["headerHeight","bgColorHeader","bgColorIcon","fillColorIcon","textColorHeader","offline","colorOffline","colorOnline","closeChat"]},_l={style:{display:"flex"}},Il={key:0},Sl={key:1},Ml=s("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M6 18L18 6M6 6l12 12"},null,-1),Tl=[Ml];function Al(t,n,e,l,a,o){const d=J("chat-icon");return c(),u("div",{style:H({display:"flex",height:e.headerHeight||"90px",flexShrink:"0",backgroundColor:e.bgColorHeader||"white"})},[s("div",{style:H({position:"flex",borderRadius:"50%",backgroundColor:e.bgColorIcon||"#025CDB",marginTop:"auto",marginBottom:"auto",marginLeft:"1.25rem",marginRight:"1.25rem",padding:"0.75rem",fill:e.fillColorIcon||"white"})},[N(d)],4),s("div",{style:H({marginTop:"auto",marginBottom:"auto",width:"100%",color:e.textColorHeader||"black"})},[s("div",{style:H({fontWeight:"600",fontSize:"1.10rem",lineHeight:"1.5rem"})}," ChatBot ",4),s("div",_l,[s("div",{style:H({borderRadius:"50%",height:"8px",width:"8px",margin:"auto 4px",backgroundColor:e.offline?e.colorOffline||"red":e.colorOnline||"green"})},null,4),e.offline?(c(),u("div",Il,"Offline")):(c(),u("div",Sl,"Online"))])],4),(c(),u("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",stroke:"currentColor","stroke-width":"2",onClick:n[0]||(n[0]=h=>e.closeChat()),style:H({height:"1.75rem",width:"1.75rem",flexShrink:"0",margin:"1rem",cursor:"pointer",color:e.textColorHeader||"black"})},Tl,4))],4)}const Ol=ve(xl,[["render",Al]]),Ll={name:"chat",components:{ChatIcon:qe,ChatHeader:Ol,ChatMessages:cl,ChatInput:vl},props:["bgColorIcon","margin","fillColorIcon","width","height","boxShadow","headerHeight","bgColorHeader","textColorHeader","offline","colorOffline","colorOnline","bgColorChat","bgColorMessageChatbot","bgColorMessagePerson","bgColorMessageTimestamp","textColorMessageChatbot","textColorMessagePerson","textColorMessageTimestamp","chat","onSend","inputHeight","bgColorInput","textColorInput","inputPlaceholder"],data:()=>({chatOpen:!1}),methods:{stateCloseChat(){this.chatOpen=!1},stateOpenChat(){this.chatOpen=!0}}},Kl={style:{display:"flex",flexDirection:"column",height:"100%"}};function Nl(t,n,e,l,a,o){const d=J("chat-icon"),h=J("chat-header"),f=J("chat-messages"),r=J("chat-input");return c(),u("div",null,[s("div",{onClick:n[0]||(n[0]=p=>o.stateOpenChat()),style:H({position:"fixed",bottom:"0px",right:"0px",overflow:"hidden",transform:t.chatOpen?"translateY(100%)":"translateY(0%)",transitionTimingFunction:"cubic-bezier(0.4, 0, 0.2, 1)",transitionDuration:"300ms",transitionDelay:t.chatOpen?"0ms":"300ms"})},[s("div",{style:H({position:"flex",borderRadius:"50%",cursor:"pointer",backgroundColor:e.bgColorIcon||"#025CDB",margin:e.margin||"20px",padding:"0.75rem",fill:e.fillColorIcon||"white"})},[N(d)],4)],4),s("div",{style:H({position:"fixed",bottom:"0px",right:"0px",maxHeight:"100%",maxWidth:"100%",width:e.width||"410px",height:e.height||"700px",overflow:"hidden",transform:t.chatOpen?"translateY(0%)":"translateY(100%)",transitionTimingFunction:"cubic-bezier(0.4, 0, 0.2, 1)",transitionDuration:"300ms",transitionDelay:t.chatOpen?"300ms":"0ms"})},[s("div",{style:H({margin:e.margin||"20px",overflow:"hidden",borderRadius:"0.75rem",boxShadow:e.boxShadow||"rgba(0,0,0,0.4) 0 0 6px",maxHeight:e.margin?"calc(100% - "+e.margin+" - "+e.margin+")":"calc(100% - 40px)",maxWidth:e.margin?"calc(100% - "+e.margin+" - "+e.margin+")":"calc(100% - 40px)",width:e.width&&e.margin?"calc("+e.width+" - "+e.margin+" - "+e.margin+")":e.width?"calc("+e.width+" - 40px)":e.margin?"calc(410px - "+e.margin+" - "+e.margin+")":"calc(410px - 40px)",height:e.height&&e.margin?"calc("+e.height+" - "+e.margin+" - "+e.margin+")":e.height?"calc("+e.height+" - 40px)":e.margin?"calc(700px - "+e.margin+" - "+e.margin+")":"calc(700px - 40px)"})},[s("div",Kl,[N(h,{closeChat:o.stateCloseChat,headerHeight:e.headerHeight,bgColorHeader:e.bgColorHeader,bgColorIcon:e.bgColorIcon,textColorHeader:e.textColorHeader,fillColorIcon:e.fillColorIcon,offline:e.offline,colorOffline:e.colorOffline,colorOnline:e.colorOnline},null,8,["closeChat","headerHeight","bgColorHeader","bgColorIcon","textColorHeader","fillColorIcon","offline","colorOffline","colorOnline"]),N(f,{bgColorChat:e.bgColorChat,bgColorMessageChatbot:e.bgColorMessageChatbot,bgColorMessagePerson:e.bgColorMessagePerson,bgColorMessageTimestamp:e.bgColorMessageTimestamp,textColorMessageChatbot:e.textColorMessageChatbot,textColorMessagePerson:e.textColorMessagePerson,textColorMessageTimestamp:e.textColorMessageTimestamp,chat:e.chat},null,8,["bgColorChat","bgColorMessageChatbot","bgColorMessagePerson","bgColorMessageTimestamp","textColorMessageChatbot","textColorMessagePerson","textColorMessageTimestamp","chat"]),N(r,{onSend:e.onSend,inputHeight:e.inputHeight,bgColorInput:e.bgColorInput,textColorInput:e.textColorInput,inputPlaceholder:e.inputPlaceholder},null,8,["onSend","inputHeight","bgColorInput","textColorInput","inputPlaceholder"])])],4)],4)])}const $l=ve(Ll,[["render",Nl]]),El={class:"chat",style:{"background-color":"blue"}},Pl="AIzaSyB6WTXMQsbP9QJCe1ymDInuXRQ0a_uk4uQ",Dl=oe({__name:"ChatBot",setup(t){const l=new ot(Pl).getGenerativeModel({model:"gemini-1.5-flash",generationConfig:{temperature:1}}).startChat({history:[]}),a=T(""),o=T("");async function d(){const p=await l.sendMessage(a.value);o.value=p.response.text()}const h=T([]);async function f(p){if(p=="")return;const v={type:"person",message:p};h.value.push(v),a.value=p,await d();const w={type:"chatbot",message:r(o.value)};h.value.push(w)}function r(p){let v=p.replace(/##/g,"");return v=v.replace(/\*\*/g,""),v=v.replace(/\*/g,""),v}return(p,v)=>(c(),u("div",El,[N(i($l),{class:"chat",onSend:f,chat:h.value,bgColorHeader:"#7302ff",bgColorChat:"#C8E7EF",bgColorInput:"#ffffff",bgColorIcon:"#7302ff",bgColorMessageChatbot:"#fff",textColorMessageChatbot:"#282828",bgColorMessagePerson:"#7302ff",textColorInput:"#282828",textColorHeader:"#fff",textColorMessagePerson:"",colorOnline:"#7302ff",inputHeight:"3rem",width:"25rem",height:"70vh",boxShadow:"",fillColorIcon:"#fff"},null,8,["chat"])]))}}),Hl=ae(Dl,[["__scopeId","data-v-4e8b2e6b"]]),jl={class:"container"},Rl={class:"sidebar"},ql={class:"wrapper"},Bl={class:"Button-Wrapper"},Vl=oe({__name:"viewCoursePage",setup(t){var m;const n=T(),e=T(),l=T(),a=de(),o=Ke(),d=Je(),h=new G("get_enrollment");((m=d.getInfo)==null?void 0:m.userType)!="Admin"&&h.callApi({course_id:a.params.courseId}).then(k=>{(k==null?void 0:k.success)==!1&&o.push("/")}),(async()=>{new G("get_course").callApi({course_id:a.params.courseId}).then(M=>{var q,j,x,O,L,_;if(M!=null&&M.success){n.value=(j=(q=M==null?void 0:M.data)==null?void 0:q.course)==null?void 0:j.chapters,e.value=(O=(x=M==null?void 0:M.data)==null?void 0:x.course)==null?void 0:O.title,l.value=(_=(L=M==null?void 0:M.data)==null?void 0:L.course)==null?void 0:_.image;for(let g of n.value)for(let S=0;S<g.materials.length;S++)for(let I of et)g.materials[S].type===I.name&&(g.materials[S].matIcon=I.icon)}})})();const r=ce(()=>{var j;const k=T();new G("get_enrollment").callApi({course_id:a.params.courseId}).then(x=>{var O,L,_,g,S,I,R,C,F,B,Z,Q;if(x!=null&&x.success){k.value=(L=(O=x==null?void 0:x.data)==null?void 0:O.enrollment)==null?void 0:L.progress;for(let ee of n.value)for(let A of ee==null?void 0:ee.materials)(g=(_=k.value)==null?void 0:_.lessons_completed)!=null&&g.some($=>($==null?void 0:$.lesson_id)==(A==null?void 0:A.Id))||(I=(S=k.value)==null?void 0:S.quizes_completed)!=null&&I.some($=>($==null?void 0:$.quiz_id)==(A==null?void 0:A.Id))||(C=(R=k.value)==null?void 0:R.activities_completed)!=null&&C.some($=>($==null?void 0:$.activity_id)==(A==null?void 0:A.Id))||(B=(F=k.value)==null?void 0:F.simulations_completed)!=null&&B.some($=>($==null?void 0:$.simulation_id)==(A==null?void 0:A.Id))||(Q=(Z=k.value)==null?void 0:Z.projects_completed)!=null&&Q.some($=>($==null?void 0:$.project_id)==(A==null?void 0:A.Id))?A.status="Done":A.status="Unselected"}});let q=a.params.materialId;for(let x=0;x<((j=n.value)==null?void 0:j.length);x++){const O=n.value[x];for(let L=0;L<O.materials.length;L++){const _=O.materials[L];if(_.Id===q){let g=null,S=null;if(L>0)g=O.materials[L-1].Id;else if(x>0){const C=n.value[x-1];g=C.materials[C.materials.length-1].Id}if(L<O.materials.length-1)S=O.materials[L+1].Id;else if(x<n.value.length-1){const C=n.value[x+1];C.materials.length>0&&(S=C.materials[0].Id)}let I,R=!1;return _.type==="Lesson"&&(I=Jt),_.type==="Simulation"&&(I=on),_.type==="Project"&&(I=dn),_.type==="Activity"&&(I=Ln),_.status=="Done"&&(R=!0),_.type==="Quiz"&&(I=ol),{type:I,prevMaterialId:g,nextMaterialId:S,isCompleted:R}}}}return null});function p(){r.value&&r.value.prevMaterialId&&o.push(`/viewCoursePage/${a.params.courseId}/${a.params.enrollmentId}/${r.value.prevMaterialId}`)}function v(){r.value&&r.value.nextMaterialId&&o.push(`/viewCoursePage/${a.params.courseId}/${a.params.enrollmentId}/${r.value.nextMaterialId}`)}function w(){var M,q,j,x,O;let k={new_chat:{course_title:(M=e.value)==null?void 0:M.en,course_id:a.params.courseId,student_name:((q=d.getInfo)==null?void 0:q.firstName)+" "+((j=d.getInfo)==null?void 0:j.lastName),avatar:l.value,participants:[{id:(x=d.getInfo)==null?void 0:x.id,username:(O=d.getInfo)==null?void 0:O.email}]}};new G("create_chat").callApi(k).then(L=>{var _;L!=null&&L.success&&o.push(`/childChats/${(_=L==null?void 0:L.data)==null?void 0:_.chat_id}`)})}return(k,M)=>{var q,j,x,O;return c(),u("main",null,[N(Hl),N(i(X),{label:i(b)(i(P).chats),icon:"pi pi-user","icon-pos":"right",style:{"font-size":"0.6rem",position:"absolute",left:"1rem",bottom:"1rem","z-index":"2","background-color":"var(--accent2)"},onClick:w},null,8,["label"]),N(tt),s("div",jl,[s("div",Rl,[N(Wt,{chapters:n.value,"course-title":e.value},null,8,["chapters","course-title"])]),s("div",ql,[(c(),W(ne((q=r.value)==null?void 0:q.type),{onNext:v,completed:(j=r.value)==null?void 0:j.isCompleted},null,40,["completed"])),s("div",Bl,[N(i(X),{label:i(b)(i(P).prev),class:K({hide:!((x=r.value)!=null&&x.prevMaterialId)}),onClick:p},null,8,["label","class"]),N(i(X),{label:i(b)(i(P).next),class:K({hide:!((O=r.value)!=null&&O.nextMaterialId)}),onClick:v},null,8,["label","class"])])])])])}}}),Wl=ae(Vl,[["__scopeId","data-v-f92dc04f"]]);export{Wl as default};
