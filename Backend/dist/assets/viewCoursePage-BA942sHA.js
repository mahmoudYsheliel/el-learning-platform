import{E as _e,G as ye,j as ee,o as c,c as u,e as o,I as C,J as fe,y as F,g as K,C as S,K as me,L as qe,M as Y,P as Pe,Q as Re,R as xe,S as Le,T as Be,U as Te,q as B,V as J,A as X,W as Ve,h as Q,t as g,v as z,X as Fe,b as q,d as te,r as T,w as ne,f as s,i as Ae,x as le,s as y,_ as re,Y as pe,H as U,k as A,l as G,B as ze,D as Qe,N as Ue}from"./index-CfZpnbSe.js";import{s as Ke,a as He}from"./index.esm-D99QzMd6.js";var We={root:function(t){var n=t.props;return["p-tree p-component",{"p-tree-selectable":n.selectionMode!=null,"p-tree-loading":n.loading,"p-tree-flex-scrollable":n.scrollHeight==="flex"}]},loadingOverlay:"p-tree-loading-overlay p-component-overlay",loadingIcon:"p-tree-loading-icon",filterContainer:"p-tree-filter-container",input:"p-tree-filter p-inputtext p-component",searchIcon:"p-tree-filter-icon",wrapper:"p-tree-wrapper",container:"p-tree-container",node:function(t){var n=t.instance;return["p-treenode",{"p-treenode-leaf":n.leaf}]},content:function(t){var n=t.instance;return["p-treenode-content",n.node.styleClass,{"p-treenode-selectable":n.selectable,"p-highlight":n.checkboxMode&&n.$parentInstance.highlightOnSelect?n.checked:n.selected}]},toggler:"p-tree-toggler p-link",togglerIcon:"p-tree-toggler-icon",nodeTogglerIcon:"p-tree-node-toggler-icon",nodeCheckbox:function(t){var n=t.instance;return[{"p-indeterminate":n.partialChecked}]},nodeIcon:"p-treenode-icon",label:"p-treenode-label",subgroup:"p-treenode-children"},Ge=_e.extend({name:"tree",classes:We}),Je={root:function(t){var n=t.instance,l=t.props;return["p-checkbox p-component",{"p-highlight":n.checked,"p-disabled":l.disabled,"p-invalid":l.invalid,"p-variant-filled":l.variant?l.variant==="filled":n.$primevue.config.inputStyle==="filled"}]},box:"p-checkbox-box",input:"p-checkbox-input",icon:"p-checkbox-icon"},Xe=_e.extend({name:"checkbox",classes:Je}),Ye={name:"BaseCheckbox",extends:me,props:{value:null,modelValue:null,binary:Boolean,name:{type:String,default:null},trueValue:{type:null,default:!0},falseValue:{type:null,default:!1},variant:{type:String,default:null},invalid:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},readonly:{type:Boolean,default:!1},required:{type:Boolean,default:!1},tabindex:{type:Number,default:null},inputId:{type:String,default:null},inputClass:{type:[String,Object],default:null},inputStyle:{type:Object,default:null},ariaLabelledby:{type:String,default:null},ariaLabel:{type:String,default:null}},style:Xe,provide:function(){return{$parentInstance:this}}};function Ze(e){return lt(e)||nt(e)||tt(e)||et()}function et(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function tt(e,t){if(e){if(typeof e=="string")return ve(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ve(e,t)}}function nt(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function lt(e){if(Array.isArray(e))return ve(e)}function ve(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,l=new Array(t);n<t;n++)l[n]=e[n];return l}var Me={name:"Checkbox",extends:Ye,inheritAttrs:!1,emits:["update:modelValue","change","focus","blur"],methods:{getPTOptions:function(t){var n=t==="root"?this.ptmi:this.ptm;return n(t,{context:{checked:this.checked,disabled:this.disabled}})},onChange:function(t){var n=this;if(!this.disabled&&!this.readonly){var l;this.binary?l=this.checked?this.falseValue:this.trueValue:this.checked?l=this.modelValue.filter(function(a){return!ye.equals(a,n.value)}):l=this.modelValue?[].concat(Ze(this.modelValue),[this.value]):[this.value],this.$emit("update:modelValue",l),this.$emit("change",t)}},onFocus:function(t){this.$emit("focus",t)},onBlur:function(t){this.$emit("blur",t)}},computed:{checked:function(){return this.binary?this.modelValue===this.trueValue:ye.contains(this.value,this.modelValue)}},components:{CheckIcon:Ke}},rt=["data-p-highlight","data-p-disabled"],at=["id","value","name","checked","tabindex","disabled","readonly","required","aria-labelledby","aria-label","aria-invalid"];function it(e,t,n,l,a,r){var p=ee("CheckIcon");return c(),u("div",C({class:e.cx("root")},r.getPTOptions("root"),{"data-p-highlight":r.checked,"data-p-disabled":e.disabled}),[o("input",C({id:e.inputId,type:"checkbox",class:[e.cx("input"),e.inputClass],style:e.inputStyle,value:e.value,name:e.name,checked:r.checked,tabindex:e.tabindex,disabled:e.disabled,readonly:e.readonly,required:e.required,"aria-labelledby":e.ariaLabelledby,"aria-label":e.ariaLabel,"aria-invalid":e.invalid||void 0,onFocus:t[0]||(t[0]=function(){return r.onFocus&&r.onFocus.apply(r,arguments)}),onBlur:t[1]||(t[1]=function(){return r.onBlur&&r.onBlur.apply(r,arguments)}),onChange:t[2]||(t[2]=function(){return r.onChange&&r.onChange.apply(r,arguments)})},r.getPTOptions("input")),null,16,at),o("div",C({class:e.cx("box")},r.getPTOptions("box")),[fe(e.$slots,"icon",{checked:r.checked,class:S(e.cx("icon"))},function(){return[r.checked?(c(),F(p,C({key:0,class:e.cx("icon")},r.getPTOptions("icon")),null,16,["class"])):K("",!0)]})],16)],16,rt)}Me.render=it;var Oe={name:"MinusIcon",extends:qe},st=o("path",{d:"M13.2222 7.77778H0.777778C0.571498 7.77778 0.373667 7.69584 0.227806 7.54998C0.0819442 7.40412 0 7.20629 0 7.00001C0 6.79373 0.0819442 6.5959 0.227806 6.45003C0.373667 6.30417 0.571498 6.22223 0.777778 6.22223H13.2222C13.4285 6.22223 13.6263 6.30417 13.7722 6.45003C13.9181 6.5959 14 6.79373 14 7.00001C14 7.20629 13.9181 7.40412 13.7722 7.54998C13.6263 7.69584 13.4285 7.77778 13.2222 7.77778Z",fill:"currentColor"},null,-1),ot=[st];function ct(e,t,n,l,a,r){return c(),u("svg",C({width:"14",height:"14",viewBox:"0 0 14 14",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e.pti()),ot,16)}Oe.render=ct;var dt={name:"BaseTree",extends:me,props:{value:{type:null,default:null},expandedKeys:{type:null,default:null},selectionKeys:{type:null,default:null},selectionMode:{type:String,default:null},metaKeySelection:{type:Boolean,default:!1},loading:{type:Boolean,default:!1},loadingIcon:{type:String,default:void 0},loadingMode:{type:String,default:"mask"},filter:{type:Boolean,default:!1},filterBy:{type:String,default:"label"},filterMode:{type:String,default:"lenient"},filterPlaceholder:{type:String,default:null},filterLocale:{type:String,default:void 0},highlightOnSelect:{type:Boolean,default:!1},scrollHeight:{type:String,default:null},level:{type:Number,default:0},ariaLabelledby:{type:String,default:null},ariaLabel:{type:String,default:null}},style:Ge,provide:function(){return{$parentInstance:this}}};function ue(e){"@babel/helpers - typeof";return ue=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ue(e)}function Ce(e,t){var n=typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=Ne(e))||t&&e&&typeof e.length=="number"){n&&(e=n);var l=0,a=function(){};return{s:a,n:function(){return l>=e.length?{done:!0}:{done:!1,value:e[l++]}},e:function(i){throw i},f:a}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var r=!0,p=!1,d;return{s:function(){n=n.call(e)},n:function(){var i=n.next();return r=i.done,i},e:function(i){p=!0,d=i},f:function(){try{!r&&n.return!=null&&n.return()}finally{if(p)throw d}}}}function we(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);t&&(l=l.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,l)}return n}function Ie(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?we(Object(n),!0).forEach(function(l){ut(e,l,n[l])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):we(Object(n)).forEach(function(l){Object.defineProperty(e,l,Object.getOwnPropertyDescriptor(n,l))})}return e}function ut(e,t,n){return t=ht(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ht(e){var t=pt(e,"string");return ue(t)=="symbol"?t:String(t)}function pt(e,t){if(ue(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var l=n.call(e,t||"default");if(ue(l)!="object")return l;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function de(e){return gt(e)||mt(e)||Ne(e)||ft()}function ft(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Ne(e,t){if(e){if(typeof e=="string")return be(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return be(e,t)}}function mt(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function gt(e){if(Array.isArray(e))return be(e)}function be(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,l=new Array(t);n<t;n++)l[n]=e[n];return l}var $e={name:"TreeNode",hostName:"Tree",extends:me,emits:["node-toggle","node-click","checkbox-change"],props:{node:{type:null,default:null},expandedKeys:{type:null,default:null},loadingMode:{type:String,default:"mask"},selectionKeys:{type:null,default:null},selectionMode:{type:String,default:null},templates:{type:null,default:null},level:{type:Number,default:null},index:null},nodeTouched:!1,toggleClicked:!1,mounted:function(){this.setAllNodesTabIndexes()},methods:{toggle:function(){this.$emit("node-toggle",this.node),this.toggleClicked=!0},label:function(t){return typeof t.label=="function"?t.label():t.label},onChildNodeToggle:function(t){this.$emit("node-toggle",t)},getPTOptions:function(t){return this.ptm(t,{context:{index:this.index,expanded:this.expanded,selected:this.selected,checked:this.checked,leaf:this.leaf}})},onClick:function(t){if(this.toggleClicked||Y.getAttribute(t.target,'[data-pc-section="toggler"]')||Y.getAttribute(t.target.parentElement,'[data-pc-section="toggler"]')){this.toggleClicked=!1;return}this.isCheckboxSelectionMode()?this.toggleCheckbox():this.$emit("node-click",{originalEvent:t,nodeTouched:this.nodeTouched,node:this.node}),this.nodeTouched=!1},onChildNodeClick:function(t){this.$emit("node-click",t)},onTouchEnd:function(){this.nodeTouched=!0},onKeyDown:function(t){if(this.isSameNode(t))switch(t.code){case"Tab":this.onTabKey(t);break;case"ArrowDown":this.onArrowDown(t);break;case"ArrowUp":this.onArrowUp(t);break;case"ArrowRight":this.onArrowRight(t);break;case"ArrowLeft":this.onArrowLeft(t);break;case"Enter":case"NumpadEnter":case"Space":this.onEnterKey(t);break}},onArrowDown:function(t){var n=t.target.getAttribute("data-pc-section")==="toggler"?t.target.closest('[role="treeitem"]'):t.target,l=n.children[1];if(l)this.focusRowChange(n,l.children[0]);else if(n.nextElementSibling)this.focusRowChange(n,n.nextElementSibling);else{var a=this.findNextSiblingOfAncestor(n);a&&this.focusRowChange(n,a)}t.preventDefault()},onArrowUp:function(t){var n=t.target;if(n.previousElementSibling)this.focusRowChange(n,n.previousElementSibling,this.findLastVisibleDescendant(n.previousElementSibling));else{var l=this.getParentNodeElement(n);l&&this.focusRowChange(n,l)}t.preventDefault()},onArrowRight:function(t){var n=this;this.leaf||this.expanded||(t.currentTarget.tabIndex=-1,this.$emit("node-toggle",this.node),this.$nextTick(function(){n.onArrowDown(t)}))},onArrowLeft:function(t){var n=Y.findSingle(t.currentTarget,'[data-pc-section="toggler"]');if(this.level===0&&!this.expanded)return!1;if(this.expanded&&!this.leaf)return n.click(),!1;var l=this.findBeforeClickableNode(t.currentTarget);l&&this.focusRowChange(t.currentTarget,l)},onEnterKey:function(t){this.setTabIndexForSelectionMode(t,this.nodeTouched),this.onClick(t),t.preventDefault()},onTabKey:function(){this.setAllNodesTabIndexes()},setAllNodesTabIndexes:function(){var t=Y.find(this.$refs.currentNode.closest('[data-pc-section="container"]'),'[role="treeitem"]'),n=de(t).some(function(a){return a.getAttribute("aria-selected")==="true"||a.getAttribute("aria-checked")==="true"});if(de(t).forEach(function(a){a.tabIndex=-1}),n){var l=de(t).filter(function(a){return a.getAttribute("aria-selected")==="true"||a.getAttribute("aria-checked")==="true"});l[0].tabIndex=0;return}de(t)[0].tabIndex=0},setTabIndexForSelectionMode:function(t,n){if(this.selectionMode!==null){var l=de(Y.find(this.$refs.currentNode.parentElement,'[role="treeitem"]'));t.currentTarget.tabIndex=n===!1?-1:0,l.every(function(a){return a.tabIndex===-1})&&(l[0].tabIndex=0)}},focusRowChange:function(t,n,l){t.tabIndex="-1",n.tabIndex="0",this.focusNode(l||n)},findBeforeClickableNode:function(t){var n=t.closest("ul").closest("li");if(n){var l=Y.findSingle(n,"button");return l&&l.style.visibility!=="hidden"?n:this.findBeforeClickableNode(t.previousElementSibling)}return null},toggleCheckbox:function(){var t=this.selectionKeys?Ie({},this.selectionKeys):{},n=!this.checked;this.propagateDown(this.node,n,t),this.$emit("checkbox-change",{node:this.node,check:n,selectionKeys:t})},propagateDown:function(t,n,l){if(n?l[t.key]={checked:!0,partialChecked:!1}:delete l[t.key],t.children&&t.children.length){var a=Ce(t.children),r;try{for(a.s();!(r=a.n()).done;){var p=r.value;this.propagateDown(p,n,l)}}catch(d){a.e(d)}finally{a.f()}}},propagateUp:function(t){var n=t.check,l=Ie({},t.selectionKeys),a=0,r=!1,p=Ce(this.node.children),d;try{for(p.s();!(d=p.n()).done;){var h=d.value;l[h.key]&&l[h.key].checked?a++:l[h.key]&&l[h.key].partialChecked&&(r=!0)}}catch(i){p.e(i)}finally{p.f()}n&&a===this.node.children.length?l[this.node.key]={checked:!0,partialChecked:!1}:(n||delete l[this.node.key],r||a>0&&a!==this.node.children.length?l[this.node.key]={checked:!1,partialChecked:!0}:delete l[this.node.key]),this.$emit("checkbox-change",{node:t.node,check:t.check,selectionKeys:l})},onChildCheckboxChange:function(t){this.$emit("checkbox-change",t)},findNextSiblingOfAncestor:function(t){var n=this.getParentNodeElement(t);return n?n.nextElementSibling?n.nextElementSibling:this.findNextSiblingOfAncestor(n):null},findLastVisibleDescendant:function(t){var n=t.children[1];if(n){var l=n.children[n.children.length-1];return this.findLastVisibleDescendant(l)}else return t},getParentNodeElement:function(t){var n=t.parentElement.parentElement;return Y.getAttribute(n,"role")==="treeitem"?n:null},focusNode:function(t){t.focus()},isCheckboxSelectionMode:function(){return this.selectionMode==="checkbox"},isSameNode:function(t){return t.currentTarget&&(t.currentTarget.isSameNode(t.target)||t.currentTarget.isSameNode(t.target.closest('[role="treeitem"]')))}},computed:{hasChildren:function(){return this.node.children&&this.node.children.length>0},expanded:function(){return this.expandedKeys&&this.expandedKeys[this.node.key]===!0},leaf:function(){return this.node.leaf===!1?!1:!(this.node.children&&this.node.children.length)},selectable:function(){return this.node.selectable===!1?!1:this.selectionMode!=null},selected:function(){return this.selectionMode&&this.selectionKeys?this.selectionKeys[this.node.key]===!0:!1},checkboxMode:function(){return this.selectionMode==="checkbox"&&this.node.selectable!==!1},checked:function(){return this.selectionKeys?this.selectionKeys[this.node.key]&&this.selectionKeys[this.node.key].checked:!1},partialChecked:function(){return this.selectionKeys?this.selectionKeys[this.node.key]&&this.selectionKeys[this.node.key].partialChecked:!1},ariaChecked:function(){return this.selectionMode==="single"||this.selectionMode==="multiple"?this.selected:void 0},ariaSelected:function(){return this.checkboxMode?this.checked:void 0}},components:{Checkbox:Me,ChevronDownIcon:Pe,ChevronRightIcon:Re,CheckIcon:Ke,MinusIcon:Oe,SpinnerIcon:xe},directives:{ripple:Le}},yt=["aria-label","aria-selected","aria-expanded","aria-setsize","aria-posinset","aria-level","aria-checked","tabindex"],vt=["data-p-highlight","data-p-selectable"];function bt(e,t,n,l,a,r){var p=ee("SpinnerIcon"),d=ee("Checkbox"),h=ee("TreeNode",!0),i=Be("ripple");return c(),u("li",C({ref:"currentNode",class:e.cx("node"),role:"treeitem","aria-label":r.label(n.node),"aria-selected":r.ariaSelected,"aria-expanded":r.expanded,"aria-setsize":n.node.children?n.node.children.length:0,"aria-posinset":n.index+1,"aria-level":n.level,"aria-checked":r.ariaChecked,tabindex:n.index===0?0:-1,onKeydown:t[4]||(t[4]=function(){return r.onKeyDown&&r.onKeyDown.apply(r,arguments)})},n.level===1?r.getPTOptions("node"):e.ptm("subgroup")),[o("div",C({class:e.cx("content"),onClick:t[2]||(t[2]=function(){return r.onClick&&r.onClick.apply(r,arguments)}),onTouchend:t[3]||(t[3]=function(){return r.onTouchEnd&&r.onTouchEnd.apply(r,arguments)}),style:n.node.style},r.getPTOptions("content"),{"data-p-highlight":r.checkboxMode?r.checked:r.selected,"data-p-selectable":r.selectable}),[Te((c(),u("button",C({type:"button",class:e.cx("toggler"),onClick:t[0]||(t[0]=function(){return r.toggle&&r.toggle.apply(r,arguments)}),tabindex:"-1","aria-hidden":"true"},r.getPTOptions("toggler")),[n.node.loading&&n.loadingMode==="icon"?(c(),u(B,{key:0},[n.templates.nodetogglericon?(c(),F(J(n.templates.nodetogglericon),{key:0,class:S(e.cx("nodetogglericon"))},null,8,["class"])):(c(),F(p,C({key:1,spin:"",class:e.cx("nodetogglericon")},e.ptm("nodetogglericon")),null,16,["class"]))],64)):(c(),u(B,{key:1},[n.templates.togglericon?(c(),F(J(n.templates.togglericon),{key:0,node:n.node,expanded:r.expanded,class:S(e.cx("togglerIcon"))},null,8,["node","expanded","class"])):r.expanded?(c(),F(J(n.node.expandedIcon?"span":"ChevronDownIcon"),C({key:1,class:e.cx("togglerIcon")},r.getPTOptions("togglerIcon")),null,16,["class"])):(c(),F(J(n.node.collapsedIcon?"span":"ChevronRightIcon"),C({key:2,class:e.cx("togglerIcon")},r.getPTOptions("togglerIcon")),null,16,["class"]))],64))],16)),[[i]]),r.checkboxMode?(c(),F(d,{key:0,modelValue:r.checked,binary:!0,class:S(e.cx("nodeCheckbox")),tabindex:-1,unstyled:e.unstyled,pt:r.getPTOptions("nodeCheckbox"),"data-p-checked":r.checked,"data-p-partialchecked":r.partialChecked},{icon:X(function(f){return[n.templates.checkboxicon?(c(),F(J(n.templates.checkboxicon),{key:0,checked:f.checked,partialChecked:r.partialChecked,class:S(f.class)},null,8,["checked","partialChecked","class"])):(c(),F(J(r.checked?"CheckIcon":r.partialChecked?"MinusIcon":null),C({key:1,class:f.class},r.getPTOptions("nodeCheckbox.icon")),null,16,["class"]))]}),_:1},8,["modelValue","class","unstyled","pt","data-p-checked","data-p-partialchecked"])):K("",!0),o("span",C({class:[e.cx("nodeIcon"),n.node.icon]},r.getPTOptions("nodeIcon")),null,16),o("span",C({class:e.cx("label")},r.getPTOptions("label"),{onKeydown:t[1]||(t[1]=Ve(function(){},["stop"]))}),[n.templates[n.node.type]||n.templates.default?(c(),F(J(n.templates[n.node.type]||n.templates.default),{key:0,node:n.node},null,8,["node"])):(c(),u(B,{key:1},[Q(g(r.label(n.node)),1)],64))],16)],16,vt),r.hasChildren&&r.expanded?(c(),u("ul",C({key:0,class:e.cx("subgroup"),role:"group"},e.ptm("subgroup")),[(c(!0),u(B,null,z(n.node.children,function(f){return c(),F(h,{key:f.key,node:f,templates:n.templates,level:n.level+1,expandedKeys:n.expandedKeys,onNodeToggle:r.onChildNodeToggle,onNodeClick:r.onChildNodeClick,selectionMode:n.selectionMode,selectionKeys:n.selectionKeys,onCheckboxChange:r.propagateUp,unstyled:e.unstyled,pt:e.pt},null,8,["node","templates","level","expandedKeys","onNodeToggle","onNodeClick","selectionMode","selectionKeys","onCheckboxChange","unstyled","pt"])}),128))],16)):K("",!0)],16,yt)}$e.render=bt;function he(e){"@babel/helpers - typeof";return he=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},he(e)}function ge(e,t){var n=typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=je(e))||t&&e&&typeof e.length=="number"){n&&(e=n);var l=0,a=function(){};return{s:a,n:function(){return l>=e.length?{done:!0}:{done:!1,value:e[l++]}},e:function(i){throw i},f:a}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var r=!0,p=!1,d;return{s:function(){n=n.call(e)},n:function(){var i=n.next();return r=i.done,i},e:function(i){p=!0,d=i},f:function(){try{!r&&n.return!=null&&n.return()}finally{if(p)throw d}}}}function kt(e){return wt(e)||Ct(e)||je(e)||_t()}function _t(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function je(e,t){if(e){if(typeof e=="string")return ke(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ke(e,t)}}function Ct(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function wt(e){if(Array.isArray(e))return ke(e)}function ke(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,l=new Array(t);n<t;n++)l[n]=e[n];return l}function Se(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);t&&(l=l.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,l)}return n}function Z(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Se(Object(n),!0).forEach(function(l){It(e,l,n[l])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Se(Object(n)).forEach(function(l){Object.defineProperty(e,l,Object.getOwnPropertyDescriptor(n,l))})}return e}function It(e,t,n){return t=St(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function St(e){var t=xt(e,"string");return he(t)=="symbol"?t:String(t)}function xt(e,t){if(he(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var l=n.call(e,t||"default");if(he(l)!="object")return l;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var De={name:"Tree",extends:dt,inheritAttrs:!1,emits:["node-expand","node-collapse","update:expandedKeys","update:selectionKeys","node-select","node-unselect","filter"],data:function(){return{d_expandedKeys:this.expandedKeys||{},filterValue:null}},watch:{expandedKeys:function(t){this.d_expandedKeys=t}},methods:{onNodeToggle:function(t){var n=t.key;this.d_expandedKeys[n]?(delete this.d_expandedKeys[n],this.$emit("node-collapse",t)):(this.d_expandedKeys[n]=!0,this.$emit("node-expand",t)),this.d_expandedKeys=Z({},this.d_expandedKeys),this.$emit("update:expandedKeys",this.d_expandedKeys)},onNodeClick:function(t){if(this.selectionMode!=null&&t.node.selectable!==!1){var n=t.nodeTouched?!1:this.metaKeySelection,l=n?this.handleSelectionWithMetaKey(t):this.handleSelectionWithoutMetaKey(t);this.$emit("update:selectionKeys",l)}},onCheckboxChange:function(t){this.$emit("update:selectionKeys",t.selectionKeys),t.check?this.$emit("node-select",t.node):this.$emit("node-unselect",t.node)},handleSelectionWithMetaKey:function(t){var n=t.originalEvent,l=t.node,a=n.metaKey||n.ctrlKey,r=this.isNodeSelected(l),p;return r&&a?(this.isSingleSelectionMode()?p={}:(p=Z({},this.selectionKeys),delete p[l.key]),this.$emit("node-unselect",l)):(this.isSingleSelectionMode()?p={}:this.isMultipleSelectionMode()&&(p=a?this.selectionKeys?Z({},this.selectionKeys):{}:{}),p[l.key]=!0,this.$emit("node-select",l)),p},handleSelectionWithoutMetaKey:function(t){var n=t.node,l=this.isNodeSelected(n),a;return this.isSingleSelectionMode()?l?(a={},this.$emit("node-unselect",n)):(a={},a[n.key]=!0,this.$emit("node-select",n)):l?(a=Z({},this.selectionKeys),delete a[n.key],this.$emit("node-unselect",n)):(a=this.selectionKeys?Z({},this.selectionKeys):{},a[n.key]=!0,this.$emit("node-select",n)),a},isSingleSelectionMode:function(){return this.selectionMode==="single"},isMultipleSelectionMode:function(){return this.selectionMode==="multiple"},isNodeSelected:function(t){return this.selectionMode&&this.selectionKeys?this.selectionKeys[t.key]===!0:!1},isChecked:function(t){return this.selectionKeys?this.selectionKeys[t.key]&&this.selectionKeys[t.key].checked:!1},isNodeLeaf:function(t){return t.leaf===!1?!1:!(t.children&&t.children.length)},onFilterKeydown:function(t){(t.code==="Enter"||t.code==="NumpadEnter")&&t.preventDefault(),this.$emit("filter",{originalEvent:t,value:t.target.value})},findFilteredNodes:function(t,n){if(t){var l=!1;if(t.children){var a=kt(t.children);t.children=[];var r=ge(a),p;try{for(r.s();!(p=r.n()).done;){var d=p.value,h=Z({},d);this.isFilterMatched(h,n)&&(l=!0,t.children.push(h))}}catch(i){r.e(i)}finally{r.f()}}if(l)return!0}},isFilterMatched:function(t,n){var l=n.searchFields,a=n.filterText,r=n.strict,p=!1,d=ge(l),h;try{for(d.s();!(h=d.n()).done;){var i=h.value,f=String(ye.resolveFieldData(t,i)).toLocaleLowerCase(this.filterLocale);f.indexOf(a)>-1&&(p=!0)}}catch(m){d.e(m)}finally{d.f()}return(!p||r&&!this.isNodeLeaf(t))&&(p=this.findFilteredNodes(t,{searchFields:l,filterText:a,strict:r})||p),p}},computed:{filteredValue:function(){var t=[],n=this.filterBy.split(","),l=this.filterValue.trim().toLocaleLowerCase(this.filterLocale),a=this.filterMode==="strict",r=ge(this.value),p;try{for(r.s();!(p=r.n()).done;){var d=p.value,h=Z({},d),i={searchFields:n,filterText:l,strict:a};(a&&(this.findFilteredNodes(h,i)||this.isFilterMatched(h,i))||!a&&(this.isFilterMatched(h,i)||this.findFilteredNodes(h,i)))&&t.push(h)}}catch(f){r.e(f)}finally{r.f()}return t},valueToRender:function(){return this.filterValue&&this.filterValue.trim().length>0?this.filteredValue:this.value}},components:{TreeNode:$e,SearchIcon:He,SpinnerIcon:xe}},Tt=["placeholder"],At=["aria-labelledby","aria-label"];function Kt(e,t,n,l,a,r){var p=ee("SpinnerIcon"),d=ee("SearchIcon"),h=ee("TreeNode");return c(),u("div",C({class:e.cx("root")},e.ptmi("root")),[e.loading&&e.loadingMode==="mask"?(c(),u("div",C({key:0,class:e.cx("loadingOverlay")},e.ptm("loadingOverlay")),[fe(e.$slots,"loadingicon",{class:S(e.cx("loadingIcon"))},function(){return[e.loadingIcon?(c(),u("i",C({key:0,class:[e.cx("loadingIcon"),"pi-spin",e.loadingIcon]},e.ptm("loadingIcon")),null,16)):(c(),F(p,C({key:1,spin:"",class:e.cx("loadingIcon")},e.ptm("loadingIcon")),null,16,["class"]))]})],16)):K("",!0),e.filter?(c(),u("div",C({key:1,class:e.cx("filterContainer")},e.ptm("filterContainer")),[Te(o("input",C({"onUpdate:modelValue":t[0]||(t[0]=function(i){return a.filterValue=i}),type:"text",autocomplete:"off",class:e.cx("input"),placeholder:e.filterPlaceholder,onKeydown:t[1]||(t[1]=function(){return r.onFilterKeydown&&r.onFilterKeydown.apply(r,arguments)})},e.ptm("input")),null,16,Tt),[[Fe,a.filterValue]]),fe(e.$slots,"searchicon",{class:S(e.cx("searchIcon"))},function(){return[q(d,C({class:e.cx("searchIcon")},e.ptm("searchIcon")),null,16,["class"])]})],16)):K("",!0),o("div",C({class:e.cx("wrapper"),style:{maxHeight:e.scrollHeight}},e.ptm("wrapper")),[o("ul",C({class:e.cx("container"),role:"tree","aria-labelledby":e.ariaLabelledby,"aria-label":e.ariaLabel},e.ptm("container")),[(c(!0),u(B,null,z(r.valueToRender,function(i,f){return c(),F(h,{key:i.key,node:i,templates:e.$slots,level:e.level+1,index:f,expandedKeys:a.d_expandedKeys,onNodeToggle:r.onNodeToggle,onNodeClick:r.onNodeClick,selectionMode:e.selectionMode,selectionKeys:e.selectionKeys,onCheckboxChange:r.onCheckboxChange,loadingMode:e.loadingMode,unstyled:e.unstyled,pt:e.pt},null,8,["node","templates","level","index","expandedKeys","onNodeToggle","onNodeClick","selectionMode","selectionKeys","onCheckboxChange","loadingMode","unstyled","pt"])}),128))],16,At)],16)],16)}De.render=Kt;const Mt=["onClick"],Ot=["onClick"],Nt=["onClick"],$t=["onClick"],jt=["onClick"],Dt=te({__name:"SideBar",props:["chapters","courseTitle"],setup(e){const t=e,n=Ae(),l=le(),a=T(!1),r=T(),p=ne(()=>{var h;let d=t.chapters;for(let i=0;i<(d==null?void 0:d.length);i++){d[i].label=y(d[i].title),d[i].children=d[i].materials,d[i].key="k"+i.toString();for(let f=0;f<((h=d[i].children)==null?void 0:h.length);f++)d[i].children[f].label=y(d[i].children[f].title),d[i].children[f].key="k"+i.toString()+"_"+f.toString(),d[i].children[f].Id==l.params.materialId&&(r.value=Object.fromEntries(new Map([[d[i].children[f].key,!0]])))}return d});return(d,h)=>(c(),u("main",null,[o("span",{onClick:h[0]||(h[0]=i=>a.value=!a.value),class:"circle"},[o("span",{class:S(["upper-arrow",{upperArrowShrink:a.value}])},null,2),o("span",{class:S(["down-arrow",{downArrowShrink:a.value}])},null,2)]),o("div",{class:S(["container",{shrink:a.value}])},[o("h3",null,g(s(y)(e.courseTitle)),1),q(s(De),{value:p.value,class:"tree"},{default:X(i=>[o("p",{class:S(["default",{head:i.node.status=="head"}])},g(i.node.label),3)]),Quiz:X(i=>[o("p",{class:S(["unselected",{done:i.node.status=="Done",selected:i.node.Id==s(l).params.materialId}]),onClick:()=>{s(n).push(`/viewCoursePage/${s(l).params.courseId}/${s(l).params.enrollmentId}/${i.node.Id}`)}},[o("i",{class:S(i.node.matIcon)},null,2),Q(" "+g(i.node.label),1)],10,Mt)]),Lesson:X(i=>[o("p",{class:S(["unselected",{selected:i.node.Id==s(l).params.materialId,done:i.node.status=="Done"}]),onClick:()=>{s(n).push(`/viewCoursePage/${s(l).params.courseId}/${s(l).params.enrollmentId}/${i.node.Id}`)}},[o("i",{class:S(i.node.matIcon)},null,2),Q(" "+g(i.node.label),1)],10,Ot)]),Simulation:X(i=>[o("p",{class:S(["unselected",{selected:i.node.Id==s(l).params.materialId,done:i.node.status=="Done"}]),onClick:()=>{s(n).push(`/viewCoursePage/${s(l).params.courseId}/${s(l).params.enrollmentId}/${i.node.Id}`)}},[o("i",{class:S(i.node.matIcon)},null,2),Q(" "+g(i.node.label),1)],10,Nt)]),Activity:X(i=>[o("p",{class:S(["unselected",{selected:i.node.Id==s(l).params.materialId,done:i.node.status=="Done"}]),onClick:()=>{s(n).push(`/viewCoursePage/${s(l).params.courseId}/${s(l).params.enrollmentId}/${i.node.Id}`)}},[o("i",{class:S(i.node.matIcon)},null,2),Q(" "+g(i.node.label),1)],10,$t)]),Project:X(i=>[o("p",{class:S(["unselected",{selected:i.node.Id==s(l).params.materialId,done:i.node.status=="Done"}]),onClick:()=>{s(n).push(`/viewCoursePage/${s(l).params.courseId}/${s(l).params.enrollmentId}/${i.node.Id}`)}},[o("i",{class:S(i.node.matIcon)},null,2),Q(" "+g(i.node.label),1)],10,jt)]),_:1},8,["value"])],2)]))}}),Et=re(Dt,[["__scopeId","data-v-0276eda2"]]),qt={class:"container"},Pt={class:"wrapper"},Rt=["src"],Lt=te({__name:"Lesson",props:["completed"],emits:["next"],setup(e,{emit:t}){const n=t,l=le(),a=T(),r=ne(()=>l.params.materialId);pe(r,()=>{p()});const p=()=>{new U("get_lesson").callApi({lesson_id:l.params.materialId}).then(i=>{i.success&&(a.value=i.data.lesson)})};p();function d(){const h=new U("add_progress");let i={lesson_progress:{lesson_id:l.params.materialId,completed_at:new Date().toISOString()},material_type:"Lesson"};h.callApi({progres:i,enrolment_id:l.params.enrollmentId}).then(f=>{n("next",!0)})}return(h,i)=>{var f,m,w;return c(),u("main",null,[o("div",qt,[o("h2",null,g(s(y)((f=a.value)==null?void 0:f.title)),1),o("p",null,g(s(y)((m=a.value)==null?void 0:m.description)),1),o("div",Pt,[o("iframe",{src:(w=a.value)==null?void 0:w.source,frameborder:"0",sandbox:"allow-scripts allow-same-origin",allowfullscreen:""},null,8,Rt)]),q(s(G),{disabled:e.completed,icon:"pi pi-check-circle",label:s(y)(s(A).markCompleted),"icon-pos":"right",onClick:d},null,8,["disabled","label"])])])}}}),Bt=re(Lt,[["__scopeId","data-v-67a1b3cc"]]),Vt={class:"container"},Ft={style:{color:"var(--accent2)"}},zt=["src"],Qt=te({__name:"Simulation",props:["completed"],emits:["next"],setup(e,{emit:t}){const n=t,l=le(),a=T(),r=ne(()=>l.params.materialId);pe(r,()=>{p()});const p=()=>{new U("get_simulation").callApi({simulation_id:l.params.materialId}).then(f=>{f.success&&(a.value=f.data.simulation)})};p();function d(){const i=new U("add_progress");let f={simulation_progress:{simulation_id:l.params.materialId,completed_at:new Date().toISOString()},material_type:"Simulation"};i.callApi({progres:f,enrolment_id:l.params.enrollmentId}).then(m=>{n("next",!0)})}function h(i){window.open(i)}return(i,f)=>{var m,w,j;return c(),u("main",null,[o("div",Vt,[o("h2",null,g(s(y)((m=a.value)==null?void 0:m.title)),1),o("p",null,g(s(y)((w=a.value)==null?void 0:w.description)),1),o("div",{class:"wrapper",style:{cursor:"pointer"},onClick:f[0]||(f[0]=()=>{var I;h((I=a.value)==null?void 0:I.source)})},[o("h4",Ft,g(s(y)(s(A).clickToView)),1),o("img",{src:(j=a.value)==null?void 0:j.image},null,8,zt)]),q(s(G),{disabled:e.completed,icon:"pi pi-check-circle",label:s(y)(s(A).markCompleted),"icon-pos":"right",onClick:d},null,8,["disabled","label"])])])}}}),Ut=re(Qt,[["__scopeId","data-v-c2ee23fb"]]),Ht={class:"container"},Wt={class:"wrapper"},Gt=["src"],Jt=te({__name:"Project",props:["completed"],emits:["next"],setup(e,{emit:t}){const n=t,l=le(),a=T(),r=ne(()=>l.params.materialId);pe(r,()=>{p()});const p=()=>{new U("get_project").callApi({project_id:l.params.materialId}).then(i=>{i.success&&(a.value=i.data.project)})};p();function d(){const h=new U("add_progress");let i={project_progress:{project_id:l.params.materialId,completed_at:new Date().toISOString()},material_type:"Project"};h.callApi({progres:i,enrolment_id:l.params.enrollmentId}).then(f=>{n("next",!0)})}return(h,i)=>{var f,m,w;return c(),u("main",null,[o("div",Ht,[o("h2",null,g(s(y)((f=a.value)==null?void 0:f.title)),1),o("p",null,g(s(y)((m=a.value)==null?void 0:m.description)),1),o("div",Wt,[o("iframe",{src:(w=a.value)==null?void 0:w.source,frameborder:"0",sandbox:"allow-scripts allow-same-origin",allowfullscreen:""},null,8,Gt)]),q(s(G),{disabled:e.completed,icon:"pi pi-check-circle",label:s(y)(s(A).markCompleted),"icon-pos":"right",onClick:d},null,8,["disabled","label"])])])}}}),Xt=re(Jt,[["__scopeId","data-v-01e185e1"]]),Yt={class:"container"},Zt={key:0},en={class:"wrapper"},tn={key:0,class:"images"},nn=["src"],ln={key:1,class:"items"},rn={class:"item"},an=["onClick"],sn={class:"allitems"},on={key:0,class:"items"},cn={key:0,class:"images"},dn=["src"],un={class:"item"},hn={key:0},pn=["src"],fn={key:1,class:"images"},mn=["src"],gn={key:2,class:"images"},yn=["src"],vn=te({__name:"Activity",props:["completed"],emits:["next"],setup(e,{emit:t}){const n=t,l=le(),a=T(),r=T(A),p=ne(()=>l.params.materialId);pe(p,()=>{d()});const d=()=>{new U("get_activity").callApi({activity_id:l.params.materialId}).then(w=>{w.success&&(a.value=w.data.activity)})};d();function h(){const m=new U("add_progress");let w={activity_progress:{activity_id:l.params.materialId,completed_at:new Date().toISOString()},material_type:"Activity"};m.callApi({progres:w,enrolment_id:l.params.enrollmentId}).then(j=>{n("next",!0)})}const i=["objectives","terms_concepts","materials","instructions","results","conclusions"];function f(m){window.open(m)}return(m,w)=>{var j,I,D,V,P,H,M,b,O;return c(),u("main",null,[o("div",Yt,[o("h2",null,g(s(y)((j=a.value)==null?void 0:j.title)),1),(I=a.value)!=null&&I.description?(c(),u("p",Zt,g(s(y)((D=a.value)==null?void 0:D.description)),1)):K("",!0),o("div",en,[(V=a.value)!=null&&V.start_images?(c(),u("div",tn,[(c(!0),u(B,null,z((P=a.value)==null?void 0:P.start_images,v=>(c(),u("img",{src:v,alt:""},null,8,nn))),256))])):K("",!0),(H=a.value)!=null&&H.sources?(c(),u("div",ln,[o("h3",null,g(s(y)(s(A).sources)),1),(c(!0),u(B,null,z((M=a.value)==null?void 0:M.sources,(v,N)=>(c(),u("div",rn,[o("p",{style:{color:"var(--secondary)",cursor:"pointer"},onClick:()=>{f(v)}},g(s(y)(s(A).source))+" "+g(N+1),9,an)]))),256))])):K("",!0),(c(),u(B,null,z(i,v=>{var N,_,R,E,L,k,x,ae,ie,se,oe,W;return o("div",sn,[(N=a.value)!=null&&N[v]?(c(),u("div",on,[(R=(_=a.value)==null?void 0:_[v])!=null&&R.start_images?(c(),u("div",cn,[(c(!0),u(B,null,z((L=(E=a.value)==null?void 0:E[v])==null?void 0:L.start_images,$=>(c(),u("img",{src:$,alt:""},null,8,dn))),256))])):K("",!0),o("h3",null,g(s(y)((k=r.value)==null?void 0:k[v])),1),(c(!0),u(B,null,z((ae=(x=a.value)==null?void 0:x[v])==null?void 0:ae.items,$=>(c(),u("div",un,[o("p",null,[o("span",{class:S({terms:v=="terms_concepts"})}," - "+g(s(y)($.text)),3),$.description?(c(),u("span",hn,": "+g(s(y)($.description)),1)):K("",!0)]),$!=null&&$.image?(c(),u("img",{key:0,src:$==null?void 0:$.image,alt:""},null,8,pn)):K("",!0)]))),256)),(se=(ie=a.value)==null?void 0:ie[v])!=null&&se.end_images?(c(),u("div",fn,[(c(!0),u(B,null,z((W=(oe=a.value)==null?void 0:oe[v])==null?void 0:W.end_images,$=>(c(),u("img",{src:$,alt:""},null,8,mn))),256))])):K("",!0)])):K("",!0)])}),64)),(b=a.value)!=null&&b.end_images?(c(),u("div",gn,[(c(!0),u(B,null,z((O=a.value)==null?void 0:O.end_images,v=>(c(),u("img",{src:v,alt:""},null,8,yn))),256))])):K("",!0)]),q(s(G),{disabled:e.completed,icon:"pi pi-check-circle",label:s(y)(s(A).markCompleted),"icon-pos":"right",onClick:h},null,8,["disabled","label"])])])}}}),bn=re(vn,[["__scopeId","data-v-4a405cd3"]]);var kn={root:function(t){var n=t.instance;return["p-progressbar p-component",{"p-progressbar-determinate":n.determinate,"p-progressbar-indeterminate":n.indeterminate}]},container:"p-progressbar-indeterminate-container",value:"p-progressbar-value p-progressbar-value-animate",label:"p-progressbar-label"},_n=_e.extend({name:"progressbar",classes:kn}),Cn={name:"BaseProgressBar",extends:me,props:{value:{type:Number,default:null},mode:{type:String,default:"determinate"},showValue:{type:Boolean,default:!0}},style:_n,provide:function(){return{$parentInstance:this}}},Ee={name:"ProgressBar",extends:Cn,inheritAttrs:!1,computed:{progressStyle:function(){return{width:this.value+"%",display:"flex"}},indeterminate:function(){return this.mode==="indeterminate"},determinate:function(){return this.mode==="determinate"}}},wn=["aria-valuenow"];function In(e,t,n,l,a,r){return c(),u("div",C({role:"progressbar",class:e.cx("root"),"aria-valuemin":"0","aria-valuenow":e.value,"aria-valuemax":"100"},e.ptmi("root")),[r.determinate?(c(),u("div",C({key:0,class:e.cx("value"),style:r.progressStyle},e.ptm("value")),[e.value!=null&&e.value!==0&&e.showValue?(c(),u("div",C({key:0,class:e.cx("label")},e.ptm("label")),[fe(e.$slots,"default",{},function(){return[Q(g(e.value+"%"),1)]})],16)):K("",!0)],16)):K("",!0),r.indeterminate?(c(),u("div",C({key:1,class:e.cx("container")},e.ptm("container")),[o("div",C({class:e.cx("value")},e.ptm("value")),null,16)],16)):K("",!0)],16,wn)}Ee.render=In;const Sn={class:"container"},xn={class:"wrapper"},Tn={key:0},An={style:{"text-align":"center",color:"var(--accent1)"}},Kn={class:"count-down"},Mn={key:1,class:"question-wrapper"},On={class:"quiz-duration"},Nn={style:{width:"fit-content"}},$n={style:{direction:"ltr"}},jn={key:0},Dn={key:0,class:"question"},En={class:"question-order"},qn={class:"question-text"},Pn={class:"choices-wrapper"},Rn=["onClick"],Ln={class:"controls"},Bn={class:"dialog-wrapper",style:{display:"flex","align-items":"center","flex-direction":"column"}},Vn={key:0,class:"score"},Fn={key:0,class:"interaction",src:"https://i.pinimg.com/originals/56/da/ac/56daac56f90ba6cf039125586181f6ea.gif",alt:""},zn={key:1,class:"interaction",src:"https://img.freepik.com/free-vector/hand-drawn-facepalm-illustration_23-2150212662.jpg?t=st=1720110311~exp=1720113911~hmac=f9f12f7c863341a0acb15d0ec44f785e42038ebf827f157f7863f0ea96805826&w=826",alt:""},Qn={key:1,class:"answers"},Un={class:"question",style:{"min-height":"2rem"}},Hn={class:"question-order"},Wn={class:"question-text"},Gn={class:"choices-wrapper"},Jn={class:"quiz-duration"},Xn={key:0},Yn={class:"controls"},Zn=te({__name:"Quiz2",emits:["next"],setup(e){const t=le(),n=T(!0),l=T(0),a=T(0),r=T(0),p=T(0),d=T(!1),h=T(!0),i=T(0),f=ne(()=>t.params.materialId);pe(f,()=>{w()});const m=T(),w=()=>{new U("get_quiz").callApi({quiz_id:t.params.materialId}).then(b=>{var O,v,N,_;if(b.success&&(m.value=b.data.quiz,(O=m.value)!=null&&O.questions))for(let R of(v=m.value)==null?void 0:v.questions){const E=T(!1),L=T(-1);R.showAnswer=E,R.selected=L}i.value=Math.floor(100/((_=(N=m.value)==null?void 0:N.questions)==null?void 0:_.length)),P()})};w(),setInterval(()=>{h.value||(a.value=a.value+1)},1e3);function j(){l.value=3;const M=setInterval(()=>{l.value==0&&(clearInterval(M),n.value=!1,I()),l.value=l.value-1},1e3)}function I(){a.value=0,h.value=!1}const D=T(!1);d.value=!1;function V(){var v,N;h.value=!0,D.value=!0;for(let _ of(v=m.value)==null?void 0:v.questions)(_==null?void 0:_.correct_answer_id)==(_==null?void 0:_.selected)&&p.value++;const M=new U("add_progress");let b=[];for(let _ of(N=m.value)==null?void 0:N.questions)(_==null?void 0:_.selected)!=-1&&b.push({question_id:_==null?void 0:_.id,choice_id:_==null?void 0:_.selected});let O={quiz_progress:{quiz_id:t.params.materialId,time_taken:a.value,created_at:new Date().toISOString(),answers:b},material_type:"Quiz"};M.callApi({progres:O,enrolment_id:t.params.enrollmentId})}function P(){var M,b,O,v;if(n.value=!0,l.value=3,r.value=0,p.value=0,d.value=!1,h.value=!0,D.value=!1,i.value=0,i.value=Math.floor(100/((b=(M=m.value)==null?void 0:M.questions)==null?void 0:b.length)),(O=m.value)!=null&&O.questions)for(let N of(v=m.value)==null?void 0:v.questions)N.selected=-1;j()}function H(){var N,_;let M=10,b=i.value,O=Math.floor((r.value+1)/((_=(N=m.value)==null?void 0:N.questions)==null?void 0:_.length)*100),v=10;for(let R=0;R<=v;R++)setTimeout(()=>{i.value=Math.floor(b+(O-b)/v*R)},M*R)}return(M,b)=>{var O,v,N,_,R;return c(),u("main",null,[o("div",Sn,[o("h2",null,g(s(y)((O=m.value)==null?void 0:O.title)),1),o("p",null,g(s(y)((v=m.value)==null?void 0:v.description)),1),o("div",xn,[n.value?(c(),u("div",Tn,[o("h1",An,g(s(y)(s(A).quizWillStart)),1),o("h1",Kn,g(l.value),1)])):(c(),u("div",Mn,[o("div",On,[o("span",Nn,[Q(g(s(y)(s(A).yourTime))+" ",1),o("strong",$n,[Q(g(Math.floor(a.value/60))+": ",1),a.value%60<10?(c(),u("strong",jn,"0")):K("",!0),Q(g(a.value%60),1)])])]),(c(!0),u(B,null,z((N=m.value)==null?void 0:N.questions,(E,L)=>(c(),u("div",{key:E},[L==r.value?(c(),u("div",Dn,[q(s(Ee),{style:{width:"75%","margin-bottom":"1rem"},value:i.value},null,8,["value"]),o("h3",En,g(s(y)(s(A).question))+" "+g(L+1),1),o("h4",qn,g(s(y)(E==null?void 0:E.question)),1),o("div",Pn,[(c(!0),u(B,null,z(E==null?void 0:E.choices,k=>(c(),u("p",{class:S(["choice-text",{selectedChoice:m.value.questions[L].selected==k.id}]),key:k,onClick:()=>{m.value.questions[L].selected=k.id}},g(s(y)(k.choice)),11,Rn))),128))])])):K("",!0)]))),128)),o("div",Ln,[q(s(G),{label:s(y)(s(A).prevQuestion),disabled:r.value==0,onClick:b[0]||(b[0]=()=>{r.value--,H()})},null,8,["label","disabled"]),q(s(G),{label:s(y)(s(A).finishQuiz),onClick:V},null,8,["label"]),q(s(G),{label:s(y)(s(A).nextQuestion),disabled:r.value+1==((R=(_=m.value)==null?void 0:_.questions)==null?void 0:R.length),onClick:b[1]||(b[1]=()=>{r.value++,H()})},null,8,["label","disabled"])])]))])]),q(s(ze),{visible:D.value,"onUpdate:visible":b[4]||(b[4]=E=>D.value=E),modal:"",class:"dialog",style:{"max-width":"75%"},pt:{root:"border-none",mask:{style:"backdrop-filter: blur(2px)"}}},{container:X(({closeCallback:E})=>{var L,k,x,ae,ie,se,oe;return[o("div",Bn,[d.value?(c(),u("div",Qn,[(c(!0),u(B,null,z((oe=m.value)==null?void 0:oe.questions,(W,$)=>(c(),u("div",{key:W},[o("div",Un,[o("h4",Hn,g(s(y)(s(A).question))+" "+g($+1),1),o("h4",Wn,g(s(y)(W==null?void 0:W.question)),1),o("div",Gn,[(c(!0),u(B,null,z(W==null?void 0:W.choices,ce=>(c(),u("p",{class:S(["choice-text",{correct:ce.id==m.value.questions[$].correct_answer_id,selectedChoice:m.value.questions[$].selected==ce.id,wrong:m.value.questions[$].selected!=m.value.questions[$].correct_answer_id&&m.value.questions[$].selected==ce.id}]),key:ce,style:{cursor:"auto"}},g(s(y)(ce.choice)),3))),128))])])]))),128))])):(c(),u("div",Vn,[o("p",null,g(s(y)(s(A).yourScore)),1),o("p",null,g(Math.floor(p.value/((k=(L=m.value)==null?void 0:L.questions)==null?void 0:k.length)*100))+"%",1),p.value/((ae=(x=m.value)==null?void 0:x.questions)==null?void 0:ae.length)>.9?(c(),u("img",Fn)):K("",!0),p.value/((se=(ie=m.value)==null?void 0:ie.questions)==null?void 0:se.length)<.5?(c(),u("img",zn)):K("",!0)])),o("div",Jn,[o("span",null,[Q(g(s(y)(s(A).yourTime))+" ",1),o("strong",null,[Q(g(Math.floor(a.value/60))+": ",1),a.value%60<10?(c(),u("strong",Xn,"0")):K("",!0),Q(g(a.value%60),1)])])]),o("div",Yn,[q(s(G),{label:s(y)(s(A).showAnswer),onClick:b[2]||(b[2]=W=>d.value=!0)},null,8,["label"]),q(s(G),{label:s(y)(s(A).tryAgain),onClick:P},null,8,["label"]),q(s(G),{label:s(y)(s(A).nextLesson),onClick:b[3]||(b[3]=W=>M.$emit("next",!0))},null,8,["label"])])])]}),_:1},8,["visible","pt"])])}}}),el=re(Zn,[["__scopeId","data-v-106e0e1b"]]),tl={class:"container"},nl={class:"sidebar"},ll={class:"wrapper"},rl={class:"Button-Wrapper"},al=te({__name:"viewCoursePage",setup(e){const t=T(),n=T(),l=le(),a=Ae();new U("get_enrollment").callApi({course_id:l.params.courseId}).then(f=>{f.success==!1&&a.push("/")}),(async()=>{new U("get_course").callApi({course_id:l.params.courseId}).then(m=>{if(m.success){t.value=m.data.course.chapters,n.value=m.data.course.title;for(let w of t.value)for(let j=0;j<w.materials.length;j++)for(let I of Qe)w.materials[j].type===I.name&&(w.materials[j].matIcon=I.icon)}})})();const d=ne(()=>{var j;const f=T();new U("get_enrollment").callApi({course_id:l.params.courseId}).then(I=>{var D,V,P,H,M,b,O,v,N,_,R,E;if(I.success){f.value=(V=(D=I==null?void 0:I.data)==null?void 0:D.enrollment)==null?void 0:V.progress;for(let L of t.value)for(let k of L==null?void 0:L.materials)(H=(P=f.value)==null?void 0:P.lessons_completed)!=null&&H.some(x=>(x==null?void 0:x.lesson_id)==(k==null?void 0:k.Id))||(b=(M=f.value)==null?void 0:M.quizes_completed)!=null&&b.some(x=>(x==null?void 0:x.quiz_id)==(k==null?void 0:k.Id))||(v=(O=f.value)==null?void 0:O.activities_completed)!=null&&v.some(x=>(x==null?void 0:x.activity_id)==(k==null?void 0:k.Id))||(_=(N=f.value)==null?void 0:N.simulations_completed)!=null&&_.some(x=>(x==null?void 0:x.simulation_id)==(k==null?void 0:k.Id))||(E=(R=f.value)==null?void 0:R.projects_completed)!=null&&E.some(x=>(x==null?void 0:x.project_id)==(k==null?void 0:k.Id))?k.status="Done":k.status="Unselected"}});let w=l.params.materialId;for(let I=0;I<((j=t.value)==null?void 0:j.length);I++){const D=t.value[I];for(let V=0;V<D.materials.length;V++){const P=D.materials[V];if(P.Id===w){let H=null,M=null;if(V>0)H=D.materials[V-1].Id;else if(I>0){const v=t.value[I-1];H=v.materials[v.materials.length-1].Id}if(V<D.materials.length-1)M=D.materials[V+1].Id;else if(I<t.value.length-1){const v=t.value[I+1];v.materials.length>0&&(M=v.materials[0].Id)}let b,O=!1;return P.type==="Lesson"&&(b=Bt),P.type==="Simulation"&&(b=Ut),P.type==="Project"&&(b=Xt),P.type==="Activity"&&(b=bn),P.status=="Done"&&(O=!0),P.type==="Quiz"&&(b=el),{type:b,prevMaterialId:H,nextMaterialId:M,isCompleted:O}}}}return null});function h(){d.value&&d.value.prevMaterialId&&a.push(`/viewCoursePage/${l.params.courseId}/${l.params.enrollmentId}/${d.value.prevMaterialId}`)}function i(){d.value&&d.value.nextMaterialId&&a.push(`/viewCoursePage/${l.params.courseId}/${l.params.enrollmentId}/${d.value.nextMaterialId}`)}return(f,m)=>{var w,j,I,D;return c(),u("main",null,[q(Ue),o("div",tl,[o("div",nl,[q(Et,{chapters:t.value,"course-title":n.value},null,8,["chapters","course-title"])]),o("div",ll,[(c(),F(J((w=d.value)==null?void 0:w.type),{onNext:i,completed:(j=d.value)==null?void 0:j.isCompleted},null,40,["completed"])),o("div",rl,[q(s(G),{label:s(y)(s(A).prev),class:S({hide:!((I=d.value)!=null&&I.prevMaterialId)}),onClick:h},null,8,["label","class"]),q(s(G),{label:s(y)(s(A).next),class:S({hide:!((D=d.value)!=null&&D.nextMaterialId)}),onClick:i},null,8,["label","class"])])])])])}}}),ol=re(al,[["__scopeId","data-v-f6043222"]]);export{ol as default};
