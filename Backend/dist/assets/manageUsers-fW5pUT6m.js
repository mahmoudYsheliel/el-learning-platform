import{A as H}from"./AdminSidebar-BWIgpVx6.js";import{d as B,r as w,H as E,D as V,o as d,c as m,e as l,z as q,w as R,x as S,t as o,g as P,_ as L,h as W,b as I,G as z,N as Y,F as J}from"./index-BsXmYjyP.js";const K={class:"options-container"},O={key:0,class:"table"},Q={class:"userRow row"},X={style:{color:"var(--text)"}},Z={key:1,class:"table"},j={class:"parentRow row"},b={style:{color:"var(--text)"}},tt={style:{"padding-block":"0.5rem"}},lt={key:2,class:"table"},et={class:"childRow row"},nt={style:{color:"var(--text)"}},at=B({__name:"ParentChild",setup(U){function C(s){const a=new Date(s),t=a.getFullYear(),e=(a.getMonth()+1).toString().padStart(2,"0"),u=a.getDate().toString().padStart(2,"0");return`${t}-${e}-${u}`}const g=w(),_=w(),p=w();new E("get_all_users").callApi().then(s=>{var a,t,e;s!=null&&s.success&&(g.value=(a=s==null?void 0:s.data)==null?void 0:a.parents,_.value=(t=s==null?void 0:s.data)==null?void 0:t.children,p.value=(e=s==null?void 0:s.data)==null?void 0:e.users)});const F=w();new E("get_all_program").callApi().then(s=>{var a;s!=null&&s.success&&(F.value=(a=s==null?void 0:s.data)==null?void 0:a.program)});const N=w("parent"),x=V(()=>{var a,t,e,u,y,$,A;let s=[];for(let h=0;h<((a=g.value)==null?void 0:a.length);h++){let i=(t=g.value[h])==null?void 0:t.user_id,n=p.value.find(f=>(f==null?void 0:f.id)==i),r=[];for(let f=0;f<((u=(e=g.value[h])==null?void 0:e.children)==null?void 0:u.length);f++){let v=(y=g.value[h])==null?void 0:y.children[f],c=p.value.find(k=>(k==null?void 0:k.id)==v);r.push(c==null?void 0:c.email)}let T={email:n==null?void 0:n.email,firstName:n==null?void 0:n.first_name,lastName:n==null?void 0:n.last_name,phoneNumber:n==null?void 0:n.phone_number,createdAt:n==null?void 0:n.created_at,location:($=g.value[h])==null?void 0:$.location,job:(A=g.value[h])==null?void 0:A.job,children:r};s.push(T)}return s}),D=V(()=>{var a,t,e,u,y,$,A,h;let s=[];for(let i=0;i<((a=_.value)==null?void 0:a.length);i++){let n=(t=_.value[i])==null?void 0:t.user_id,r=p.value.find(v=>(v==null?void 0:v.id)==n),T=(e=p.value.find(v=>{var c;return((c=g.value.find(k=>{var M;return(M=k==null?void 0:k.children)==null?void 0:M.includes(n)}))==null?void 0:c.user_id)==(v==null?void 0:v.id)}))==null?void 0:e.email,f={email:r==null?void 0:r.email,firstName:r==null?void 0:r.first_name,lastName:r==null?void 0:r.last_name,phoneNumber:r==null?void 0:r.phone_number,createdAt:r==null?void 0:r.created_at,grade:(u=_.value[i])==null?void 0:u.grade,program:(A=($=(y=F.value)==null?void 0:y.find(v=>{var c;return(v==null?void 0:v.id)==((c=_.value[i])==null?void 0:c.child_group)}))==null?void 0:$.title)==null?void 0:A.en,education_system:(h=_.value[i])==null?void 0:h.education_system,parentEmail:T};s.push(f)}return s});return(s,a)=>(d(),m(R,null,[l("div",K,[l("p",{onClick:a[0]||(a[0]=t=>N.value="parent"),class:q({selected:N.value=="parent"})}," Parents ",2),l("p",{onClick:a[1]||(a[1]=t=>N.value="child"),class:q({selected:N.value=="child"})}," Children ",2),l("p",{onClick:a[2]||(a[2]=t=>N.value="user"),class:q({selected:N.value=="user"})}," Users ",2)]),N.value=="user"?(d(),m("div",O,[a[3]||(a[3]=l("div",{class:"userRow row first"},[l("h3",null,"#"),l("h3",null,"Email"),l("h3",null,"First Name"),l("h3",null,"Last Name"),l("h3",null,"User Type"),l("h3",null,"Phone Number"),l("h3",null,"Creation Date")],-1)),(d(!0),m(R,null,S(p.value,(t,e)=>(d(),m("div",Q,[l("span",X,o(e+1),1),l("span",null,o(t==null?void 0:t.email),1),l("span",null,o(t==null?void 0:t.first_name),1),l("span",null,o(t==null?void 0:t.last_name),1),l("span",null,o(t==null?void 0:t.user_type),1),l("span",null,o(t==null?void 0:t.phone_number),1),l("span",null,o(C(t==null?void 0:t.created_at)),1)]))),256))])):P("",!0),N.value=="parent"?(d(),m("div",Z,[a[4]||(a[4]=l("div",{class:"parentRow row first"},[l("h3",null,"#"),l("h3",null,"Email"),l("h3",null,"First Name"),l("h3",null,"Last Name"),l("h3",null,"Phone Number"),l("h3",null,"Location"),l("h3",null,"Job"),l("h3",null,"Creation Date"),l("h3",null,"Children Emails")],-1)),(d(!0),m(R,null,S(x.value,(t,e)=>(d(),m("div",j,[l("span",b,o(e+1),1),l("span",null,o(t==null?void 0:t.email),1),l("span",null,o(t==null?void 0:t.firstName),1),l("span",null,o(t==null?void 0:t.lastName),1),l("span",null,o(t==null?void 0:t.phoneNumber),1),l("span",null,o(t==null?void 0:t.location),1),l("span",null,o(t==null?void 0:t.job),1),l("span",null,o(C(t==null?void 0:t.createdAt)),1),l("span",tt,[(d(!0),m(R,null,S(t.children,u=>(d(),m("p",null,o(u),1))),256))])]))),256))])):P("",!0),N.value=="child"?(d(),m("div",lt,[a[5]||(a[5]=l("div",{class:"childRow row first"},[l("h3",null,"#"),l("h3",null,"Email"),l("h3",null,"First Name"),l("h3",null,"Last Name"),l("h3",null,"Grade"),l("h3",null,"Program"),l("h3",null,"Education System"),l("h3",null,"Parent Email"),l("h3",null,"Creation Date")],-1)),(d(!0),m(R,null,S(D.value,(t,e)=>(d(),m("div",et,[l("span",nt,o(e+1),1),l("span",null,o(t==null?void 0:t.email),1),l("span",null,o(t==null?void 0:t.firstName),1),l("span",null,o(t==null?void 0:t.lastName),1),l("span",null,o(t==null?void 0:t.grade),1),l("span",null,o(t==null?void 0:t.program),1),l("span",null,o(t==null?void 0:t.education_system),1),l("span",null,o(t==null?void 0:t.parentEmail),1),l("span",null,o(C(t==null?void 0:t.createdAt)),1)]))),256))])):P("",!0)],64))}}),st=L(at,[["__scopeId","data-v-76c4ec9a"]]),ot={class:"table"},it={class:"row first"},ut={class:"row"},rt={style:{color:"var(--text)"}},dt=B({__name:"ChildCourse",setup(U){function C(t){const e=new Date(t),u=e.getFullYear(),y=(e.getMonth()+1).toString().padStart(2,"0"),$=e.getDate().toString().padStart(2,"0");return`${u}-${y}-${$}`}const g=w(),_=w(),p=w();new E("get_all_users").callApi().then(t=>{var e;t!=null&&t.success&&(_.value=(e=t==null?void 0:t.data)==null?void 0:e.users)}),new E("get_courses").callApi().then(t=>{var e;t!=null&&t.success&&(g.value=(e=t==null?void 0:t.data)==null?void 0:e.courses)}),new E("get_admin_enrollments").callApi().then(t=>{var e;t!=null&&t.success&&(p.value=(e=t==null?void 0:t.data)==null?void 0:e.enrollments)});const x=w("course"),D=w(!1),s=V(()=>{var e,u,y,$,A,h;let t=[];for(let i=0;i<((e=p.value)==null?void 0:e.length);i++){let n=(u=p.value[i])==null?void 0:u.student_id,r=(y=_.value)==null?void 0:y.find(c=>(c==null?void 0:c.id)==n),T=($=p.value[i])==null?void 0:$.course_id,f=g.value.find(c=>(c==null?void 0:c.id)==T),v={email:r==null?void 0:r.email,createdAt:(A=p.value[i])==null?void 0:A.created_at,courseTiltla:(h=f==null?void 0:f.title)==null?void 0:h.en};t.push(v)}return x.value=="child"&&t.sort((i,n)=>(i==null?void 0:i.email)>(n==null?void 0:n.email)?-1:(n==null?void 0:n.email)>(i==null?void 0:i.email)?1:0),x.value=="course"&&t.sort((i,n)=>(i==null?void 0:i.courseTiltla)>(n==null?void 0:n.courseTiltla)?-1:(n==null?void 0:n.courseTiltla)>(i==null?void 0:i.courseTiltla)?1:0),D.value&&t.reverse(),t});function a(t){D.value=!D.value,x.value=t}return(t,e)=>(d(),m("div",ot,[l("div",it,[e[4]||(e[4]=l("h3",null,"#",-1)),l("h3",{onClick:e[0]||(e[0]=()=>{a("child")}),style:{cursor:"pointer"}},e[2]||(e[2]=[W(" Email "),l("i",{class:"pi pi-sort-alt"},null,-1)])),l("h3",{onClick:e[1]||(e[1]=()=>{a("course")}),style:{cursor:"pointer"}},e[3]||(e[3]=[W(" Course Title "),l("i",{class:"pi pi-sort-alt"},null,-1)])),e[5]||(e[5]=l("h3",null,"Creation Date",-1))]),(d(!0),m(R,null,S(s.value,(u,y)=>(d(),m("div",ut,[l("span",rt,o(y+1),1),l("span",null,o(u==null?void 0:u.email),1),l("span",null,o(u==null?void 0:u.courseTiltla),1),l("span",null,o(C(u==null?void 0:u.createdAt)),1)]))),256))]))}}),ct=L(dt,[["__scopeId","data-v-0ce709e6"]]),mt={class:"container"},vt={class:"wrapper"},_t={class:"options-container"},pt={class:"content"},ht=B({__name:"manageUsers",setup(U){const C=w("parentChild");return(g,_)=>(d(),m(R,null,[I(Y),l("div",mt,[I(H,{class:"sidebar",selected:"Manage Users"}),l("div",vt,[l("div",_t,[l("p",{onClick:_[0]||(_[0]=p=>C.value="parentChild"),class:q({selected:C.value=="parentChild"})}," Parent Child ",2),l("p",{onClick:_[1]||(_[1]=p=>C.value="childCourse"),class:q({selected:C.value=="childCourse"})}," Child Course ",2)]),l("div",pt,[C.value=="parentChild"?(d(),z(st,{key:0})):P("",!0),C.value=="childCourse"?(d(),z(ct,{key:1})):P("",!0)])])]),I(J)],64))}}),gt=L(ht,[["__scopeId","data-v-a57fe6d7"]]);export{gt as default};
