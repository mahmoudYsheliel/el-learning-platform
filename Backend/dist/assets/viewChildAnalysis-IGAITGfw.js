import{P as w,_ as P}from"./PrintReport-BDA6EBv7.js";import{d as R,a as b,r as _,a0 as N,c as S,b as c,e as s,f as p,v as k,i as A,H as D,o as E,N as O,s as H,k as x,m as B,F,p as G,n as L,_ as M}from"./index-DnDwTmGv.js";import{E as T,h as f}from"./html2canvas.esm-LZro5qEj.js";import"./progressbar.esm-x5vqiNXo.js";const g=r=>(G("data-v-699f565d"),r=r(),L(),r),U={class:"container"},W=g(()=>s("img",{src:P,alt:""},null,-1)),j=g(()=>s("div",{class:"report_title"},[s("h2",{style:{color:"black"}},"IQ SCORE REPORT"),s("h4",{style:{color:"var(--accent1)"}},"TRACE EDUCATION COMPANY")],-1)),q=[W,j],V={class:"wrapper"},z={style:{display:"flex","justify-content":"end"}},Q=R({__name:"viewChildAnalysis",setup(r){const v=b(),u=_(),d=_(),y=A();N(()=>{var a;u.value=(a=v.getInfo)==null?void 0:a.id});async function C(a){const e=new T,i=1;let h=0;if(!d.value)return;await f(d.value,{scale:i,useCORS:!0}).then(t=>{if(!d.value)return;const n=t.toDataURL("image/png"),l=210,o=t.height*l/t.width;h=o,e.addImage(n,"PNG",0,0,l,o)});for(let t=0;t<a.length;t++)await f(a[t],{scale:i,useCORS:!0}).then(n=>{const l=n.toDataURL("image/png"),o=210,m=n.height*o/n.width;t==0?e.addImage(l,"PNG",0,h+10,o,m):e.addImage(l,"PNG",0,0,o,m),t!=a.length-1&&e.addPage()});const I=e.output("datauristring");new D("send_page").callApi({request:{html_content:"",image_base64:I,recipient:"s-mahmoud.sheliel@zewailcity.edu.eg",subject:"Webpage PDF",body:"str"}})}return(a,e)=>(E(),S(k,null,[c(O,{class:"no_print"}),s("div",U,[s("div",{class:"report_header",ref_key:"file",ref:d},q,512),s("div",V,[c(w,{class:"print_only","child-id":u.value,onSections:e[0]||(e[0]=i=>{C(i)})},null,8,["child-id"])]),s("div",z,[c(p(B),{label:p(H)(p(x).returnHome),icon:"pi pi-home",onClick:e[1]||(e[1]=i=>p(y).push("/"))},null,8,["label"])])]),c(F,{class:"no_print"})],64))}}),X=M(Q,[["__scopeId","data-v-699f565d"]]);export{X as default};
