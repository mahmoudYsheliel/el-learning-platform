import{d as k,c as w,e as l,t as o,f as e,q as y,v as S,h as P,o as p,s as a,k as c,p as Y,m as Z,_ as q,y as T,A as B,i as W,b as v,l as R,B as ee,g as U,C as le,z as oe,a as te,r as f,H as E,D as se,x as ae,N as ne,F as ie}from"./index-CfZpnbSe.js";import{A as re,E as ue,G as ce,P as de}from"./PromoCodeDialog-vAQieC6p.js";import{s as pe,a as me}from"./accordiontab.esm-DRABTWP8.js";import"./inputtext.esm-mBXOcNnC.js";const M=t=>(Y("data-v-6257b6ac"),t=t(),Z(),t),he={class:"container"},ve={class:"wrapper"},_e={class:"wrapper"},ge={class:"wrapper"},fe=M(()=>l("i",{class:"pi pi-clock"},null,-1)),we={class:"wrapper"},Ie=M(()=>l("i",{class:"pi pi-angle-double-up"},null,-1)),Ce={class:"wrapper"},be=M(()=>l("i",{class:"pi pi-dollar"},null,-1)),De=k({__name:"Information",props:["title","price","categories","min_age","max_age","duration"],setup(t){return(C,_)=>(p(),w("main",null,[l("div",he,[l("h2",null,o(e(a)(e(c).courseInfo)),1),l("div",ve,[l("h4",null,o(e(a)(e(c).title)),1),l("p",null,o(t.title),1)]),l("div",_e,[l("h4",null,o(e(a)(e(c).categories)),1),(p(!0),w(y,null,S(t.categories,n=>(p(),w("p",null,o(e(a)(n.title)),1))),256))]),l("div",ge,[l("h4",null,[P(o(e(a)(e(c).duration)),1),fe]),l("p",null,o(t.duration)+" "+o(e(a)(e(c).days)),1)]),l("div",we,[l("h4",null,[P(o(e(a)(e(c).age)),1),Ie]),l("p",null,o(t.min_age)+" - "+o(t.max_age)+" "+o(e(a)(e(c).years)),1)]),l("div",Ce,[l("h4",null,[P(o(e(a)(e(c).price)),1),be]),l("p",null,o(t.price)+" L.E",1)])])]))}}),$e=q(De,[["__scopeId","data-v-6257b6ac"]]),ye={class:"dialog"},ke=k({__name:"CourseBelongsToPlanDialog",props:["showDialog","planId","childId"],setup(t){const C=W(),_=t;return(n,g)=>(p(),T(e(ee),{visible:_.showDialog,"onUpdate:visible":g[1]||(g[1]=i=>_.showDialog=i),modal:"",pt:{root:"border-none",mask:{style:"backdrop-filter: blur(2px)"}}},{container:B(({closeCallback:i})=>[l("div",ye,[l("h2",null,o(e(a)(e(c).courseBelongsToPlan)),1),v(e(R),{label:e(a)(e(c).viewPlans),style:{width:"10rem"},onClick:g[0]||(g[0]=b=>e(C).push(`/plan/${t.planId}/${t.childId}`))},null,8,["label"])])]),_:1},8,["visible","pt"]))}}),qe=q(ke,[["__scopeId","data-v-004f4601"]]),xe={class:"course-description"},Ee={class:"head"},Pe=["src"],Be={class:"description"},Se={class:"header"},Te={class:"objectives"},ze=k({__name:"CourseDescribtion",props:["course","isEnrolled","notShowButton"],emits:["enroll","viewMaterial"],setup(t,{emit:C}){return(_,n)=>{var g,i,b,D;return p(),w("div",xe,[l("div",Ee,[l("h1",null,o(e(a)((g=t.course)==null?void 0:g.title)),1)]),l("img",{src:(i=t.course)==null?void 0:i.image,alt:""},null,8,Pe),l("div",Be,[l("div",Se,[l("h2",null,o(e(a)(e(c).courseDescription)),1),!t.isEnrolled&&!t.notShowButton?(p(),T(e(R),{key:0,label:e(a)(e(c).enrollNow),onClick:n[0]||(n[0]=()=>{_.$emit("enroll")})},null,8,["label"])):U("",!0),t.isEnrolled&&!t.notShowButton?(p(),T(e(R),{key:1,label:e(a)(e(c).viewMat),onClick:n[1]||(n[1]=()=>{_.$emit("viewMaterial")})},null,8,["label"])):U("",!0)]),l("p",null,o(e(a)((b=t.course)==null?void 0:b.description)),1)]),l("div",Te,[l("h2",null,o(e(a)(e(c).courseObjectives)),1),(p(!0),w(y,null,S((D=t.course)==null?void 0:D.objectives,x=>(p(),w("p",null," - "+o(e(a)(x)),1))),256))])])}}}),Ae=q(ze,[["__scopeId","data-v-573e4387"]]),Re={class:"card"},Me={style:{display:"flex","justify-content":"space-between",gap:"2rem","padding-left":"2rem"}},Ne={style:{padding:"0",margin:"0",color:"var(--accent1)"},class:"m-0"},je=k({__name:"CourseMaterial",props:["chapters"],setup(t){return(C,_)=>(p(),w("div",Re,[l("h2",null,o(e(a)(e(c).courseContent)),1),v(e(me),{multiple:!0,activeIndex:[]},{default:B(()=>[(p(!0),w(y,null,S(t.chapters,(n,g)=>(p(),T(e(pe),{key:n.title,pt:{root:{style:"margin-block:0.5rem; border:solid 2px var(--accent1); border-radius:1rem; padding:0.25rem"}}},{header:B(()=>[l("div",null,[l("h4",null,o(e(a)(n.title)),1),l("div",Me,[l("h5",null,o(n.lessonCount)+" "+o(e(a)(e(c).lessons)),1),l("h5",null,o(n.quizCount)+" "+o(e(a)(e(c).quiz)),1)])])]),default:B(()=>[(p(!0),w(y,null,S(n.materials,i=>(p(),w("p",Ne,[l("i",{class:le(i.icon)},null,2),P(" "+o(i.title),1)]))),256))]),_:2},1032,["pt"]))),128))]),_:1})]))}}),Ve=q(je,[["__scopeId","data-v-7d0b47df"]]),Le={class:"big-container"},Fe={class:"content"},Ge=k({__name:"courseDetails",setup(t){const C=oe(),_=te(),n=ae(),g=W(),i=f(),b=new E("get_course"),D=f([]);b.callApi({course_id:n.params.courseId}).then(d=>{var u,m;i.value=(u=d==null?void 0:d.data)==null?void 0:u.course;for(let r of(m=i.value)==null?void 0:m.chapters){let h={title:"",lessonCount:0,quizCount:0,materials:[]};h.title=r==null?void 0:r.title;for(let s of r==null?void 0:r.materials){for(let I of se)(s==null?void 0:s.type)==I.name&&h.materials.push({title:a(s.title),icon:I.icon});(s==null?void 0:s.type)==="Lesson"&&(h.lessonCount=h.lessonCount+1),(s==null?void 0:s.type)==="Quiz"&&(h.quizCount=h.quizCount+1)}D.value.push(h)}});const x=f(),z=f(!1),N=f(!1),j=f(!1),V=f(!1),A=f(!1),L=f();function J(){var d,u,m,r;C.getIsAuthorized?((d=_.getInfo)==null?void 0:d.userType)=="Child"?z.value=!0:((u=_.getInfo)==null?void 0:u.userType)=="Parent"&&(((m=n.params)==null?void 0:m.childId)=="0"?V.value=!0:new E("get_course_plan").callApi({course_id:(r=n.params)==null?void 0:r.courseId}).then(s=>{var I,$;s.success==!1?A.value=!0:(s==null?void 0:s.success)==!0&&(j.value=!0,L.value=($=(I=s==null?void 0:s.data)==null?void 0:I.plan)==null?void 0:$.id)})):g.push("/login")}function K(d){var m;A.value=!1,new E("request_enrollment").callApi({request:{student_id:n.params.childId,course_id:(m=i.value)==null?void 0:m.id,promo_code:d}}).then(r=>{var h,s;r!=null&&r.success&&(x.value=(s=(h=r==null?void 0:r.data)==null?void 0:h.request)==null?void 0:s.price,N.value=!0)})}const F=f(!1),G=f();new E("get_enrollment").callApi({course_id:n.params.courseId}).then(d=>{var u;d.data.enrollment&&(F.value=!0,G.value=(u=d.data.enrollment)==null?void 0:u.id)});function X(){var d,u,m;g.push(`/viewCoursePage/${n.params.courseId}/${G.value}/${(m=(u=(d=i.value)==null?void 0:d.chapters[0])==null?void 0:u.materials[0])==null?void 0:m.Id}`)}return(d,u)=>{var m,r,h,s,I,$,H,O;return p(),w(y,null,[v(ne),l("div",Le,[v(re,{showDialog:z.value,onRemoveDialog:u[0]||(u[0]=Q=>{z.value=!1})},null,8,["showDialog"]),v(ue,{showDialog:N.value,cost:x.value},null,8,["showDialog","cost"]),v(ce,{showDialog:V.value},null,8,["showDialog"]),v(qe,{showDialog:j.value,planId:L.value,childId:(m=e(n).params)==null?void 0:m.childId},null,8,["showDialog","planId","childId"]),v(de,{showDialog:A.value,onPromoCode:u[1]||(u[1]=Q=>{K(Q)})},null,8,["showDialog"]),v(Ae,{course:i.value,isEnrolled:F.value,notShowButton:((r=e(_).getInfo)==null?void 0:r.userType)=="Parent"&&e(n).params.isEnrolled=="1",onEnroll:J,onViewMaterial:X},null,8,["course","isEnrolled","notShowButton"]),l("div",Fe,[v(Ve,{chapters:D.value},null,8,["chapters"]),v($e,{categories:(h=i.value)==null?void 0:h.categories,title:e(a)((s=i.value)==null?void 0:s.title),price:(I=i.value)==null?void 0:I.price,duration:($=i.value)==null?void 0:$.duration,min_age:(H=i.value)==null?void 0:H.min_age,max_age:(O=i.value)==null?void 0:O.max_age},null,8,["categories","title","price","duration","min_age","max_age"])])]),v(ie)],64)}}}),Je=q(Ge,[["__scopeId","data-v-3aec2121"]]);export{Je as default};
