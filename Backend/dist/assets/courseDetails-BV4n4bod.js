import{d as x,c as w,e as l,t as o,f as e,q as y,v as T,h as B,o as m,s,k as d,p as Y,m as Z,_ as E,y as z,A as S,i as W,b as v,l as M,B as ee,g as U,C as le,z as oe,a as te,r as f,H as P,x as se,N as ae,F as ne}from"./index-DxsqX4w4.js";import{A as ie,E as re,G as ue,P as ce}from"./PromoCodeDialog-BqVO9IUI.js";import{s as de,a as pe}from"./accordiontab.esm-B-rSuk9M.js";import"./inputtext.esm-Cho3Xied.js";const N=t=>(Y("data-v-6257b6ac"),t=t(),Z(),t),me={class:"container"},he={class:"wrapper"},ve={class:"wrapper"},_e={class:"wrapper"},ge=N(()=>l("i",{class:"pi pi-clock"},null,-1)),fe={class:"wrapper"},we=N(()=>l("i",{class:"pi pi-angle-double-up"},null,-1)),Ie={class:"wrapper"},Ce=N(()=>l("i",{class:"pi pi-dollar"},null,-1)),be=x({__name:"Information",props:["title","price","categories","min_age","max_age","duration"],setup(t){return(I,_)=>(m(),w("main",null,[l("div",me,[l("h2",null,o(e(s)(e(d).courseInfo)),1),l("div",he,[l("h4",null,o(e(s)(e(d).title)),1),l("p",null,o(t.title),1)]),l("div",ve,[l("h4",null,o(e(s)(e(d).categories)),1),(m(!0),w(y,null,T(t.categories,a=>(m(),w("p",null,o(e(s)(a.title)),1))),256))]),l("div",_e,[l("h4",null,[B(o(e(s)(e(d).duration)),1),ge]),l("p",null,o(t.duration)+" "+o(e(s)(e(d).days)),1)]),l("div",fe,[l("h4",null,[B(o(e(s)(e(d).age)),1),we]),l("p",null,o(t.min_age)+" - "+o(t.max_age)+" "+o(e(s)(e(d).years)),1)]),l("div",Ie,[l("h4",null,[B(o(e(s)(e(d).price)),1),Ce]),l("p",null,o(t.price)+" L.E",1)])])]))}}),$e=E(be,[["__scopeId","data-v-6257b6ac"]]),De={class:"dialog"},ke=x({__name:"CourseBelongsToPlanDialog",props:["showDialog","planId","childId"],setup(t){const I=W(),_=t;return(a,g)=>(m(),z(e(ee),{visible:_.showDialog,"onUpdate:visible":g[1]||(g[1]=i=>_.showDialog=i),modal:"",pt:{root:"border-none",mask:{style:"backdrop-filter: blur(2px)"}}},{container:S(({closeCallback:i})=>[l("div",De,[l("h2",null,o(e(s)(e(d).courseBelongsToPlan)),1),v(e(M),{label:e(s)(e(d).viewPlans),style:{width:"10rem"},onClick:g[0]||(g[0]=C=>e(I).push(`/plan/${t.planId}/${t.childId}`))},null,8,["label"])])]),_:1},8,["visible","pt"]))}}),qe=E(ke,[["__scopeId","data-v-004f4601"]]),ye={class:"course-description"},xe={class:"head"},Ee=["src"],Pe={class:"description"},Be={class:"header"},Se={class:"objectives"},Te=x({__name:"CourseDescribtion",props:["course","isEnrolled","notShowButton"],emits:["enroll","viewMaterial"],setup(t,{emit:I}){return(_,a)=>{var g,i,C,b;return m(),w("div",ye,[l("div",xe,[l("h1",null,o(e(s)((g=t.course)==null?void 0:g.title)),1)]),l("img",{src:(i=t.course)==null?void 0:i.image,alt:""},null,8,Ee),l("div",Pe,[l("div",Be,[l("h2",null,o(e(s)(e(d).courseDescription)),1),!t.isEnrolled&&!t.notShowButton?(m(),z(e(M),{key:0,label:e(s)(e(d).enrollNow),onClick:a[0]||(a[0]=()=>{_.$emit("enroll")})},null,8,["label"])):U("",!0),t.isEnrolled&&!t.notShowButton?(m(),z(e(M),{key:1,label:e(s)(e(d).viewMat),onClick:a[1]||(a[1]=()=>{_.$emit("viewMaterial")})},null,8,["label"])):U("",!0)]),l("p",null,o(e(s)((C=t.course)==null?void 0:C.description)),1)]),l("div",Se,[l("h2",null,o(e(s)(e(d).courseObjectives)),1),(m(!0),w(y,null,T((b=t.course)==null?void 0:b.objectives,$=>(m(),w("p",null," - "+o(e(s)($)),1))),256))])])}}}),ze=E(Te,[["__scopeId","data-v-573e4387"]]),Ae={class:"card"},Re={style:{display:"flex","justify-content":"space-between",gap:"2rem","padding-left":"2rem"}},Me={style:{padding:"0",margin:"0",color:"var(--accent1)"},class:"m-0"},Ne=x({__name:"CourseMaterial",props:["chapters"],setup(t){return(I,_)=>(m(),w("div",Ae,[l("h2",null,o(e(s)(e(d).courseContent)),1),v(e(pe),{multiple:!0,activeIndex:[]},{default:S(()=>[(m(!0),w(y,null,T(t.chapters,(a,g)=>(m(),z(e(de),{key:a.title,pt:{root:{style:"margin-block:0.5rem; border:solid 2px var(--accent1); border-radius:1rem; padding:0.25rem"}}},{header:S(()=>[l("div",null,[l("h4",null,o(e(s)(a.title)),1),l("div",Re,[l("h5",null,o(a.lessonCount)+" "+o(e(s)(e(d).lessons)),1),l("h5",null,o(a.quizCount)+" "+o(e(s)(e(d).quiz)),1)])])]),default:S(()=>[(m(!0),w(y,null,T(a.materials,i=>(m(),w("p",Me,[l("i",{class:le(i.icon)},null,2),B(" "+o(i.title),1)]))),256))]),_:2},1032,["pt"]))),128))]),_:1})]))}}),je=E(Ne,[["__scopeId","data-v-7d0b47df"]]),Ve={class:"big-container"},Le={class:"content"},Fe=x({__name:"courseDetails",setup(t){const I=oe(),_=te(),a=se(),g=W(),i=f(),C=new P("get_course"),b=f([]);C.callApi({course_id:a.params.courseId}).then(p=>{var r,h;i.value=(r=p==null?void 0:p.data)==null?void 0:r.course;for(let u of(h=i.value)==null?void 0:h.chapters){let n={title:"",lessonCount:0,quizCount:0,materials:[]};n.title=u==null?void 0:u.title;for(let c of u==null?void 0:u.materials)(c==null?void 0:c.type)==="Lesson"&&(n.lessonCount=n.lessonCount+1,n.materials.push({title:s(c.title),icon:"pi pi-book"})),(c==null?void 0:c.type)==="Quiz"&&(n.quizCount=n.quizCount+1,n.materials.push({title:s(c.title),icon:"pi pi-check-square"}));b.value.push(n)}});const $=f(),A=f(!1),j=f(!1),V=f(!1),L=f(!1),R=f(!1),F=f();function J(){var p,r,h;I.getIsAuthorized?((p=_.getInfo)==null?void 0:p.userType)=="Child"?A.value=!0:((r=_.getInfo)==null?void 0:r.userType)=="Parent"&&new P("get_course_plan").callApi({course_id:(h=a.params)==null?void 0:h.courseId}).then(n=>{var c,D,k,q;console.log(n),n.success==!1?R.value=!0:(n==null?void 0:n.success)==!0&&(((c=a.params)==null?void 0:c.childId)=="0"?L.value=!0:((D=a.params)==null?void 0:D.childId)!="0"&&(V.value=!0),F.value=(q=(k=n==null?void 0:n.data)==null?void 0:k.plan)==null?void 0:q.id)}):g.push("/login")}function K(p){var h;R.value=!1,new P("request_enrollment").callApi({request:{student_id:a.params.childId,course_id:(h=i.value)==null?void 0:h.id,promo_code:p}}).then(u=>{var n,c;u!=null&&u.success&&($.value=(c=(n=u==null?void 0:u.data)==null?void 0:n.request)==null?void 0:c.price,console.log($.value),j.value=!0)})}const G=f(!1),H=f();new P("get_enrollment").callApi({course_id:a.params.courseId}).then(p=>{var r;p.data.enrollment&&(G.value=!0,H.value=(r=p.data.enrollment)==null?void 0:r.id)});function X(){var p,r,h;g.push(`/viewCoursePage/${a.params.courseId}/${H.value}/${(h=(r=(p=i.value)==null?void 0:p.chapters[0])==null?void 0:r.materials[0])==null?void 0:h.Id}`)}return(p,r)=>{var h,u,n,c,D,k,q,O;return m(),w(y,null,[v(ae),l("div",Ve,[v(ie,{showDialog:A.value,onRemoveDialog:r[0]||(r[0]=Q=>{A.value=!1})},null,8,["showDialog"]),v(re,{showDialog:j.value,cost:$.value},null,8,["showDialog","cost"]),v(ue,{showDialog:L.value},null,8,["showDialog"]),v(qe,{showDialog:V.value,planId:F.value,childId:(h=e(a).params)==null?void 0:h.childId},null,8,["showDialog","planId","childId"]),v(ce,{showDialog:R.value,onPromoCode:r[1]||(r[1]=Q=>{K(Q)})},null,8,["showDialog"]),v(ze,{course:i.value,isEnrolled:G.value,notShowButton:((u=e(_).getInfo)==null?void 0:u.userType)=="Parent"&&e(a).params.isEnrolled=="1",onEnroll:J,onViewMaterial:X},null,8,["course","isEnrolled","notShowButton"]),l("div",Le,[v(je,{chapters:b.value},null,8,["chapters"]),v($e,{categories:(n=i.value)==null?void 0:n.categories,title:e(s)((c=i.value)==null?void 0:c.title),price:(D=i.value)==null?void 0:D.price,duration:(k=i.value)==null?void 0:k.duration,min_age:(q=i.value)==null?void 0:q.min_age,max_age:(O=i.value)==null?void 0:O.max_age},null,8,["categories","title","price","duration","min_age","max_age"])])]),v(ne)],64)}}}),We=E(Fe,[["__scopeId","data-v-4a6614ab"]]);export{We as default};
