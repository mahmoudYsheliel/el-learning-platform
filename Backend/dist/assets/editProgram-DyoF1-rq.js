import{d as oe,H as x,r as p,c as M,b as s,e,f as n,q as K,v as te,x as se,i as ne,o as S,N as ue,l as I,F as de,p as ie,m as re,_ as me}from"./index-vIkyQCYi.js";import{s as h}from"./inputtext.esm-CSF6Q_pY.js";import{s as O,a as Q}from"./inputnumber.esm-C_nY65h-.js";import{s as pe}from"./dropdown.esm-PnvIj9kv.js";import"./index.esm-wiCtErUF.js";const m=V=>(ie("data-v-74eea223"),V=V(),re(),V),ce={class:"container"},ve={class:"element"},_e=m(()=>e("h3",null,"English Title",-1)),ge={class:"element"},he=m(()=>e("h3",null,"Arabic Title",-1)),Ve={class:"element"},fe=m(()=>e("h3",null,"English Description",-1)),Ue={class:"element"},ke=m(()=>e("h3",null,"Arabic Description",-1)),Ae={class:"element"},Ce=m(()=>e("h3",null,"Image Sourse",-1)),Re=["src"],be={class:"element"},we=m(()=>e("h3",null,"Min Age",-1)),xe={class:"element"},Me=m(()=>e("h3",null,"Max Age",-1)),Se=m(()=>e("h3",null,"Road Map",-1)),Ie={class:"row"},Ee={class:"element"},qe=m(()=>e("span",null,"Course",-1)),Fe={class:"element"},Ne=m(()=>e("span",null,"Start Week",-1)),$e={class:"element"},Be=m(()=>e("span",null,"End Week",-1)),Le={class:"btn-container"},Pe=oe({__name:"editProgram",setup(V){const E=se(),X=ne(),Y=new x("get_program"),Z=new x("get_courses"),u=p(),b=p([]),f=p(),U=p(),k=p(),A=p(),c=p(),C=p(),R=p(),t=p([]);Z.callApi({}).then(d=>{var a,l;d!=null&&d.success&&(b.value=(a=d==null?void 0:d.data)==null?void 0:a.courses,Y.callApi({program_id:(l=E.params)==null?void 0:l.programId}).then(o=>{var r,v,_,i,q,F,N,$,B,L,P,y,D,H,T,W,z,j;if(o!=null&&o.success){u.value=(r=o==null?void 0:o.data)==null?void 0:r.program,f.value=(_=(v=u.value)==null?void 0:v.title)==null?void 0:_.en,U.value=(q=(i=u.value)==null?void 0:i.title)==null?void 0:q.ar,k.value=(N=(F=u.value)==null?void 0:F.description)==null?void 0:N.en,A.value=(B=($=u.value)==null?void 0:$.description)==null?void 0:B.ar,c.value=(L=u.value)==null?void 0:L.image,C.value=(P=u.value)==null?void 0:P.min_age,R.value=(y=u.value)==null?void 0:y.max_age,t.value=[];for(let g=0;g<((H=(D=u.value)==null?void 0:D.road_map)==null?void 0:H.length);g++)t.value.push({start:(W=(T=u.value)==null?void 0:T.road_map[g])==null?void 0:W.week_start,end:(j=(z=u.value)==null?void 0:z.road_map[g])==null?void 0:j.week_end,course:b.value.find(w=>{var G,J;return(w==null?void 0:w.id)==((J=(G=u.value)==null?void 0:G.road_map[g])==null?void 0:J.id)})})}}))});function ee(){t.value.push({start:0,end:0,course:null})}function le(d){t.value.splice(d,1)}function ae(){var l,o,r,v,_;let d=[];for(let i=0;i<t.value.length;i++)d.push({id:(o=(l=t.value[i])==null?void 0:l.course)==null?void 0:o.id,week_start:(r=t.value[i])==null?void 0:r.start,week_end:(v=t.value[i])==null?void 0:v.end});const a={program_id:(_=E.params)==null?void 0:_.programId,update:{title:{en:f.value,ar:U.value},description:{en:k.value,ar:A.value},min_age:C.value,max_age:R.value,image:c.value,road_map:d}};new x("update_program").callApi(a).then(i=>{i!=null&&i.success&&X.push("/manageCourses")})}return(d,a)=>(S(),M(K,null,[s(ue),e("div",ce,[e("div",ve,[_e,s(n(h),{modelValue:f.value,"onUpdate:modelValue":a[0]||(a[0]=l=>f.value=l)},null,8,["modelValue"])]),e("div",ge,[he,s(n(h),{modelValue:U.value,"onUpdate:modelValue":a[1]||(a[1]=l=>U.value=l)},null,8,["modelValue"])]),e("div",Ve,[fe,s(n(O),{modelValue:k.value,"onUpdate:modelValue":a[2]||(a[2]=l=>k.value=l)},null,8,["modelValue"])]),e("div",Ue,[ke,s(n(O),{modelValue:A.value,"onUpdate:modelValue":a[3]||(a[3]=l=>A.value=l)},null,8,["modelValue"])]),e("div",Ae,[Ce,s(n(h),{modelValue:c.value,"onUpdate:modelValue":a[4]||(a[4]=l=>c.value=l)},null,8,["modelValue"])]),e("img",{src:c.value,alt:""},null,8,Re),e("div",be,[we,s(n(h),{modelValue:C.value,"onUpdate:modelValue":a[5]||(a[5]=l=>C.value=l)},null,8,["modelValue"])]),e("div",xe,[Me,s(n(h),{modelValue:R.value,"onUpdate:modelValue":a[6]||(a[6]=l=>R.value=l)},null,8,["modelValue"])]),Se,(S(!0),M(K,null,te(t.value,(l,o)=>(S(),M("div",Ie,[e("div",Ee,[qe,s(n(pe),{modelValue:t.value[o].course,"onUpdate:modelValue":r=>t.value[o].course=r,options:b.value,optionLabel:"title.en",placeholder:"Select a Course"},null,8,["modelValue","onUpdate:modelValue","options"])]),e("div",Fe,[Ne,s(n(Q),{modelValue:t.value[o].start,"onUpdate:modelValue":r=>t.value[o].start=r},null,8,["modelValue","onUpdate:modelValue"])]),e("div",$e,[Be,s(n(Q),{modelValue:t.value[o].end,"onUpdate:modelValue":r=>t.value[o].end=r},null,8,["modelValue","onUpdate:modelValue"])]),s(n(I),{onClick:()=>{le(o)},label:"Remove From Road Map",style:{"background-color":"red"}},null,8,["onClick"])]))),256)),e("div",Le,[s(n(I),{onClick:ee,label:"Add Course to Road Map"}),s(n(I),{onClick:ae,style:{"font-size":"1.25rem"},label:"Save Changes"})])]),s(de)],64))}}),ze=me(Pe,[["__scopeId","data-v-74eea223"]]);export{ze as default};
