import{d as O,H as b,r as f,as as a,c as p,b as u,e as s,v as A,w as P,f as v,B as C,y as T,i as W,o as c,N as G,t as J,z as K,W as Q,m as X,F as Y,p as Z,n as aa,_ as ea}from"./index-DvJDaqdZ.js";import{s as ta}from"./dropdown.esm-dhNkWWDT.js";import{s as la,a as oa}from"./accordiontab.esm-CKIB805T.js";import"./index.esm-DUeiVb7o.js";const ia=m=>(Z("data-v-0491139d"),m=m(),aa(),m),ra={class:"container"},sa={class:"element"},na=ia(()=>s("h3",null,"Road Map",-1)),ua={class:"row"},ca={class:"courseelement"},da=["onClick"],pa={class:"btn-container"},va=O({__name:"editProgram",setup(m){const x=T(),$=W(),z=new b("get_program"),D=new b("get_courses"),o=f(),_=f([]),r=f([]);D.callApi({}).then(t=>{var d,l;t!=null&&t.success&&(_.value=(d=t==null?void 0:t.data)==null?void 0:d.courses,z.callApi({program_id:(l=x.params)==null?void 0:l.programId}).then(e=>{var n,i,V,y,R,k,w,E,I,S,B,M,N,U;if(e!=null&&e.success){o.value=(n=e==null?void 0:e.data)==null?void 0:n.program,a.value={...a.value,titleEn:{...a.value.titleEn,variable:((V=(i=o.value)==null?void 0:i.title)==null?void 0:V.en)||""},titleAr:{...a.value.titleAr,variable:((R=(y=o.value)==null?void 0:y.title)==null?void 0:R.ar)||""},descriptionEn:{...a.value.descriptionEn,variable:((w=(k=o.value)==null?void 0:k.description)==null?void 0:w.en)||""},descriptionAr:{...a.value.descriptionAr,variable:((I=(E=o.value)==null?void 0:E.description)==null?void 0:I.ar)||""},image:{...a.value.image,variable:((S=o.value)==null?void 0:S.image)||""},minAge:{...a.value.minAge,variable:((B=o.value)==null?void 0:B.min_age)||""},maxAge:{...a.value.maxAge,variable:((M=o.value)==null?void 0:M.max_age)||""}},r.value=[];for(let g=0;g<((U=(N=o.value)==null?void 0:N.road_map)==null?void 0:U.length);g++)r.value.push({course:_.value.find(h=>{var q,F;return(h==null?void 0:h.id)==((F=(q=o.value)==null?void 0:q.road_map[g])==null?void 0:F.id)})})}}))});function H(){r.value.push({course:null})}function L(t){r.value.splice(t,1)}function j(){var l,e,n;let t=[];for(let i=0;i<r.value.length;i++)t.push({id:(e=(l=r.value[i])==null?void 0:l.course)==null?void 0:e.id});const d={program_id:(n=x.params)==null?void 0:n.programId,update:{title:{en:a.value.titleEn.variable,ar:a.value.titleAr.variable},description:{en:a.value.descriptionEn.variable,ar:a.value.descriptionAr.variable},min_age:a.value.minAge.variable,max_age:a.value.maxAge.variable,image:a.value.image.variable,road_map:t}};new b("update_program").callApi(d).then(i=>{i!=null&&i.success&&$.push("/manageCourses")})}return(t,d)=>(c(),p(A,null,[u(G),s("div",ra,[(c(!0),p(A,null,P(v(a),l=>(c(),p("div",sa,[s("h3",null,J(l.label),1),(c(),K(Q(l.component),{type:l.inputType,modelValue:l.variable,"onUpdate:modelValue":e=>l.variable=e},null,8,["type","modelValue","onUpdate:modelValue"]))]))),256)),u(v(oa),{activeIndex:0},{default:C(()=>[u(v(la),{pt:{headerAction:{style:"padding-inline:0"}}},{header:C(()=>[na]),default:C(()=>[s("div",null,[(c(!0),p(A,null,P(r.value,(l,e)=>(c(),p("div",ua,[s("div",ca,[u(v(ta),{modelValue:r.value[e].course,"onUpdate:modelValue":n=>r.value[e].course=n,options:_.value,optionLabel:"title.en",placeholder:"Select a Course"},null,8,["modelValue","onUpdate:modelValue","options"]),s("i",{class:"pi pi-times-circle",onClick:()=>{L(e)}},null,8,da)])]))),256)),s("div",{class:"btn-container"},[s("i",{onClick:H,class:"pi pi-plus-circle",label:"Add Course to Road Map",style:{"font-size":"1.5rem",color:"var(--accent1)"}})])])]),_:1})]),_:1}),s("div",pa,[u(v(X),{onClick:j,label:"Save Changes"})])]),u(Y)],64))}}),ba=ea(va,[["__scopeId","data-v-0491139d"]]);export{ba as default};
