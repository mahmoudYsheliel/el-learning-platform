import{_ as F}from"./login-HlRQAw4O.js";import{d as G,r as c,H as y,c as _,b as i,e as s,t as u,f as e,g as V,h as H,i as O,j,o as g,N as z,O as J,s as t,k as n,l as K,m as Q,F as W,p as X,n as Y,q as Z,a as ee,_ as ae}from"./index-DvJDaqdZ.js";import{s as T}from"./password.esm-iSX16R1z.js";const oe=p=>(X("data-v-71ff38e7"),p=p(),Y(),p),se={class:"container"},le=oe(()=>s("div",{class:"left borderRigth"},[s("img",{src:F,alt:""})],-1)),te={class:"right"},ne={class:"welcome"},ie={class:"google-facebook-wrapper"},ue={key:0},ce={key:1},de={key:2},pe={class:"wrapper"},me={class:"button"},fe={style:{"margin-left":"5rem"}},re=G({__name:"signupPage",setup(p){const h=O(),m=c(),d=c(),f=c(),b=c(!1),I=c(!1),v=c(!1),w=new y("signup");function L(){if(!m.value||!d.value||!f.value)b.value=!0;else if(d.value!=f.value)I.value=!0;else{let r={user:{email:m.value,hashed_pass:d.value,user_type:"Parent"}};w.callApi(r).then(o=>{o.msg=="email is already used once"?v.value=!0:(o==null?void 0:o.success)==!0&&h.push("/login")})}}const U=r=>{const o=Z(r.credential);if(o.email_verified){let k={user:{email:o.email,hashed_pass:"mahmoud2000",user_type:"Parent"}};w.callApi(k).then(l=>{if(l.msg=="email is already used once")v.value=!0;else if((l==null?void 0:l.success)==!0){const $=new y("token"),D=ee();$.login(o.email,"mahmoud2000").then(E=>{E.access_token&&new y("personal_info").callApi().then(a=>{var P,N,R,q,C,x,A,B,M,S;a!=null&&a.success&&(D.addInfo({userType:(N=(P=a==null?void 0:a.data)==null?void 0:P.info)==null?void 0:N.user_type,notifications:[],id:(q=(R=a==null?void 0:a.data)==null?void 0:R.info)==null?void 0:q.id,firstName:(x=(C=a==null?void 0:a.data)==null?void 0:C.info)==null?void 0:x.first_name,lastName:(B=(A=a==null?void 0:a.data)==null?void 0:A.info)==null?void 0:B.last_name,email:(S=(M=a==null?void 0:a.data)==null?void 0:M.info)==null?void 0:S.email}),h.push("/"))})})}})}};return(r,o)=>{const k=j("GoogleLogin");return g(),_("main",null,[i(z),i(J),s("div",se,[le,s("div",te,[s("div",ne,[s("h1",null,u(e(t)(e(n).welcomeBack)),1),s("h1",null,u(e(t)(e(n).traceCommunity)),1)]),s("div",ie,[i(k,{callback:U})]),b.value?(g(),_("h4",ue,u(e(t)(e(n).dataMissing)),1)):V("",!0),I.value?(g(),_("h4",ce,u(e(t)(e(n).diffPass)),1)):V("",!0),v.value?(g(),_("h4",de,u(e(t)(e(n).emailTaken)),1)):V("",!0),s("div",pe,[i(e(K),{type:"email",class:"input",modelValue:m.value,"onUpdate:modelValue":o[0]||(o[0]=l=>m.value=l),placeholder:e(t)(e(n).email)},null,8,["modelValue","placeholder"]),i(e(T),{class:"input",modelValue:d.value,"onUpdate:modelValue":o[1]||(o[1]=l=>d.value=l),feedback:!1,toggleMask:"",placeholder:e(t)(e(n).pass)},null,8,["modelValue","placeholder"]),i(e(T),{id:"input",modelValue:f.value,"onUpdate:modelValue":o[2]||(o[2]=l=>f.value=l),feedback:!1,toggleMask:"",placeholder:e(t)(e(n).confirmPass)},null,8,["modelValue","placeholder"])]),s("div",me,[i(e(Q),{onClick:L,label:e(t)(e(n).signup)},null,8,["label"])]),s("p",fe,[H(u(e(t)(e(n).haveAccount)),1),s("strong",{onClick:o[3]||(o[3]=l=>e(h).push("/login")),style:{cursor:"pointer"}},u(e(t)(e(n).login)),1)])])]),i(W)])}}}),ke=ae(re,[["__scopeId","data-v-71ff38e7"]]);export{ke as default};
