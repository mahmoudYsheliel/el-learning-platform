import{d as O,u as j,a as U,r as R,H as q,c as L,b as d,e as t,t as p,f as n,g as $,h as z,i as J,j as D,o as S,N as K,s,k as c,l as Q,m as W,F as X,p as Y,n as Z,q as aa,_ as oa}from"./index-p32dn9DD.js";import{s as na}from"./password.esm-DBzJUmLL.js";const ta="/images/login.png",ea=y=>(Y("data-v-c4abd663"),y=y(),Z(),y),la={class:"container"},ia=ea(()=>t("div",{class:"left borderRigth"},[t("img",{src:ta,alt:""})],-1)),sa={class:"right"},ca={class:"welcome"},da={class:"google-facebook-wrapper"},ua={key:0},pa={key:1},fa={class:"wrapper"},ma={class:"button"},_a=O({__name:"LoginPage",setup(y){j();const r=J(),E=U(),w=R(),V=R(),B=R(!1),x=R(!1),F=new q("token");function G(){!w.value||!V.value?B.value=!0:F.login(w.value,V.value).then(i=>{(i==null?void 0:i.msg)=="no such user"?x.value=!0:i!=null&&i.access_token&&new q("personal_info").callApi().then(a=>{var u,l,C,o,f,m,_,g,h,v,k,I,b,N;a!=null&&a.success&&(E.addInfo({userType:(l=(u=a==null?void 0:a.data)==null?void 0:u.info)==null?void 0:l.user_type,notifications:(o=(C=a==null?void 0:a.data)==null?void 0:C.info)==null?void 0:o.notifications,id:(m=(f=a==null?void 0:a.data)==null?void 0:f.info)==null?void 0:m.id,firstName:(g=(_=a==null?void 0:a.data)==null?void 0:_.info)==null?void 0:g.first_name,lastName:(v=(h=a==null?void 0:a.data)==null?void 0:h.info)==null?void 0:v.last_name,email:(I=(k=a==null?void 0:a.data)==null?void 0:k.info)==null?void 0:I.email,gender:(N=(b=a==null?void 0:a.data)==null?void 0:b.info)==null?void 0:N.gender}),r.push("/"))})})}const H=i=>{const e=aa(i.credential);if(e.email_verified,e.email_verified){const a=new q("token"),u=U();a.login(e.email,"mahmoud2000").then(l=>{l.msg=="no such user"?x.value=!0:l.access_token&&new q("personal_info").callApi().then(o=>{var f,m,_,g,h,v,k,I,b,N,A,M,P,T;o!=null&&o.success&&(u.addInfo({userType:(m=(f=o==null?void 0:o.data)==null?void 0:f.info)==null?void 0:m.user_type,notifications:(g=(_=o==null?void 0:o.data)==null?void 0:_.info)==null?void 0:g.notifications,id:(v=(h=o==null?void 0:o.data)==null?void 0:h.info)==null?void 0:v.id,firstName:(I=(k=o==null?void 0:o.data)==null?void 0:k.info)==null?void 0:I.first_name,lastName:(N=(b=o==null?void 0:o.data)==null?void 0:b.info)==null?void 0:N.last_name,email:(M=(A=o==null?void 0:o.data)==null?void 0:A.info)==null?void 0:M.email,gender:(T=(P=o==null?void 0:o.data)==null?void 0:P.info)==null?void 0:T.gender}),r.push("/"))})})}};return(i,e)=>{const a=D("Options"),u=D("GoogleLogin");return S(),L("main",null,[d(K),d(a),t("div",la,[ia,t("div",sa,[t("div",ca,[t("h1",null,p(n(s)(n(c).welcomeBack)),1),t("h1",null,p(n(s)(n(c).traceCommunity)),1)]),t("div",da,[d(u,{callback:H})]),B.value?(S(),L("h4",ua,p(n(s)(n(c).dataMissing)),1)):$("",!0),x.value?(S(),L("h4",pa,p(n(s)(n(c).userNotExist)),1)):$("",!0),t("div",fa,[d(n(Q),{style:{width:"100%"},type:"email",class:"input",modelValue:w.value,"onUpdate:modelValue":e[0]||(e[0]=l=>w.value=l),placeholder:n(s)(n(c).email)},null,8,["modelValue","placeholder"]),d(n(na),{class:"input",modelValue:V.value,"onUpdate:modelValue":e[1]||(e[1]=l=>V.value=l),feedback:!1,toggleMask:"",placeholder:n(s)(n(c).pass)},null,8,["modelValue","placeholder"])]),t("div",ma,[d(n(W),{onClick:G,label:n(s)(n(c).login)},null,8,["label"])]),t("p",null,[z(p(n(s)(n(c).noAccount))+" ",1),t("strong",{onClick:e[2]||(e[2]=l=>n(r).push("/signup")),style:{cursor:"pointer","text-decoration":"underline",color:"var(--accent1)"}},p(n(s)(n(c).signup)),1)])])]),d(X)])}}}),va=oa(_a,[["__scopeId","data-v-c4abd663"]]);export{va as default};
