import{d as V,u as B,r as c,x as I,v as k,y as H,z as N,A as U,f as e,w as A,i as z,o as R,e as t,t as w,s as u,k as m,b as d,l as F,m as $,B as L,_ as T,c as M,C as q,H as S,N as O,F as j}from"./index-cboPx7Yg.js";const G="/assets/emailVerification-Oe7VMz9x.png",J={id:"change_email_dialog"},K={id:"input_container"},P={id:"btn_container"},Q=V({__name:"ChangeEmailDialog",props:{show:Boolean},emits:["hide"],setup(x,{emit:C}){var b,h;const v=B(),i=x,f=C,r=c(i.show),_=A(),p=z(),n=c((b=_.params)==null?void 0:b.email),a=c((h=_.params)==null?void 0:h.email);function g(s){return/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(s)}function E(){const l=new TextEncoder().encode(a.value),o=String.fromCharCode(...l);p.push(`/verifyEmail/${btoa(o)}`).then(()=>{window.location.reload()})}return I(()=>i.show,()=>{r.value=i.show}),k(()=>{var y;const s=new TextDecoder,l=atob((y=_.params)==null?void 0:y.email),o=Uint8Array.from(l,D=>D.charCodeAt(0));n.value=s.decode(o),a.value=s.decode(o)}),(s,l)=>(R(),H(e(L),{class:U({rtl:e(v).getLang=="ar"}),onHide:l[1]||(l[1]=o=>f("hide")),modal:"",visible:r.value,"onUpdate:visible":l[2]||(l[2]=o=>r.value=o),header:e(u)(e(m).changeEmail),pt:{title:{style:"color: var(--accent1); font-weight: bold;"}}},{default:N(()=>[t("div",J,[t("div",K,[t("strong",null,w(e(u)(e(m).email)),1),d(e(F),{id:"email_input",modelValue:a.value,"onUpdate:modelValue":l[0]||(l[0]=o=>a.value=o)},null,8,["modelValue"])]),t("div",P,[d(e($),{disabled:n.value===a.value||!g(a.value),label:e(u)(e(m).conf),onClick:E},null,8,["disabled","label"])])])]),_:1},8,["class","visible","header"]))}}),W=T(Q,[["__scopeId","data-v-195fd106"]]),X={id:"verify_email_container"},Y={id:"btn_container"},Z=V({__name:"VerifyEmail",setup(x){const C=A(),v=c(30),i=c(!0),f=c(!1),r=c("");function _(n){return n>9?`00:${n}`:`00:0${n}`}let p;return k(()=>{var h;let n=setInterval(b,1e3);const a=new TextDecoder,g=atob((h=C.params)==null?void 0:h.email),E=Uint8Array.from(g,s=>s.charCodeAt(0));r.value=a.decode(E);function b(){v.value==0?(clearInterval(n),i.value=!1):v.value-=1}p=()=>{v.value=30,i.value=!0,n=setInterval(b,1e3),new S("get_verify_email_link").callApi({email:r.value}).then(s=>{console.log(s)})},p()}),(n,a)=>(R(),M(q,null,[d(W,{onHide:a[0]||(a[0]=g=>f.value=!1),show:f.value},null,8,["show"]),d(O),t("div",X,[t("h1",null,w(e(u)(e(m).verifyEmail)),1),a[2]||(a[2]=t("img",{id:"verefy_email_image",src:G,alt:""},null,-1)),t("p",null,w(e(u)(e(m).checkVerificationEmail)),1),t("p",null,[t("strong",null,w(r.value),1)]),t("div",Y,[d(e($),{disabled:i.value,label:`${e(u)(e(m).resend)} ${_(v.value)}`,onClick:e(p)},null,8,["disabled","label","onClick"]),d(e($),{label:e(u)(e(m).changeEmail),onClick:a[1]||(a[1]=g=>f.value=!0)},null,8,["label"])])]),d(j)],64))}}),ae=T(Z,[["__scopeId","data-v-a991b09f"]]);export{ae as default};
