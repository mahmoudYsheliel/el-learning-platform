import{d as q,c as b,e as l,t as s,f as e,v as z,w as V,h as j,o as v,s as a,k as d,p as se,n as ae,_ as y,z as M,B as T,i as O,b as w,m as L,C as Y,D as Z,g as U,A as ne,a as ie,r as f,H as D,E as ue,y as re,N as ce,F as de}from"./index-mmTtHggo.js";import{A as pe,E as me,G as ve,P as he}from"./PromoCodeDialog-CoftHFzh.js";import{s as _e,a as ge}from"./accordiontab.esm-DApUKovO.js";const Q=t=>(se("data-v-60440cbd"),t=t(),ae(),t),fe={class:"container"},we={class:"wrapper"},be={class:"wrapper"},Ie={class:"wrapper"},Ce=Q(()=>l("i",{class:"pi pi-clock"},null,-1)),De={class:"wrapper"},$e=Q(()=>l("i",{class:"pi pi-angle-double-up"},null,-1)),ke={class:"wrapper"},qe=Q(()=>l("i",{class:"pi pi-dollar"},null,-1)),ye=q({__name:"Information",props:["title","price","categories","min_age","max_age","duration"],setup(t){return(C,_)=>(v(),b("main",null,[l("div",fe,[l("h2",null,s(e(a)(e(d).courseInfo)),1),l("div",we,[l("h4",null,s(e(a)(e(d).title)),1),l("p",null,s(t.title),1)]),l("div",be,[l("h4",null,s(e(a)(e(d).categories)),1),(v(!0),b(z,null,V(t.categories,n=>(v(),b("p",null,s(e(a)(n.title)),1))),256))]),l("div",Ie,[l("h4",null,[j(s(e(a)(e(d).duration)),1),Ce]),l("p",null,s(t.duration)+" "+s(e(a)(e(d).days)),1)]),l("div",De,[l("h4",null,[j(s(e(a)(e(d).age)),1),$e]),l("p",null,s(t.min_age)+" - "+s(t.max_age)+" "+s(e(a)(e(d).years)),1)]),l("div",ke,[l("h4",null,[j(s(e(a)(e(d).price)),1),qe]),l("p",null,s(t.price)+" L.E",1)])])]))}}),Pe=y(ye,[["__scopeId","data-v-60440cbd"]]),xe={class:"dialog"},Ee=q({__name:"CourseBelongsToPlanDialog",props:["showDialog","planId","childId"],setup(t){const C=O(),_=t;return(n,h)=>(v(),M(e(Y),{visible:_.showDialog,"onUpdate:visible":h[1]||(h[1]=u=>_.showDialog=u),modal:"",pt:{root:"border-none",mask:{style:"backdrop-filter: blur(2px)"}}},{container:T(({closeCallback:u})=>[l("div",xe,[l("h2",null,s(e(a)(e(d).courseBelongsToPlan)),1),w(e(L),{label:e(a)(e(d).viewPlans),style:{width:"10rem"},onClick:h[0]||(h[0]=P=>e(C).push(`/plan/${t.planId}/${t.childId}`))},null,8,["label"])])]),_:1},8,["visible","pt"]))}}),Be=y(Ee,[["__scopeId","data-v-004f4601"]]),Ae={class:"course-description"},Se={class:"head"},Re=["src"],Te={class:"description"},ze={class:"header"},Me={key:2,style:{color:"#f33"}},Ne={class:"objectives"},je=q({__name:"CourseDescribtion",props:["course","isEnrolled","notShowButton"],emits:["enroll","viewMaterial"],setup(t,{emit:C}){return(_,n)=>{var h,u,P,x,E,$,B,A;return v(),b("div",Ae,[l("div",Se,[l("h1",null,s(e(a)((h=t.course)==null?void 0:h.title)),1)]),l("img",{src:(u=t.course)==null?void 0:u.image,alt:"",class:Z({locked:(P=t.course)==null?void 0:P.is_locked})},null,10,Re),l("div",Te,[l("div",ze,[l("h2",null,s(e(a)(e(d).courseDescription)),1),!t.isEnrolled&&!t.notShowButton&&!((x=t.course)!=null&&x.is_locked)?(v(),M(e(L),{key:0,label:e(a)(e(d).enrollNow),onClick:n[0]||(n[0]=()=>{_.$emit("enroll")})},null,8,["label"])):U("",!0),t.isEnrolled&&!t.notShowButton&&!((E=t.course)!=null&&E.is_locked)?(v(),M(e(L),{key:1,label:e(a)(e(d).viewMat),onClick:n[1]||(n[1]=()=>{_.$emit("viewMaterial")})},null,8,["label"])):U("",!0),($=t.course)!=null&&$.is_locked?(v(),b("p",Me,s(e(a)(e(d).locked)),1)):U("",!0)]),l("p",null,s(e(a)((B=t.course)==null?void 0:B.description)),1)]),l("div",Ne,[l("h2",null,s(e(a)(e(d).courseObjectives)),1),l("ul",null,[(v(!0),b(z,null,V((A=t.course)==null?void 0:A.objectives,N=>(v(),b("li",null,s(e(a)(N)),1))),256))])])])}}}),Ve=y(je,[["__scopeId","data-v-3b651ca9"]]),Le={class:"card"},Fe={style:{display:"flex","justify-content":"space-between",gap:"2rem","padding-left":"2rem"}},He={style:{padding:"0","margin-block":"0.35rem",color:"var(--accent1)"},class:"m-0"},Ge=q({__name:"CourseMaterial",props:["chapters"],setup(t){return(C,_)=>(v(),b("div",Le,[l("h2",null,s(e(a)(e(d).courseContent)),1),w(e(ge),{multiple:!0,activeIndex:[]},{default:T(()=>[(v(!0),b(z,null,V(t.chapters,(n,h)=>(v(),M(e(_e),{key:n.title,pt:{root:{style:"margin-block:0.5rem; border:solid 2px var(--accent1); border-radius:1rem; padding:0.25rem"}}},{header:T(()=>[l("div",null,[l("h4",null,s(e(a)(n.title)),1),l("div",Fe,[l("h5",null,s(n.lessonCount)+" "+s(e(a)(e(d).lessons)),1),l("h5",null,s(n.quizCount)+" "+s(e(a)(e(d).quiz)),1)])])]),default:T(()=>[(v(!0),b(z,null,V(n.materials,u=>(v(),b("p",He,[l("i",{class:Z(u.icon)},null,2),j(" "+s(u.title),1)]))),256))]),_:2},1032,["pt"]))),128))]),_:1})]))}}),Ue=y(Ge,[["__scopeId","data-v-a8a1bf79"]]),Oe={class:"dialog"},Qe=q({__name:"PrequisiteDialog",props:["showDialog","course"],emits:["removeDialog"],setup(t,{emit:C}){O();const _=t;return(n,h)=>(v(),M(e(Y),{visible:_.showDialog,"onUpdate:visible":h[1]||(h[1]=u=>_.showDialog=u),modal:"",pt:{root:"border-none",mask:{style:"backdrop-filter: blur(2px)"}}},{container:T(({closeCallback:u})=>[l("div",Oe,[l("h2",null,s(e(a)(e(d).courseHasPrequisite))+" "+s(t.course),1),w(e(L),{label:e(a)(e(d).cancell),onClick:h[0]||(h[0]=()=>{n.$emit("removeDialog")})},null,8,["label"])])]),_:1},8,["visible","pt"]))}}),We=y(Qe,[["__scopeId","data-v-b41bb835"]]),Je={class:"big-container"},Ke={class:"content"},Xe=q({__name:"courseDetails",setup(t){const C=ne(),_=ie(),n=re(),h=O(),u=f(),P=new D("get_course"),x=f([]);P.callApi({course_id:n.params.courseId}).then(r=>{var c,p;u.value=(c=r==null?void 0:r.data)==null?void 0:c.course;for(let i of(p=u.value)==null?void 0:p.chapters){let m={title:"",lessonCount:0,quizCount:0,materials:[]};m.title=i==null?void 0:i.title;for(let o of i==null?void 0:i.materials){for(let g of ue)(o==null?void 0:o.type)==g.name&&m.materials.push({title:a(o.title),icon:g.icon});(o==null?void 0:o.type)==="Lesson"&&(m.lessonCount=m.lessonCount+1),(o==null?void 0:o.type)==="Quiz"&&(m.quizCount=m.quizCount+1)}x.value.push(m)}});const E=f(),$=f(!1),B=f(!1),A=f(!1),N=f(!1),F=f(!1),W=f(),H=f(!1);function ee(){var r,c,p,i;C.getIsAuthorized?((r=_.getInfo)==null?void 0:r.userType)=="Child"?$.value=!0:((c=_.getInfo)==null?void 0:c.userType)=="Parent"&&(((p=n.params)==null?void 0:p.childId)=="0"?N.value=!0:new D("get_course_plan").callApi({course_id:(i=n.params)==null?void 0:i.courseId}).then(o=>{var g,I;(o==null?void 0:o.success)==!1?F.value=!0:(o==null?void 0:o.success)==!0&&(A.value=!0,W.value=(I=(g=o==null?void 0:o.data)==null?void 0:g.plan)==null?void 0:I.id)})):h.push("/login")}function le(r){var p;F.value=!1,new D("request_enrollment").callApi({request:{student_id:n.params.childId,course_id:(p=u.value)==null?void 0:p.id,promo_code:r}}).then(i=>{var m,o;i!=null&&i.success&&(E.value=(o=(m=i==null?void 0:i.data)==null?void 0:m.request)==null?void 0:o.price,B.value=!0)})}const J=f(!1),K=f();new D("get_enrollment").callApi({course_id:n.params.courseId}).then(r=>{var c,p,i;(c=r==null?void 0:r.data)!=null&&c.enrollment&&(J.value=!0,K.value=(i=(p=r==null?void 0:r.data)==null?void 0:p.enrollment)==null?void 0:i.id)});const G=f(""),X=f(""),oe=new D("get_course_plan");function te(){oe.callApi({course_id:n.params.courseId}).then(r=>{var p,i,m;let c=(i=(p=r==null?void 0:r.data)==null?void 0:p.plan)==null?void 0:i.courses;G.value=(m=c==null?void 0:c.find(o=>(o==null?void 0:o.Id)==n.params.courseId))==null?void 0:m.ristriction_on_course,new D("get_course").callApi({course_id:G.value||""}).then(o=>{var g,I;X.value=a((I=(g=o==null?void 0:o.data)==null?void 0:g.course)==null?void 0:I.title)||""}),new D("get_enrollment").callApi({course_id:G.value||""}).then(o=>{var g,I,S,R,k;((I=(g=o==null?void 0:o.data)==null?void 0:g.enrollment)==null?void 0:I.is_completed)==!1?H.value=!0:h.push(`/viewCoursePage/${n.params.courseId}/${K.value}/${(k=(R=(S=u.value)==null?void 0:S.chapters[0])==null?void 0:R.materials[0])==null?void 0:k.Id}`)})})}return(r,c)=>{var p,i,m,o,g,I,S,R;return v(),b(z,null,[w(ce),l("div",Je,[w(pe,{showDialog:$.value,onRemoveDialog:c[0]||(c[0]=k=>{$.value=!1})},null,8,["showDialog"]),w(We,{course:X.value,"show-dialog":H.value,onRemoveDialog:c[1]||(c[1]=k=>H.value=!1)},null,8,["course","show-dialog"]),w(me,{showDialog:B.value,cost:E.value},null,8,["showDialog","cost"]),w(ve,{showDialog:N.value},null,8,["showDialog"]),w(Be,{showDialog:A.value,planId:W.value,childId:(p=e(n).params)==null?void 0:p.childId},null,8,["showDialog","planId","childId"]),w(he,{showDialog:F.value,onPromoCode:c[2]||(c[2]=k=>{le(k)})},null,8,["showDialog"]),w(Ve,{course:u.value,isEnrolled:J.value,notShowButton:((i=e(_).getInfo)==null?void 0:i.userType)=="Parent"&&e(n).params.isEnrolled=="1",onEnroll:ee,onViewMaterial:te},null,8,["course","isEnrolled","notShowButton"]),l("div",Ke,[w(Ue,{chapters:x.value},null,8,["chapters"]),w(Pe,{categories:(m=u.value)==null?void 0:m.categories,title:e(a)((o=u.value)==null?void 0:o.title),price:(g=u.value)==null?void 0:g.price,duration:(I=u.value)==null?void 0:I.duration,min_age:(S=u.value)==null?void 0:S.min_age,max_age:(R=u.value)==null?void 0:R.max_age},null,8,["categories","title","price","duration","min_age","max_age"])])]),w(de)],64)}}}),ol=y(Xe,[["__scopeId","data-v-db240dfd"]]);export{ol as default};
