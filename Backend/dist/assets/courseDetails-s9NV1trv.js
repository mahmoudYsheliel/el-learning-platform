import{d as x,c as C,e as l,t as a,f as e,v as V,w as F,h as L,o as v,s as n,k as p,p as ae,n as ne,_ as E,G as P,C as j,i as O,b,m as G,J as Z,y as ee,g as N,I as ie,a as ue,r as I,H as D,K as re,E as ce,N as de,F as pe}from"./index-DeAx0hMz.js";import{A as me,E as ve,G as he,P as ge}from"./PromoCodeDialog-Cg0M2sem.js";import{s as _e,a as fe}from"./accordiontab.esm-DxIHWB53.js";const Q=t=>(ae("data-v-60440cbd"),t=t(),ne(),t),we={class:"container"},Ie={class:"wrapper"},be={class:"wrapper"},Ce={class:"wrapper"},De=Q(()=>l("i",{class:"pi pi-clock"},null,-1)),ke={class:"wrapper"},$e=Q(()=>l("i",{class:"pi pi-angle-double-up"},null,-1)),ye={class:"wrapper"},qe=Q(()=>l("i",{class:"pi pi-dollar"},null,-1)),Pe=x({__name:"Information",props:["title","price","categories","min_age","max_age","duration"],setup(t){return(k,h)=>(v(),C("main",null,[l("div",we,[l("h2",null,a(e(n)(e(p).courseInfo)),1),l("div",Ie,[l("h4",null,a(e(n)(e(p).title)),1),l("p",null,a(t.title),1)]),l("div",be,[l("h4",null,a(e(n)(e(p).categories)),1),(v(!0),C(V,null,F(t.categories,i=>(v(),C("p",null,a(e(n)(i.title)),1))),256))]),l("div",Ce,[l("h4",null,[L(a(e(n)(e(p).duration)),1),De]),l("p",null,a(t.duration)+" "+a(e(n)(e(p).days)),1)]),l("div",ke,[l("h4",null,[L(a(e(n)(e(p).age)),1),$e]),l("p",null,a(t.min_age)+" - "+a(t.max_age)+" "+a(e(n)(e(p).years)),1)]),l("div",ye,[l("h4",null,[L(a(e(n)(e(p).price)),1),qe]),l("p",null,a(t.price)+" L.E",1)])])]))}}),xe=E(Pe,[["__scopeId","data-v-60440cbd"]]),Ee={class:"dialog"},Be=x({__name:"CourseBelongsToPlanDialog",props:["showDialog","planId","childId"],setup(t){const k=O(),h=t;return(i,_)=>(v(),P(e(Z),{visible:h.showDialog,"onUpdate:visible":_[1]||(_[1]=u=>h.showDialog=u),modal:"",pt:{root:"border-none",mask:{style:"backdrop-filter: blur(2px)"}}},{container:j(({closeCallback:u})=>[l("div",Ee,[l("h2",null,a(e(n)(e(p).courseBelongsToPlan)),1),b(e(G),{label:e(n)(e(p).viewPlans),style:{width:"10rem"},onClick:_[0]||(_[0]=B=>e(k).push(`/plan/${t.planId}/${t.childId}`))},null,8,["label"])])]),_:1},8,["visible","pt"]))}}),Re=E(Be,[["__scopeId","data-v-004f4601"]]),Te={class:"course-description"},Ae={class:"head"},Se=["src"],ze={class:"description"},Me={class:"header"},Ne={key:2,style:{color:"#f33"}},je={key:0,class:"objectives"},Ve=x({__name:"CourseDescribtion",props:["course","isEnrolled","notShowButton"],emits:["enroll","viewMaterial"],setup(t,{emit:k}){return(h,i)=>{var _,u,B,$,R,T,A,y,S;return v(),C("div",Te,[l("div",Ae,[l("h1",null,a(e(n)((_=t.course)==null?void 0:_.title)),1)]),l("img",{src:(u=t.course)==null?void 0:u.image,alt:"",class:ee({locked:(B=t.course)==null?void 0:B.is_locked})},null,10,Se),l("div",ze,[l("div",Me,[l("h2",null,a(e(n)(e(p).courseDescription)),1),!t.isEnrolled&&!t.notShowButton&&!(($=t.course)!=null&&$.is_locked)?(v(),P(e(G),{key:0,label:e(n)(e(p).enrollNow),onClick:i[0]||(i[0]=()=>{h.$emit("enroll")})},null,8,["label"])):N("",!0),t.isEnrolled&&!t.notShowButton&&!((R=t.course)!=null&&R.is_locked)?(v(),P(e(G),{key:1,label:e(n)(e(p).viewMat),onClick:i[1]||(i[1]=()=>{h.$emit("viewMaterial")})},null,8,["label"])):N("",!0),(T=t.course)!=null&&T.is_locked?(v(),C("p",Ne,a(e(n)(e(p).locked)),1)):N("",!0)]),l("p",null,a(e(n)((A=t.course)==null?void 0:A.description)),1)]),((y=t.course)==null?void 0:y.objectives)>0?(v(),C("div",je,[l("h2",null,a(e(n)(e(p).courseObjectives)),1),l("ul",null,[(v(!0),C(V,null,F((S=t.course)==null?void 0:S.objectives,q=>(v(),C("li",null,a(e(n)(q)),1))),256))])])):N("",!0)])}}}),Le=E(Ve,[["__scopeId","data-v-890b8da2"]]),Fe={class:"card"},Ge={style:{display:"flex","justify-content":"space-between",gap:"2rem","padding-left":"2rem"}},He={style:{padding:"0","margin-block":"0.35rem",color:"var(--accent1)"},class:"m-0"},Ue=x({__name:"CourseMaterial",props:["chapters"],setup(t){return(k,h)=>(v(),C("div",Fe,[l("h2",null,a(e(n)(e(p).courseContent)),1),b(e(fe),{multiple:!0,activeIndex:[]},{default:j(()=>[(v(!0),C(V,null,F(t.chapters,(i,_)=>(v(),P(e(_e),{key:i.title,pt:{root:{style:"margin-block:0.5rem; border:solid 2px var(--accent1); border-radius:1rem; padding:0.25rem"}}},{header:j(()=>[l("div",null,[l("h4",null,a(e(n)(i.title)),1),l("div",Ge,[l("h5",null,a(i.lessonCount)+" "+a(e(n)(e(p).lessons)),1),l("h5",null,a(i.quizCount)+" "+a(e(n)(e(p).quiz)),1)])])]),default:j(()=>[(v(!0),C(V,null,F(i.materials,u=>(v(),C("p",He,[l("i",{class:ee(u.icon)},null,2),L(" "+a(u.title),1)]))),256))]),_:2},1032,["pt"]))),128))]),_:1})]))}}),Je=E(Ue,[["__scopeId","data-v-a8a1bf79"]]),Ke={class:"dialog"},Oe=x({__name:"PrequisiteDialog",props:["showDialog","course"],emits:["removeDialog"],setup(t,{emit:k}){O();const h=t;return(i,_)=>(v(),P(e(Z),{visible:h.showDialog,"onUpdate:visible":_[1]||(_[1]=u=>h.showDialog=u),modal:"",pt:{root:"border-none",mask:{style:"backdrop-filter: blur(2px)"}}},{container:j(({closeCallback:u})=>[l("div",Ke,[l("h2",null,a(e(n)(e(p).courseHasPrequisite))+" "+a(t.course),1),b(e(G),{label:e(n)(e(p).cancell),onClick:_[0]||(_[0]=()=>{i.$emit("removeDialog")})},null,8,["label"])])]),_:1},8,["visible","pt"]))}}),Qe=E(Oe,[["__scopeId","data-v-b41bb835"]]),We={class:"big-container"},Xe={class:"content"},Ye=x({__name:"courseDetails",setup(t){const k=ie(),h=ue(),i=ce(),_=O(),u=I(),B=new D("get_course"),$=I([]);B.callApi({course_id:i.params.courseId}).then(d=>{var r,f;u.value=(r=d==null?void 0:d.data)==null?void 0:r.course;for(let c of(f=u.value)==null?void 0:f.chapters){let m={title:"",lessonCount:0,quizCount:0,materials:[]};m.title=c==null?void 0:c.title;for(let s of c==null?void 0:c.materials){for(let o of re)(s==null?void 0:s.type)==o.name&&m.materials.push({title:n(s.title),icon:o.icon});(s==null?void 0:s.type)==="Lesson"&&(m.lessonCount=m.lessonCount+1),(s==null?void 0:s.type)==="Quiz"&&(m.quizCount=m.quizCount+1)}$.value.push(m)}});const R=I(),T=I(!1),A=I(!1),y=I(!1),S=I(!1),q=I(!1),H=I(),U=I(!1);function le(){var d,r,f,c,m;k.getIsAuthorized?((d=h.getInfo)==null?void 0:d.userType)=="Child"?new D("get_course_plan").callApi({course_id:(r=i.params)==null?void 0:r.courseId}).then(o=>{var g,w;(o==null?void 0:o.success)==!1?q.value=!0:(o==null?void 0:o.success)==!0&&(y.value=!0,H.value=(w=(g=o==null?void 0:o.data)==null?void 0:g.plan)==null?void 0:w.id)}):((f=h.getInfo)==null?void 0:f.userType)=="Parent"&&(((c=i.params)==null?void 0:c.childId)=="0"?S.value=!0:new D("get_course_plan").callApi({course_id:(m=i.params)==null?void 0:m.courseId}).then(o=>{var g,w;(o==null?void 0:o.success)==!1?q.value=!0:(o==null?void 0:o.success)==!0&&(y.value=!0,H.value=(w=(g=o==null?void 0:o.data)==null?void 0:g.plan)==null?void 0:w.id)})):_.push("/login")}function oe(d){var c,m,s;q.value=!1;let r;((c=h.getInfo)==null?void 0:c.userType)=="Parent"?r=i.params.childId??"":((m=h.getInfo)==null?void 0:m.userType)=="Child"&&(r=h.getInfo.id),new D("request_enrollment").callApi({request:{student_id:r,course_id:(s=u.value)==null?void 0:s.id,promo_code:d}}).then(o=>{var g,w;o!=null&&o.success&&(R.value=(w=(g=o==null?void 0:o.data)==null?void 0:g.request)==null?void 0:w.price,A.value=!0)})}const W=I(!1),X=I();new D("get_enrollment").callApi({course_id:i.params.courseId}).then(d=>{var r,f,c;(r=d==null?void 0:d.data)!=null&&r.enrollment&&(W.value=!0,X.value=(c=(f=d==null?void 0:d.data)==null?void 0:f.enrollment)==null?void 0:c.id)});const J=I(""),Y=I(""),te=new D("get_course_plan");function se(){te.callApi({course_id:i.params.courseId}).then(d=>{var f,c,m;let r=(c=(f=d==null?void 0:d.data)==null?void 0:f.plan)==null?void 0:c.courses;J.value=(m=r==null?void 0:r.find(s=>(s==null?void 0:s.Id)==i.params.courseId))==null?void 0:m.ristriction_on_course,new D("get_course").callApi({course_id:J.value||""}).then(s=>{var o,g;Y.value=n((g=(o=s==null?void 0:s.data)==null?void 0:o.course)==null?void 0:g.title)||""}),new D("get_enrollment").callApi({course_id:J.value||""}).then(s=>{var o,g,w,z,M;((g=(o=s==null?void 0:s.data)==null?void 0:o.enrollment)==null?void 0:g.is_completed)==!1?U.value=!0:_.push(`/viewCoursePage/${i.params.courseId}/${X.value}/${(M=(z=(w=u.value)==null?void 0:w.chapters[0])==null?void 0:z.materials[0])==null?void 0:M.Id}`)})})}return(d,r)=>{var f,c,m,s,o,g,w,z,M;return v(),C(V,null,[b(de),l("div",We,[b(me,{showDialog:T.value,onRemoveDialog:r[0]||(r[0]=K=>{T.value=!1})},null,8,["showDialog"]),b(Qe,{course:Y.value,"show-dialog":U.value,onRemoveDialog:r[1]||(r[1]=K=>U.value=!1)},null,8,["course","show-dialog"]),b(ve,{showDialog:A.value,cost:R.value},null,8,["showDialog","cost"]),b(he,{showDialog:S.value},null,8,["showDialog"]),b(Re,{showDialog:y.value,planId:H.value,childId:(f=e(i).params)==null?void 0:f.childId},null,8,["showDialog","planId","childId"]),b(ge,{showDialog:q.value,onPromoCode:r[2]||(r[2]=K=>{oe(K)})},null,8,["showDialog"]),b(Le,{course:u.value,isEnrolled:W.value,notShowButton:((c=e(h).getInfo)==null?void 0:c.userType)=="Parent"&&e(i).params.isEnrolled=="1",onEnroll:le,onViewMaterial:se},null,8,["course","isEnrolled","notShowButton"]),l("div",Xe,[((m=$.value)==null?void 0:m.length)>0?(v(),P(Je,{key:0,chapters:$.value},null,8,["chapters"])):N("",!0),b(xe,{categories:(s=u.value)==null?void 0:s.categories,title:e(n)((o=u.value)==null?void 0:o.title),price:(g=u.value)==null?void 0:g.price,duration:(w=u.value)==null?void 0:w.duration,min_age:(z=u.value)==null?void 0:z.min_age,max_age:(M=u.value)==null?void 0:M.max_age},null,8,["categories","title","price","duration","min_age","max_age"])])]),b(pe)],64)}}}),tl=E(Ye,[["__scopeId","data-v-6a5456b0"]]);export{tl as default};
