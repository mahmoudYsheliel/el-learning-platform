import{G as et,O as Ee,j as X,o as u,c as f,e as d,I as L,J as Oe,z as V,g as $,D as M,K as Re,L as mt,M as le,P as vt,Q as yt,R as tt,S as bt,T as Ct,U as nt,v as B,V as ne,B as oe,W as _t,h as z,t as y,w as Y,X as It,b as A,d as se,r as T,x as ue,f as l,i as ot,y as he,s as C,_ as re,Y as Ie,H as W,k as D,m as Q,C as kt,Z as F,$ as wt,p as xt,n as St,a as Et,E as Ot,N as Mt}from"./index-BXeycJi2.js";import{s as it,a as Tt}from"./index.esm-CaP1WQXJ.js";import{s as At}from"./progressbar.esm-BeNrneae.js";var Rt={root:function(n){var t=n.props;return["p-tree p-component",{"p-tree-selectable":t.selectionMode!=null,"p-tree-loading":t.loading,"p-tree-flex-scrollable":t.scrollHeight==="flex"}]},loadingOverlay:"p-tree-loading-overlay p-component-overlay",loadingIcon:"p-tree-loading-icon",filterContainer:"p-tree-filter-container",input:"p-tree-filter p-inputtext p-component",searchIcon:"p-tree-filter-icon",wrapper:"p-tree-wrapper",container:"p-tree-container",node:function(n){var t=n.instance;return["p-treenode",{"p-treenode-leaf":t.leaf}]},content:function(n){var t=n.instance;return["p-treenode-content",t.node.styleClass,{"p-treenode-selectable":t.selectable,"p-highlight":t.checkboxMode&&t.$parentInstance.highlightOnSelect?t.checked:t.selected}]},toggler:"p-tree-toggler p-link",togglerIcon:"p-tree-toggler-icon",nodeTogglerIcon:"p-tree-node-toggler-icon",nodeCheckbox:function(n){var t=n.instance;return[{"p-indeterminate":t.partialChecked}]},nodeIcon:"p-treenode-icon",label:"p-treenode-label",subgroup:"p-treenode-children"},Nt=et.extend({name:"tree",classes:Rt}),Lt={root:function(n){var t=n.instance,o=n.props;return["p-checkbox p-component",{"p-highlight":t.checked,"p-disabled":o.disabled,"p-invalid":o.invalid,"p-variant-filled":o.variant?o.variant==="filled":t.$primevue.config.inputStyle==="filled"}]},box:"p-checkbox-box",input:"p-checkbox-input",icon:"p-checkbox-icon"},Kt=et.extend({name:"checkbox",classes:Lt}),Dt={name:"BaseCheckbox",extends:Re,props:{value:null,modelValue:null,binary:Boolean,name:{type:String,default:null},trueValue:{type:null,default:!0},falseValue:{type:null,default:!1},variant:{type:String,default:null},invalid:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},readonly:{type:Boolean,default:!1},required:{type:Boolean,default:!1},tabindex:{type:Number,default:null},inputId:{type:String,default:null},inputClass:{type:[String,Object],default:null},inputStyle:{type:Object,default:null},ariaLabelledby:{type:String,default:null},ariaLabel:{type:String,default:null}},style:Kt,provide:function(){return{$parentInstance:this}}};function $t(e){return Ft(e)||Pt(e)||jt(e)||Ht()}function Ht(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function jt(e,n){if(e){if(typeof e=="string")return Me(e,n);var t=Object.prototype.toString.call(e).slice(8,-1);if(t==="Object"&&e.constructor&&(t=e.constructor.name),t==="Map"||t==="Set")return Array.from(e);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return Me(e,n)}}function Pt(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Ft(e){if(Array.isArray(e))return Me(e)}function Me(e,n){(n==null||n>e.length)&&(n=e.length);for(var t=0,o=new Array(n);t<n;t++)o[t]=e[t];return o}var at={name:"Checkbox",extends:Dt,inheritAttrs:!1,emits:["update:modelValue","change","focus","blur"],methods:{getPTOptions:function(n){var t=n==="root"?this.ptmi:this.ptm;return t(n,{context:{checked:this.checked,disabled:this.disabled}})},onChange:function(n){var t=this;if(!this.disabled&&!this.readonly){var o;this.binary?o=this.checked?this.falseValue:this.trueValue:this.checked?o=this.modelValue.filter(function(i){return!Ee.equals(i,t.value)}):o=this.modelValue?[].concat($t(this.modelValue),[this.value]):[this.value],this.$emit("update:modelValue",o),this.$emit("change",n)}},onFocus:function(n){this.$emit("focus",n)},onBlur:function(n){this.$emit("blur",n)}},computed:{checked:function(){return this.binary?this.modelValue===this.trueValue:Ee.contains(this.value,this.modelValue)}},components:{CheckIcon:it}},Bt=["data-p-highlight","data-p-disabled"],qt=["id","value","name","checked","tabindex","disabled","readonly","required","aria-labelledby","aria-label","aria-invalid"];function Ut(e,n,t,o,i,a){var r=X("CheckIcon");return u(),f("div",L({class:e.cx("root")},a.getPTOptions("root"),{"data-p-highlight":a.checked,"data-p-disabled":e.disabled}),[d("input",L({id:e.inputId,type:"checkbox",class:[e.cx("input"),e.inputClass],style:e.inputStyle,value:e.value,name:e.name,checked:a.checked,tabindex:e.tabindex,disabled:e.disabled,readonly:e.readonly,required:e.required,"aria-labelledby":e.ariaLabelledby,"aria-label":e.ariaLabel,"aria-invalid":e.invalid||void 0,onFocus:n[0]||(n[0]=function(){return a.onFocus&&a.onFocus.apply(a,arguments)}),onBlur:n[1]||(n[1]=function(){return a.onBlur&&a.onBlur.apply(a,arguments)}),onChange:n[2]||(n[2]=function(){return a.onChange&&a.onChange.apply(a,arguments)})},a.getPTOptions("input")),null,16,qt),d("div",L({class:e.cx("box")},a.getPTOptions("box")),[Oe(e.$slots,"icon",{checked:a.checked,class:M(e.cx("icon"))},function(){return[a.checked?(u(),V(r,L({key:0,class:e.cx("icon")},a.getPTOptions("icon")),null,16,["class"])):$("",!0)]})],16)],16,Bt)}at.render=Ut;var st={name:"MinusIcon",extends:mt},Gt=d("path",{d:"M13.2222 7.77778H0.777778C0.571498 7.77778 0.373667 7.69584 0.227806 7.54998C0.0819442 7.40412 0 7.20629 0 7.00001C0 6.79373 0.0819442 6.5959 0.227806 6.45003C0.373667 6.30417 0.571498 6.22223 0.777778 6.22223H13.2222C13.4285 6.22223 13.6263 6.30417 13.7722 6.45003C13.9181 6.5959 14 6.79373 14 7.00001C14 7.20629 13.9181 7.40412 13.7722 7.54998C13.6263 7.69584 13.4285 7.77778 13.2222 7.77778Z",fill:"currentColor"},null,-1),Vt=[Gt];function Yt(e,n,t,o,i,a){return u(),f("svg",L({width:"14",height:"14",viewBox:"0 0 14 14",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e.pti()),Vt,16)}st.render=Yt;var zt={name:"BaseTree",extends:Re,props:{value:{type:null,default:null},expandedKeys:{type:null,default:null},selectionKeys:{type:null,default:null},selectionMode:{type:String,default:null},metaKeySelection:{type:Boolean,default:!1},loading:{type:Boolean,default:!1},loadingIcon:{type:String,default:void 0},loadingMode:{type:String,default:"mask"},filter:{type:Boolean,default:!1},filterBy:{type:String,default:"label"},filterMode:{type:String,default:"lenient"},filterPlaceholder:{type:String,default:null},filterLocale:{type:String,default:void 0},highlightOnSelect:{type:Boolean,default:!1},scrollHeight:{type:String,default:null},level:{type:Number,default:0},ariaLabelledby:{type:String,default:null},ariaLabel:{type:String,default:null}},style:Nt,provide:function(){return{$parentInstance:this}}};function ye(e){"@babel/helpers - typeof";return ye=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(n){return typeof n}:function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},ye(e)}function Le(e,n){var t=typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(!t){if(Array.isArray(e)||(t=rt(e))||n&&e&&typeof e.length=="number"){t&&(e=t);var o=0,i=function(){};return{s:i,n:function(){return o>=e.length?{done:!0}:{done:!1,value:e[o++]}},e:function(s){throw s},f:i}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var a=!0,r=!1,c;return{s:function(){t=t.call(e)},n:function(){var s=t.next();return a=s.done,s},e:function(s){r=!0,c=s},f:function(){try{!a&&t.return!=null&&t.return()}finally{if(r)throw c}}}}function Ke(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);n&&(o=o.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),t.push.apply(t,o)}return t}function De(e){for(var n=1;n<arguments.length;n++){var t=arguments[n]!=null?arguments[n]:{};n%2?Ke(Object(t),!0).forEach(function(o){Zt(e,o,t[o])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):Ke(Object(t)).forEach(function(o){Object.defineProperty(e,o,Object.getOwnPropertyDescriptor(t,o))})}return e}function Zt(e,n,t){return n=Wt(n),n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function Wt(e){var n=Qt(e,"string");return ye(n)=="symbol"?n:String(n)}function Qt(e,n){if(ye(e)!="object"||!e)return e;var t=e[Symbol.toPrimitive];if(t!==void 0){var o=t.call(e,n||"default");if(ye(o)!="object")return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return(n==="string"?String:Number)(e)}function me(e){return en(e)||Xt(e)||rt(e)||Jt()}function Jt(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function rt(e,n){if(e){if(typeof e=="string")return Te(e,n);var t=Object.prototype.toString.call(e).slice(8,-1);if(t==="Object"&&e.constructor&&(t=e.constructor.name),t==="Map"||t==="Set")return Array.from(e);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return Te(e,n)}}function Xt(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function en(e){if(Array.isArray(e))return Te(e)}function Te(e,n){(n==null||n>e.length)&&(n=e.length);for(var t=0,o=new Array(n);t<n;t++)o[t]=e[t];return o}var lt={name:"TreeNode",hostName:"Tree",extends:Re,emits:["node-toggle","node-click","checkbox-change"],props:{node:{type:null,default:null},expandedKeys:{type:null,default:null},loadingMode:{type:String,default:"mask"},selectionKeys:{type:null,default:null},selectionMode:{type:String,default:null},templates:{type:null,default:null},level:{type:Number,default:null},index:null},nodeTouched:!1,toggleClicked:!1,mounted:function(){this.setAllNodesTabIndexes()},methods:{toggle:function(){this.$emit("node-toggle",this.node),this.toggleClicked=!0},label:function(n){return typeof n.label=="function"?n.label():n.label},onChildNodeToggle:function(n){this.$emit("node-toggle",n)},getPTOptions:function(n){return this.ptm(n,{context:{index:this.index,expanded:this.expanded,selected:this.selected,checked:this.checked,leaf:this.leaf}})},onClick:function(n){if(this.toggleClicked||le.getAttribute(n.target,'[data-pc-section="toggler"]')||le.getAttribute(n.target.parentElement,'[data-pc-section="toggler"]')){this.toggleClicked=!1;return}this.isCheckboxSelectionMode()?this.toggleCheckbox():this.$emit("node-click",{originalEvent:n,nodeTouched:this.nodeTouched,node:this.node}),this.nodeTouched=!1},onChildNodeClick:function(n){this.$emit("node-click",n)},onTouchEnd:function(){this.nodeTouched=!0},onKeyDown:function(n){if(this.isSameNode(n))switch(n.code){case"Tab":this.onTabKey(n);break;case"ArrowDown":this.onArrowDown(n);break;case"ArrowUp":this.onArrowUp(n);break;case"ArrowRight":this.onArrowRight(n);break;case"ArrowLeft":this.onArrowLeft(n);break;case"Enter":case"NumpadEnter":case"Space":this.onEnterKey(n);break}},onArrowDown:function(n){var t=n.target.getAttribute("data-pc-section")==="toggler"?n.target.closest('[role="treeitem"]'):n.target,o=t.children[1];if(o)this.focusRowChange(t,o.children[0]);else if(t.nextElementSibling)this.focusRowChange(t,t.nextElementSibling);else{var i=this.findNextSiblingOfAncestor(t);i&&this.focusRowChange(t,i)}n.preventDefault()},onArrowUp:function(n){var t=n.target;if(t.previousElementSibling)this.focusRowChange(t,t.previousElementSibling,this.findLastVisibleDescendant(t.previousElementSibling));else{var o=this.getParentNodeElement(t);o&&this.focusRowChange(t,o)}n.preventDefault()},onArrowRight:function(n){var t=this;this.leaf||this.expanded||(n.currentTarget.tabIndex=-1,this.$emit("node-toggle",this.node),this.$nextTick(function(){t.onArrowDown(n)}))},onArrowLeft:function(n){var t=le.findSingle(n.currentTarget,'[data-pc-section="toggler"]');if(this.level===0&&!this.expanded)return!1;if(this.expanded&&!this.leaf)return t.click(),!1;var o=this.findBeforeClickableNode(n.currentTarget);o&&this.focusRowChange(n.currentTarget,o)},onEnterKey:function(n){this.setTabIndexForSelectionMode(n,this.nodeTouched),this.onClick(n),n.preventDefault()},onTabKey:function(){this.setAllNodesTabIndexes()},setAllNodesTabIndexes:function(){var n=le.find(this.$refs.currentNode.closest('[data-pc-section="container"]'),'[role="treeitem"]'),t=me(n).some(function(i){return i.getAttribute("aria-selected")==="true"||i.getAttribute("aria-checked")==="true"});if(me(n).forEach(function(i){i.tabIndex=-1}),t){var o=me(n).filter(function(i){return i.getAttribute("aria-selected")==="true"||i.getAttribute("aria-checked")==="true"});o[0].tabIndex=0;return}me(n)[0].tabIndex=0},setTabIndexForSelectionMode:function(n,t){if(this.selectionMode!==null){var o=me(le.find(this.$refs.currentNode.parentElement,'[role="treeitem"]'));n.currentTarget.tabIndex=t===!1?-1:0,o.every(function(i){return i.tabIndex===-1})&&(o[0].tabIndex=0)}},focusRowChange:function(n,t,o){n.tabIndex="-1",t.tabIndex="0",this.focusNode(o||t)},findBeforeClickableNode:function(n){var t=n.closest("ul").closest("li");if(t){var o=le.findSingle(t,"button");return o&&o.style.visibility!=="hidden"?t:this.findBeforeClickableNode(n.previousElementSibling)}return null},toggleCheckbox:function(){var n=this.selectionKeys?De({},this.selectionKeys):{},t=!this.checked;this.propagateDown(this.node,t,n),this.$emit("checkbox-change",{node:this.node,check:t,selectionKeys:n})},propagateDown:function(n,t,o){if(t?o[n.key]={checked:!0,partialChecked:!1}:delete o[n.key],n.children&&n.children.length){var i=Le(n.children),a;try{for(i.s();!(a=i.n()).done;){var r=a.value;this.propagateDown(r,t,o)}}catch(c){i.e(c)}finally{i.f()}}},propagateUp:function(n){var t=n.check,o=De({},n.selectionKeys),i=0,a=!1,r=Le(this.node.children),c;try{for(r.s();!(c=r.n()).done;){var h=c.value;o[h.key]&&o[h.key].checked?i++:o[h.key]&&o[h.key].partialChecked&&(a=!0)}}catch(s){r.e(s)}finally{r.f()}t&&i===this.node.children.length?o[this.node.key]={checked:!0,partialChecked:!1}:(t||delete o[this.node.key],a||i>0&&i!==this.node.children.length?o[this.node.key]={checked:!1,partialChecked:!0}:delete o[this.node.key]),this.$emit("checkbox-change",{node:n.node,check:n.check,selectionKeys:o})},onChildCheckboxChange:function(n){this.$emit("checkbox-change",n)},findNextSiblingOfAncestor:function(n){var t=this.getParentNodeElement(n);return t?t.nextElementSibling?t.nextElementSibling:this.findNextSiblingOfAncestor(t):null},findLastVisibleDescendant:function(n){var t=n.children[1];if(t){var o=t.children[t.children.length-1];return this.findLastVisibleDescendant(o)}else return n},getParentNodeElement:function(n){var t=n.parentElement.parentElement;return le.getAttribute(t,"role")==="treeitem"?t:null},focusNode:function(n){n.focus()},isCheckboxSelectionMode:function(){return this.selectionMode==="checkbox"},isSameNode:function(n){return n.currentTarget&&(n.currentTarget.isSameNode(n.target)||n.currentTarget.isSameNode(n.target.closest('[role="treeitem"]')))}},computed:{hasChildren:function(){return this.node.children&&this.node.children.length>0},expanded:function(){return this.expandedKeys&&this.expandedKeys[this.node.key]===!0},leaf:function(){return this.node.leaf===!1?!1:!(this.node.children&&this.node.children.length)},selectable:function(){return this.node.selectable===!1?!1:this.selectionMode!=null},selected:function(){return this.selectionMode&&this.selectionKeys?this.selectionKeys[this.node.key]===!0:!1},checkboxMode:function(){return this.selectionMode==="checkbox"&&this.node.selectable!==!1},checked:function(){return this.selectionKeys?this.selectionKeys[this.node.key]&&this.selectionKeys[this.node.key].checked:!1},partialChecked:function(){return this.selectionKeys?this.selectionKeys[this.node.key]&&this.selectionKeys[this.node.key].partialChecked:!1},ariaChecked:function(){return this.selectionMode==="single"||this.selectionMode==="multiple"?this.selected:void 0},ariaSelected:function(){return this.checkboxMode?this.checked:void 0}},components:{Checkbox:at,ChevronDownIcon:vt,ChevronRightIcon:yt,CheckIcon:it,MinusIcon:st,SpinnerIcon:tt},directives:{ripple:bt}},tn=["aria-label","aria-selected","aria-expanded","aria-setsize","aria-posinset","aria-level","aria-checked","tabindex"],nn=["data-p-highlight","data-p-selectable"];function on(e,n,t,o,i,a){var r=X("SpinnerIcon"),c=X("Checkbox"),h=X("TreeNode",!0),s=Ct("ripple");return u(),f("li",L({ref:"currentNode",class:e.cx("node"),role:"treeitem","aria-label":a.label(t.node),"aria-selected":a.ariaSelected,"aria-expanded":a.expanded,"aria-setsize":t.node.children?t.node.children.length:0,"aria-posinset":t.index+1,"aria-level":t.level,"aria-checked":a.ariaChecked,tabindex:t.index===0?0:-1,onKeydown:n[4]||(n[4]=function(){return a.onKeyDown&&a.onKeyDown.apply(a,arguments)})},t.level===1?a.getPTOptions("node"):e.ptm("subgroup")),[d("div",L({class:e.cx("content"),onClick:n[2]||(n[2]=function(){return a.onClick&&a.onClick.apply(a,arguments)}),onTouchend:n[3]||(n[3]=function(){return a.onTouchEnd&&a.onTouchEnd.apply(a,arguments)}),style:t.node.style},a.getPTOptions("content"),{"data-p-highlight":a.checkboxMode?a.checked:a.selected,"data-p-selectable":a.selectable}),[nt((u(),f("button",L({type:"button",class:e.cx("toggler"),onClick:n[0]||(n[0]=function(){return a.toggle&&a.toggle.apply(a,arguments)}),tabindex:"-1","aria-hidden":"true"},a.getPTOptions("toggler")),[t.node.loading&&t.loadingMode==="icon"?(u(),f(B,{key:0},[t.templates.nodetogglericon?(u(),V(ne(t.templates.nodetogglericon),{key:0,class:M(e.cx("nodetogglericon"))},null,8,["class"])):(u(),V(r,L({key:1,spin:"",class:e.cx("nodetogglericon")},e.ptm("nodetogglericon")),null,16,["class"]))],64)):(u(),f(B,{key:1},[t.templates.togglericon?(u(),V(ne(t.templates.togglericon),{key:0,node:t.node,expanded:a.expanded,class:M(e.cx("togglerIcon"))},null,8,["node","expanded","class"])):a.expanded?(u(),V(ne(t.node.expandedIcon?"span":"ChevronDownIcon"),L({key:1,class:e.cx("togglerIcon")},a.getPTOptions("togglerIcon")),null,16,["class"])):(u(),V(ne(t.node.collapsedIcon?"span":"ChevronRightIcon"),L({key:2,class:e.cx("togglerIcon")},a.getPTOptions("togglerIcon")),null,16,["class"]))],64))],16)),[[s]]),a.checkboxMode?(u(),V(c,{key:0,modelValue:a.checked,binary:!0,class:M(e.cx("nodeCheckbox")),tabindex:-1,unstyled:e.unstyled,pt:a.getPTOptions("nodeCheckbox"),"data-p-checked":a.checked,"data-p-partialchecked":a.partialChecked},{icon:oe(function(p){return[t.templates.checkboxicon?(u(),V(ne(t.templates.checkboxicon),{key:0,checked:p.checked,partialChecked:a.partialChecked,class:M(p.class)},null,8,["checked","partialChecked","class"])):(u(),V(ne(a.checked?"CheckIcon":a.partialChecked?"MinusIcon":null),L({key:1,class:p.class},a.getPTOptions("nodeCheckbox.icon")),null,16,["class"]))]}),_:1},8,["modelValue","class","unstyled","pt","data-p-checked","data-p-partialchecked"])):$("",!0),d("span",L({class:[e.cx("nodeIcon"),t.node.icon]},a.getPTOptions("nodeIcon")),null,16),d("span",L({class:e.cx("label")},a.getPTOptions("label"),{onKeydown:n[1]||(n[1]=_t(function(){},["stop"]))}),[t.templates[t.node.type]||t.templates.default?(u(),V(ne(t.templates[t.node.type]||t.templates.default),{key:0,node:t.node},null,8,["node"])):(u(),f(B,{key:1},[z(y(a.label(t.node)),1)],64))],16)],16,nn),a.hasChildren&&a.expanded?(u(),f("ul",L({key:0,class:e.cx("subgroup"),role:"group"},e.ptm("subgroup")),[(u(!0),f(B,null,Y(t.node.children,function(p){return u(),V(h,{key:p.key,node:p,templates:t.templates,level:t.level+1,expandedKeys:t.expandedKeys,onNodeToggle:a.onChildNodeToggle,onNodeClick:a.onChildNodeClick,selectionMode:t.selectionMode,selectionKeys:t.selectionKeys,onCheckboxChange:a.propagateUp,unstyled:e.unstyled,pt:e.pt},null,8,["node","templates","level","expandedKeys","onNodeToggle","onNodeClick","selectionMode","selectionKeys","onCheckboxChange","unstyled","pt"])}),128))],16)):$("",!0)],16,tn)}lt.render=on;function be(e){"@babel/helpers - typeof";return be=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(n){return typeof n}:function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},be(e)}function Se(e,n){var t=typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(!t){if(Array.isArray(e)||(t=ct(e))||n&&e&&typeof e.length=="number"){t&&(e=t);var o=0,i=function(){};return{s:i,n:function(){return o>=e.length?{done:!0}:{done:!1,value:e[o++]}},e:function(s){throw s},f:i}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var a=!0,r=!1,c;return{s:function(){t=t.call(e)},n:function(){var s=t.next();return a=s.done,s},e:function(s){r=!0,c=s},f:function(){try{!a&&t.return!=null&&t.return()}finally{if(r)throw c}}}}function an(e){return ln(e)||rn(e)||ct(e)||sn()}function sn(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ct(e,n){if(e){if(typeof e=="string")return Ae(e,n);var t=Object.prototype.toString.call(e).slice(8,-1);if(t==="Object"&&e.constructor&&(t=e.constructor.name),t==="Map"||t==="Set")return Array.from(e);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return Ae(e,n)}}function rn(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function ln(e){if(Array.isArray(e))return Ae(e)}function Ae(e,n){(n==null||n>e.length)&&(n=e.length);for(var t=0,o=new Array(n);t<n;t++)o[t]=e[t];return o}function $e(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);n&&(o=o.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),t.push.apply(t,o)}return t}function ce(e){for(var n=1;n<arguments.length;n++){var t=arguments[n]!=null?arguments[n]:{};n%2?$e(Object(t),!0).forEach(function(o){cn(e,o,t[o])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):$e(Object(t)).forEach(function(o){Object.defineProperty(e,o,Object.getOwnPropertyDescriptor(t,o))})}return e}function cn(e,n,t){return n=dn(n),n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function dn(e){var n=un(e,"string");return be(n)=="symbol"?n:String(n)}function un(e,n){if(be(e)!="object"||!e)return e;var t=e[Symbol.toPrimitive];if(t!==void 0){var o=t.call(e,n||"default");if(be(o)!="object")return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return(n==="string"?String:Number)(e)}var dt={name:"Tree",extends:zt,inheritAttrs:!1,emits:["node-expand","node-collapse","update:expandedKeys","update:selectionKeys","node-select","node-unselect","filter"],data:function(){return{d_expandedKeys:this.expandedKeys||{},filterValue:null}},watch:{expandedKeys:function(n){this.d_expandedKeys=n}},methods:{onNodeToggle:function(n){var t=n.key;this.d_expandedKeys[t]?(delete this.d_expandedKeys[t],this.$emit("node-collapse",n)):(this.d_expandedKeys[t]=!0,this.$emit("node-expand",n)),this.d_expandedKeys=ce({},this.d_expandedKeys),this.$emit("update:expandedKeys",this.d_expandedKeys)},onNodeClick:function(n){if(this.selectionMode!=null&&n.node.selectable!==!1){var t=n.nodeTouched?!1:this.metaKeySelection,o=t?this.handleSelectionWithMetaKey(n):this.handleSelectionWithoutMetaKey(n);this.$emit("update:selectionKeys",o)}},onCheckboxChange:function(n){this.$emit("update:selectionKeys",n.selectionKeys),n.check?this.$emit("node-select",n.node):this.$emit("node-unselect",n.node)},handleSelectionWithMetaKey:function(n){var t=n.originalEvent,o=n.node,i=t.metaKey||t.ctrlKey,a=this.isNodeSelected(o),r;return a&&i?(this.isSingleSelectionMode()?r={}:(r=ce({},this.selectionKeys),delete r[o.key]),this.$emit("node-unselect",o)):(this.isSingleSelectionMode()?r={}:this.isMultipleSelectionMode()&&(r=i?this.selectionKeys?ce({},this.selectionKeys):{}:{}),r[o.key]=!0,this.$emit("node-select",o)),r},handleSelectionWithoutMetaKey:function(n){var t=n.node,o=this.isNodeSelected(t),i;return this.isSingleSelectionMode()?o?(i={},this.$emit("node-unselect",t)):(i={},i[t.key]=!0,this.$emit("node-select",t)):o?(i=ce({},this.selectionKeys),delete i[t.key],this.$emit("node-unselect",t)):(i=this.selectionKeys?ce({},this.selectionKeys):{},i[t.key]=!0,this.$emit("node-select",t)),i},isSingleSelectionMode:function(){return this.selectionMode==="single"},isMultipleSelectionMode:function(){return this.selectionMode==="multiple"},isNodeSelected:function(n){return this.selectionMode&&this.selectionKeys?this.selectionKeys[n.key]===!0:!1},isChecked:function(n){return this.selectionKeys?this.selectionKeys[n.key]&&this.selectionKeys[n.key].checked:!1},isNodeLeaf:function(n){return n.leaf===!1?!1:!(n.children&&n.children.length)},onFilterKeydown:function(n){(n.code==="Enter"||n.code==="NumpadEnter")&&n.preventDefault(),this.$emit("filter",{originalEvent:n,value:n.target.value})},findFilteredNodes:function(n,t){if(n){var o=!1;if(n.children){var i=an(n.children);n.children=[];var a=Se(i),r;try{for(a.s();!(r=a.n()).done;){var c=r.value,h=ce({},c);this.isFilterMatched(h,t)&&(o=!0,n.children.push(h))}}catch(s){a.e(s)}finally{a.f()}}if(o)return!0}},isFilterMatched:function(n,t){var o=t.searchFields,i=t.filterText,a=t.strict,r=!1,c=Se(o),h;try{for(c.s();!(h=c.n()).done;){var s=h.value,p=String(Ee.resolveFieldData(n,s)).toLocaleLowerCase(this.filterLocale);p.indexOf(i)>-1&&(r=!0)}}catch(g){c.e(g)}finally{c.f()}return(!r||a&&!this.isNodeLeaf(n))&&(r=this.findFilteredNodes(n,{searchFields:o,filterText:i,strict:a})||r),r}},computed:{filteredValue:function(){var n=[],t=this.filterBy.split(","),o=this.filterValue.trim().toLocaleLowerCase(this.filterLocale),i=this.filterMode==="strict",a=Se(this.value),r;try{for(a.s();!(r=a.n()).done;){var c=r.value,h=ce({},c),s={searchFields:t,filterText:o,strict:i};(i&&(this.findFilteredNodes(h,s)||this.isFilterMatched(h,s))||!i&&(this.isFilterMatched(h,s)||this.findFilteredNodes(h,s)))&&n.push(h)}}catch(p){a.e(p)}finally{a.f()}return n},valueToRender:function(){return this.filterValue&&this.filterValue.trim().length>0?this.filteredValue:this.value}},components:{TreeNode:lt,SearchIcon:Tt,SpinnerIcon:tt}},hn=["placeholder"],fn=["aria-labelledby","aria-label"];function pn(e,n,t,o,i,a){var r=X("SpinnerIcon"),c=X("SearchIcon"),h=X("TreeNode");return u(),f("div",L({class:e.cx("root")},e.ptmi("root")),[e.loading&&e.loadingMode==="mask"?(u(),f("div",L({key:0,class:e.cx("loadingOverlay")},e.ptm("loadingOverlay")),[Oe(e.$slots,"loadingicon",{class:M(e.cx("loadingIcon"))},function(){return[e.loadingIcon?(u(),f("i",L({key:0,class:[e.cx("loadingIcon"),"pi-spin",e.loadingIcon]},e.ptm("loadingIcon")),null,16)):(u(),V(r,L({key:1,spin:"",class:e.cx("loadingIcon")},e.ptm("loadingIcon")),null,16,["class"]))]})],16)):$("",!0),e.filter?(u(),f("div",L({key:1,class:e.cx("filterContainer")},e.ptm("filterContainer")),[nt(d("input",L({"onUpdate:modelValue":n[0]||(n[0]=function(s){return i.filterValue=s}),type:"text",autocomplete:"off",class:e.cx("input"),placeholder:e.filterPlaceholder,onKeydown:n[1]||(n[1]=function(){return a.onFilterKeydown&&a.onFilterKeydown.apply(a,arguments)})},e.ptm("input")),null,16,hn),[[It,i.filterValue]]),Oe(e.$slots,"searchicon",{class:M(e.cx("searchIcon"))},function(){return[A(c,L({class:e.cx("searchIcon")},e.ptm("searchIcon")),null,16,["class"])]})],16)):$("",!0),d("div",L({class:e.cx("wrapper"),style:{maxHeight:e.scrollHeight}},e.ptm("wrapper")),[d("ul",L({class:e.cx("container"),role:"tree","aria-labelledby":e.ariaLabelledby,"aria-label":e.ariaLabel},e.ptm("container")),[(u(!0),f(B,null,Y(a.valueToRender,function(s,p){return u(),V(h,{key:s.key,node:s,templates:e.$slots,level:e.level+1,index:p,expandedKeys:i.d_expandedKeys,onNodeToggle:a.onNodeToggle,onNodeClick:a.onNodeClick,selectionMode:e.selectionMode,selectionKeys:e.selectionKeys,onCheckboxChange:a.onCheckboxChange,loadingMode:e.loadingMode,unstyled:e.unstyled,pt:e.pt},null,8,["node","templates","level","index","expandedKeys","onNodeToggle","onNodeClick","selectionMode","selectionKeys","onCheckboxChange","loadingMode","unstyled","pt"])}),128))],16,fn)],16)],16)}dt.render=pn;const gn={id:"wrapper"},mn=["onClick"],vn=["onClick"],yn=["onClick"],bn=["onClick"],Cn=["onClick"],_n=se({__name:"SideBar",props:["chapters","courseTitle"],setup(e){const n=e,t=ot(),o=he(),i=T(!0),a=T(),r=ue(()=>{var h;let c=n.chapters;for(let s=0;s<(c==null?void 0:c.length);s++){c[s].label=C(c[s].title),c[s].children=c[s].materials,c[s].key="k"+s.toString();for(let p=0;p<((h=c[s].children)==null?void 0:h.length);p++)c[s].children[p].label=C(c[s].children[p].title),c[s].children[p].key="k"+s.toString()+"_"+p.toString(),c[s].children[p].Id==o.params.materialId&&(a.value=Object.fromEntries(new Map([[c[s].children[p].key,!0]])))}return c});return(c,h)=>(u(),f("div",gn,[d("span",{onClick:h[0]||(h[0]=s=>i.value=!i.value),class:"circle"},[d("span",{class:M(["upper-arrow",{upperArrowShrink:i.value}])},null,2),d("span",{class:M(["down-arrow",{downArrowShrink:i.value}])},null,2)]),d("div",{class:M(["container",{shrink:i.value}])},[d("h3",null,y(l(C)(e.courseTitle)),1),A(l(dt),{value:r.value,class:"tree"},{default:oe(s=>[d("p",{class:M(["default",{head:s.node.status=="head"}])},y(s.node.label),3)]),Quiz:oe(s=>[d("p",{class:M(["unselected",{done:s.node.status=="Done",selected:s.node.Id==l(o).params.materialId}]),onClick:()=>{l(t).push(`/viewCoursePage/${l(o).params.courseId}/${l(o).params.enrollmentId}/${s.node.Id}`)}},[d("i",{class:M(s.node.matIcon)},null,2),z(" "+y(s.node.label),1)],10,mn)]),Lesson:oe(s=>[d("p",{class:M(["unselected",{selected:s.node.Id==l(o).params.materialId,done:s.node.status=="Done"}]),onClick:()=>{l(t).push(`/viewCoursePage/${l(o).params.courseId}/${l(o).params.enrollmentId}/${s.node.Id}`)}},[d("i",{class:M(s.node.matIcon)},null,2),z(" "+y(s.node.label),1)],10,vn)]),Simulation:oe(s=>[d("p",{class:M(["unselected",{selected:s.node.Id==l(o).params.materialId,done:s.node.status=="Done"}]),onClick:()=>{l(t).push(`/viewCoursePage/${l(o).params.courseId}/${l(o).params.enrollmentId}/${s.node.Id}`)}},[d("i",{class:M(s.node.matIcon)},null,2),z(" "+y(s.node.label),1)],10,yn)]),Activity:oe(s=>[d("p",{class:M(["unselected",{selected:s.node.Id==l(o).params.materialId,done:s.node.status=="Done"}]),onClick:()=>{l(t).push(`/viewCoursePage/${l(o).params.courseId}/${l(o).params.enrollmentId}/${s.node.Id}`)}},[d("i",{class:M(s.node.matIcon)},null,2),z(" "+y(s.node.label),1)],10,bn)]),Project:oe(s=>[d("p",{class:M(["unselected",{selected:s.node.Id==l(o).params.materialId,done:s.node.status=="Done"}]),onClick:()=>{l(t).push(`/viewCoursePage/${l(o).params.courseId}/${l(o).params.enrollmentId}/${s.node.Id}`)}},[d("i",{class:M(s.node.matIcon)},null,2),z(" "+y(s.node.label),1)],10,Cn)]),_:1},8,["value"])],2)]))}}),In=re(_n,[["__scopeId","data-v-318b6002"]]),kn={class:"container"},wn={class:"wrapper"},xn=["src"],Sn=se({__name:"Lesson",props:["completed"],emits:["next"],setup(e,{emit:n}){const t=n,o=he(),i=T(),a=ue(()=>o.params.materialId);Ie(a,()=>{r()});const r=()=>{new W("get_lesson").callApi({lesson_id:o.params.materialId}).then(s=>{var p;s!=null&&s.success&&(i.value=(p=s==null?void 0:s.data)==null?void 0:p.lesson)})};r();function c(){const h=new W("add_progress");let s={lesson_progress:{lesson_id:o.params.materialId,completed_at:new Date().toISOString()},material_type:"Lesson"};h.callApi({progres:s,enrolment_id:o.params.enrollmentId}).then(p=>{t("next",!0)})}return(h,s)=>{var p,g,v;return u(),f("main",null,[d("div",kn,[d("h2",null,y(l(C)((p=i.value)==null?void 0:p.title)),1),d("p",null,y(l(C)((g=i.value)==null?void 0:g.description)),1),d("div",wn,[d("iframe",{src:(v=i.value)==null?void 0:v.source,frameborder:"0",sandbox:"allow-scripts allow-same-origin",allowfullscreen:""},null,8,xn)]),A(l(Q),{disabled:e.completed,icon:"pi pi-check-circle",label:l(C)(l(D).markCompleted),"icon-pos":"right",onClick:c},null,8,["disabled","label"])])])}}}),En=re(Sn,[["__scopeId","data-v-434a707a"]]),On={class:"container"},Mn={style:{color:"var(--accent2)"}},Tn=["src"],An=se({__name:"Simulation",props:["completed"],emits:["next"],setup(e,{emit:n}){const t=n,o=he(),i=T(),a=ue(()=>o.params.materialId);Ie(a,()=>{r()});const r=()=>{new W("get_simulation").callApi({simulation_id:o.params.materialId}).then(p=>{var g;p!=null&&p.success&&(i.value=(g=p==null?void 0:p.data)==null?void 0:g.simulation)})};r();function c(){const s=new W("add_progress");let p={simulation_progress:{simulation_id:o.params.materialId,completed_at:new Date().toISOString()},material_type:"Simulation"};s.callApi({progres:p,enrolment_id:o.params.enrollmentId}).then(g=>{t("next",!0)})}function h(s){window.open(s)}return(s,p)=>{var g,v,m;return u(),f("main",null,[d("div",On,[d("h2",null,y(l(C)((g=i.value)==null?void 0:g.title)),1),d("p",null,y(l(C)((v=i.value)==null?void 0:v.description)),1),d("div",{class:"wrapper",style:{cursor:"pointer"},onClick:p[0]||(p[0]=()=>{var I;h((I=i.value)==null?void 0:I.source)})},[d("h4",Mn,y(l(C)(l(D).clickToView)),1),d("img",{src:(m=i.value)==null?void 0:m.image},null,8,Tn)]),A(l(Q),{disabled:e.completed,icon:"pi pi-check-circle",label:l(C)(l(D).markCompleted),"icon-pos":"right",onClick:c},null,8,["disabled","label"])])])}}}),Rn=re(An,[["__scopeId","data-v-9dfc33b3"]]),Nn={class:"container"},Ln={class:"wrapper"},Kn=["src"],Dn=se({__name:"Project",props:["completed"],emits:["next"],setup(e,{emit:n}){const t=n,o=he(),i=T(),a=ue(()=>o.params.materialId);Ie(a,()=>{r()});const r=()=>{new W("get_project").callApi({project_id:o.params.materialId}).then(s=>{var p;s!=null&&s.success&&(i.value=(p=s==null?void 0:s.data)==null?void 0:p.project)})};r();function c(){const h=new W("add_progress");let s={project_progress:{project_id:o.params.materialId,completed_at:new Date().toISOString()},material_type:"Project"};h.callApi({progres:s,enrolment_id:o.params.enrollmentId}).then(p=>{t("next",!0)})}return(h,s)=>{var p,g,v;return u(),f("main",null,[d("div",Nn,[d("h2",null,y(l(C)((p=i.value)==null?void 0:p.title)),1),d("p",null,y(l(C)((g=i.value)==null?void 0:g.description)),1),d("div",Ln,[d("iframe",{src:(v=i.value)==null?void 0:v.source,frameborder:"0",sandbox:"allow-scripts allow-same-origin",allowfullscreen:""},null,8,Kn)]),A(l(Q),{disabled:e.completed,icon:"pi pi-check-circle",label:l(C)(l(D).markCompleted),"icon-pos":"right",onClick:c},null,8,["disabled","label"])])])}}}),$n=re(Dn,[["__scopeId","data-v-e77f0317"]]),Hn={class:"container"},jn={key:0},Pn={class:"wrapper"},Fn={key:0,class:"images"},Bn=["src"],qn={key:1,class:"items"},Un={class:"item"},Gn=["onClick"],Vn={class:"allitems"},Yn={key:0,class:"items"},zn={key:0,class:"images"},Zn=["src"],Wn={class:"item"},Qn={key:0},Jn=["src"],Xn={key:1,class:"images"},eo=["src"],to={key:2,class:"images"},no=["src"],oo=se({__name:"Activity",props:["completed"],emits:["next"],setup(e,{emit:n}){const t=n,o=he(),i=T(),a=T(D),r=ue(()=>o.params.materialId);Ie(r,()=>{c()});const c=()=>{new W("get_activity").callApi({activity_id:o.params.materialId}).then(v=>{var m;v!=null&&v.success&&(i.value=(m=v==null?void 0:v.data)==null?void 0:m.activity)})};c();function h(){const g=new W("add_progress");let v={activity_progress:{activity_id:o.params.materialId,completed_at:new Date().toISOString()},material_type:"Activity"};g.callApi({progres:v,enrolment_id:o.params.enrollmentId}).then(m=>{t("next",!0)})}const s=["objectives","terms_concepts","materials","instructions","results","conclusions"];function p(g){window.open(g)}return(g,v)=>{var m,I,R,q,S,K,k,b,O;return u(),f("main",null,[d("div",Hn,[d("h2",null,y(l(C)((m=i.value)==null?void 0:m.title)),1),(I=i.value)!=null&&I.description?(u(),f("p",jn,y(l(C)((R=i.value)==null?void 0:R.description)),1)):$("",!0),d("div",Pn,[(q=i.value)!=null&&q.start_images?(u(),f("div",Fn,[(u(!0),f(B,null,Y((S=i.value)==null?void 0:S.start_images,_=>(u(),f("img",{src:_,alt:""},null,8,Bn))),256))])):$("",!0),(K=i.value)!=null&&K.sources?(u(),f("div",qn,[d("h3",null,y(l(C)(l(D).sources)),1),(u(!0),f(B,null,Y((k=i.value)==null?void 0:k.sources,(_,x)=>(u(),f("div",Un,[d("p",{style:{color:"var(--secondary)",cursor:"pointer"},onClick:()=>{p(_)}},y(l(C)(l(D).source))+" "+y(x+1),9,Gn)]))),256))])):$("",!0),(u(),f(B,null,Y(s,_=>{var x,w,H,P,U,G,te,ee,E,N,pe,J;return d("div",Vn,[(x=i.value)!=null&&x[_]?(u(),f("div",Yn,[(H=(w=i.value)==null?void 0:w[_])!=null&&H.start_images?(u(),f("div",zn,[(u(!0),f(B,null,Y((U=(P=i.value)==null?void 0:P[_])==null?void 0:U.start_images,j=>(u(),f("img",{src:j,alt:""},null,8,Zn))),256))])):$("",!0),d("h3",null,y(l(C)((G=a.value)==null?void 0:G[_])),1),(u(!0),f(B,null,Y((ee=(te=i.value)==null?void 0:te[_])==null?void 0:ee.items,j=>(u(),f("div",Wn,[d("p",null,[d("span",{class:M({terms:_=="terms_concepts"})}," - "+y(l(C)(j.text)),3),j.description?(u(),f("span",Qn,": "+y(l(C)(j.description)),1)):$("",!0)]),j!=null&&j.image?(u(),f("img",{key:0,src:j==null?void 0:j.image,alt:""},null,8,Jn)):$("",!0)]))),256)),(N=(E=i.value)==null?void 0:E[_])!=null&&N.end_images?(u(),f("div",Xn,[(u(!0),f(B,null,Y((J=(pe=i.value)==null?void 0:pe[_])==null?void 0:J.end_images,j=>(u(),f("img",{src:j,alt:""},null,8,eo))),256))])):$("",!0)])):$("",!0)])}),64)),(b=i.value)!=null&&b.end_images?(u(),f("div",to,[(u(!0),f(B,null,Y((O=i.value)==null?void 0:O.end_images,_=>(u(),f("img",{src:_,alt:""},null,8,no))),256))])):$("",!0)]),A(l(Q),{disabled:e.completed,icon:"pi pi-check-circle",label:l(C)(l(D).markCompleted),"icon-pos":"right",onClick:h},null,8,["disabled","label"])])])}}}),io=re(oo,[["__scopeId","data-v-7fedae6c"]]),ao={class:"container"},so={class:"wrapper"},ro={key:0},lo={style:{"text-align":"center",color:"var(--accent1)"}},co={class:"count-down"},uo={key:1,class:"question-wrapper"},ho={class:"quiz-duration"},fo={style:{width:"fit-content"}},po={style:{direction:"ltr"}},go={key:0},mo={key:0,class:"question"},vo={class:"question-order"},yo={class:"question-text"},bo={class:"choices-wrapper"},Co=["onClick"],_o={class:"controls"},Io={class:"dialog-wrapper",style:{display:"flex","align-items":"center","flex-direction":"column"}},ko={key:0,class:"score"},wo={key:0,class:"interaction",src:"https://i.pinimg.com/originals/56/da/ac/56daac56f90ba6cf039125586181f6ea.gif",alt:""},xo={key:1,class:"interaction",src:"https://img.freepik.com/free-vector/hand-drawn-facepalm-illustration_23-2150212662.jpg?t=st=1720110311~exp=1720113911~hmac=f9f12f7c863341a0acb15d0ec44f785e42038ebf827f157f7863f0ea96805826&w=826",alt:""},So={key:1,class:"answers"},Eo={class:"question",style:{"min-height":"2rem"}},Oo={class:"question-order"},Mo={class:"question-text"},To={class:"choices-wrapper"},Ao={class:"quiz-duration"},Ro={key:0},No={class:"controls"},Lo=se({__name:"Quiz2",emits:["next"],setup(e){const n=he(),t=T(!0),o=T(0),i=T(0),a=T(0),r=T(0),c=T(!1),h=T(!0),s=T(0),p=ue(()=>n.params.materialId);Ie(p,()=>{v()});const g=T(),v=()=>{new W("get_quiz").callApi({quiz_id:n.params.materialId}).then(b=>{var O,_,x,w,H;if(b!=null&&b.success&&(g.value=(O=b==null?void 0:b.data)==null?void 0:O.quiz,(_=g.value)!=null&&_.questions))for(let P of(x=g.value)==null?void 0:x.questions){const U=T(!1),G=T(-1);P.showAnswer=U,P.selected=G}s.value=Math.floor(100/((H=(w=g.value)==null?void 0:w.questions)==null?void 0:H.length)),S()})};v(),setInterval(()=>{h.value||(i.value=i.value+1)},1e3);function m(){o.value=3;const k=setInterval(()=>{o.value==0&&(clearInterval(k),t.value=!1,I()),o.value=o.value-1},1e3)}function I(){i.value=0,h.value=!1}const R=T(!1);c.value=!1;function q(){var _,x;h.value=!0,R.value=!0;for(let w of(_=g.value)==null?void 0:_.questions)(w==null?void 0:w.correct_answer_id)==(w==null?void 0:w.selected)&&r.value++;const k=new W("add_progress");let b=[];for(let w of(x=g.value)==null?void 0:x.questions)(w==null?void 0:w.selected)!=-1&&b.push({question_id:w==null?void 0:w.id,choice_id:w==null?void 0:w.selected});let O={quiz_progress:{quiz_id:n.params.materialId,time_taken:i.value,created_at:new Date().toISOString(),answers:b},material_type:"Quiz"};k.callApi({progres:O,enrolment_id:n.params.enrollmentId})}function S(){var k,b,O,_;if(t.value=!0,o.value=3,a.value=0,r.value=0,c.value=!1,h.value=!0,R.value=!1,s.value=0,s.value=Math.floor(100/((b=(k=g.value)==null?void 0:k.questions)==null?void 0:b.length)),(O=g.value)!=null&&O.questions)for(let x of(_=g.value)==null?void 0:_.questions)x.selected=-1;m()}function K(){var x,w;let k=10,b=s.value,O=Math.floor((a.value+1)/((w=(x=g.value)==null?void 0:x.questions)==null?void 0:w.length)*100),_=10;for(let H=0;H<=_;H++)setTimeout(()=>{s.value=Math.floor(b+(O-b)/_*H)},k*H)}return(k,b)=>{var O,_,x,w,H;return u(),f("main",null,[d("div",ao,[d("h2",null,y(l(C)((O=g.value)==null?void 0:O.title)),1),d("p",null,y(l(C)((_=g.value)==null?void 0:_.description)),1),d("div",so,[t.value?(u(),f("div",ro,[d("h1",lo,y(l(C)(l(D).quizWillStart)),1),d("h1",co,y(o.value),1)])):(u(),f("div",uo,[d("div",ho,[d("span",fo,[z(y(l(C)(l(D).yourTime))+" ",1),d("strong",po,[z(y(Math.floor(i.value/60))+": ",1),i.value%60<10?(u(),f("strong",go,"0")):$("",!0),z(y(i.value%60),1)])])]),(u(!0),f(B,null,Y((x=g.value)==null?void 0:x.questions,(P,U)=>(u(),f("div",{key:P},[U==a.value?(u(),f("div",mo,[A(l(At),{style:{width:"75%","margin-bottom":"1rem"},value:s.value},null,8,["value"]),d("h3",vo,y(l(C)(l(D).question))+" "+y(U+1),1),d("h4",yo,y(l(C)(P==null?void 0:P.question)),1),d("div",bo,[(u(!0),f(B,null,Y(P==null?void 0:P.choices,G=>(u(),f("p",{class:M(["choice-text",{selectedChoice:g.value.questions[U].selected==G.id}]),key:G,onClick:()=>{g.value.questions[U].selected=G.id}},y(l(C)(G.choice)),11,Co))),128))])])):$("",!0)]))),128)),d("div",_o,[A(l(Q),{label:l(C)(l(D).prevQuestion),disabled:a.value==0,onClick:b[0]||(b[0]=()=>{a.value--,K()})},null,8,["label","disabled"]),A(l(Q),{label:l(C)(l(D).finishQuiz),onClick:q},null,8,["label"]),A(l(Q),{label:l(C)(l(D).nextQuestion),disabled:a.value+1==((H=(w=g.value)==null?void 0:w.questions)==null?void 0:H.length),onClick:b[1]||(b[1]=()=>{a.value++,K()})},null,8,["label","disabled"])])]))])]),A(l(kt),{visible:R.value,"onUpdate:visible":b[4]||(b[4]=P=>R.value=P),modal:"",class:"dialog",style:{"max-width":"75%"},pt:{root:"border-none",mask:{style:"backdrop-filter: blur(2px)"}}},{container:oe(({closeCallback:P})=>{var U,G,te,ee,E,N,pe;return[d("div",Io,[c.value?(u(),f("div",So,[(u(!0),f(B,null,Y((pe=g.value)==null?void 0:pe.questions,(J,j)=>(u(),f("div",{key:J},[d("div",Eo,[d("h4",Oo,y(l(C)(l(D).question))+" "+y(j+1),1),d("h4",Mo,y(l(C)(J==null?void 0:J.question)),1),d("div",To,[(u(!0),f(B,null,Y(J==null?void 0:J.choices,ge=>(u(),f("p",{class:M(["choice-text",{correct:ge.id==g.value.questions[j].correct_answer_id,selectedChoice:g.value.questions[j].selected==ge.id,wrong:g.value.questions[j].selected!=g.value.questions[j].correct_answer_id&&g.value.questions[j].selected==ge.id}]),key:ge,style:{cursor:"auto"}},y(l(C)(ge.choice)),3))),128))])])]))),128))])):(u(),f("div",ko,[d("p",null,y(l(C)(l(D).yourScore)),1),d("p",null,y(Math.floor(r.value/((G=(U=g.value)==null?void 0:U.questions)==null?void 0:G.length)*100))+"%",1),r.value/((ee=(te=g.value)==null?void 0:te.questions)==null?void 0:ee.length)>.9?(u(),f("img",wo)):$("",!0),r.value/((N=(E=g.value)==null?void 0:E.questions)==null?void 0:N.length)<.5?(u(),f("img",xo)):$("",!0)])),d("div",Ao,[d("span",null,[z(y(l(C)(l(D).yourTime))+" ",1),d("strong",null,[z(y(Math.floor(i.value/60))+": ",1),i.value%60<10?(u(),f("strong",Ro,"0")):$("",!0),z(y(i.value%60),1)])])]),d("div",No,[A(l(Q),{label:l(C)(l(D).showAnswer),onClick:b[2]||(b[2]=J=>c.value=!0)},null,8,["label"]),A(l(Q),{label:l(C)(l(D).tryAgain),onClick:S},null,8,["label"]),A(l(Q),{label:l(C)(l(D).nextLesson),onClick:b[3]||(b[3]=J=>k.$emit("next",!0))},null,8,["label"])])])]}),_:1},8,["visible","pt"])])}}}),Ko=re(Lo,[["__scopeId","data-v-5b8d888e"]]);var He;(function(e){e.STRING="string",e.NUMBER="number",e.INTEGER="integer",e.BOOLEAN="boolean",e.ARRAY="array",e.OBJECT="object"})(He||(He={}));/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var je;(function(e){e.LANGUAGE_UNSPECIFIED="language_unspecified",e.PYTHON="python"})(je||(je={}));var Pe;(function(e){e.OUTCOME_UNSPECIFIED="outcome_unspecified",e.OUTCOME_OK="outcome_ok",e.OUTCOME_FAILED="outcome_failed",e.OUTCOME_DEADLINE_EXCEEDED="outcome_deadline_exceeded"})(Pe||(Pe={}));/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fe=["user","model","function","system"];var Be;(function(e){e.HARM_CATEGORY_UNSPECIFIED="HARM_CATEGORY_UNSPECIFIED",e.HARM_CATEGORY_HATE_SPEECH="HARM_CATEGORY_HATE_SPEECH",e.HARM_CATEGORY_SEXUALLY_EXPLICIT="HARM_CATEGORY_SEXUALLY_EXPLICIT",e.HARM_CATEGORY_HARASSMENT="HARM_CATEGORY_HARASSMENT",e.HARM_CATEGORY_DANGEROUS_CONTENT="HARM_CATEGORY_DANGEROUS_CONTENT"})(Be||(Be={}));var qe;(function(e){e.HARM_BLOCK_THRESHOLD_UNSPECIFIED="HARM_BLOCK_THRESHOLD_UNSPECIFIED",e.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",e.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",e.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",e.BLOCK_NONE="BLOCK_NONE"})(qe||(qe={}));var Ue;(function(e){e.HARM_PROBABILITY_UNSPECIFIED="HARM_PROBABILITY_UNSPECIFIED",e.NEGLIGIBLE="NEGLIGIBLE",e.LOW="LOW",e.MEDIUM="MEDIUM",e.HIGH="HIGH"})(Ue||(Ue={}));var Ge;(function(e){e.BLOCKED_REASON_UNSPECIFIED="BLOCKED_REASON_UNSPECIFIED",e.SAFETY="SAFETY",e.OTHER="OTHER"})(Ge||(Ge={}));var ve;(function(e){e.FINISH_REASON_UNSPECIFIED="FINISH_REASON_UNSPECIFIED",e.STOP="STOP",e.MAX_TOKENS="MAX_TOKENS",e.SAFETY="SAFETY",e.RECITATION="RECITATION",e.LANGUAGE="LANGUAGE",e.OTHER="OTHER"})(ve||(ve={}));var Ve;(function(e){e.TASK_TYPE_UNSPECIFIED="TASK_TYPE_UNSPECIFIED",e.RETRIEVAL_QUERY="RETRIEVAL_QUERY",e.RETRIEVAL_DOCUMENT="RETRIEVAL_DOCUMENT",e.SEMANTIC_SIMILARITY="SEMANTIC_SIMILARITY",e.CLASSIFICATION="CLASSIFICATION",e.CLUSTERING="CLUSTERING"})(Ve||(Ve={}));var Ye;(function(e){e.MODE_UNSPECIFIED="MODE_UNSPECIFIED",e.AUTO="AUTO",e.ANY="ANY",e.NONE="NONE"})(Ye||(Ye={}));/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z extends Error{constructor(n){super(`[GoogleGenerativeAI Error]: ${n}`)}}class fe extends Z{constructor(n,t){super(n),this.response=t}}class ut extends Z{constructor(n,t,o,i){super(n),this.status=t,this.statusText=o,this.errorDetails=i}}class ae extends Z{}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Do="https://generativelanguage.googleapis.com",$o="v1beta",Ho="0.20.0",jo="genai-js";var de;(function(e){e.GENERATE_CONTENT="generateContent",e.STREAM_GENERATE_CONTENT="streamGenerateContent",e.COUNT_TOKENS="countTokens",e.EMBED_CONTENT="embedContent",e.BATCH_EMBED_CONTENTS="batchEmbedContents"})(de||(de={}));class Po{constructor(n,t,o,i,a){this.model=n,this.task=t,this.apiKey=o,this.stream=i,this.requestOptions=a}toString(){var n,t;const o=((n=this.requestOptions)===null||n===void 0?void 0:n.apiVersion)||$o;let a=`${((t=this.requestOptions)===null||t===void 0?void 0:t.baseUrl)||Do}/${o}/${this.model}:${this.task}`;return this.stream&&(a+="?alt=sse"),a}}function Fo(e){const n=[];return e!=null&&e.apiClient&&n.push(e.apiClient),n.push(`${jo}/${Ho}`),n.join(" ")}async function Bo(e){var n;const t=new Headers;t.append("Content-Type","application/json"),t.append("x-goog-api-client",Fo(e.requestOptions)),t.append("x-goog-api-key",e.apiKey);let o=(n=e.requestOptions)===null||n===void 0?void 0:n.customHeaders;if(o){if(!(o instanceof Headers))try{o=new Headers(o)}catch(i){throw new ae(`unable to convert customHeaders value ${JSON.stringify(o)} to Headers: ${i.message}`)}for(const[i,a]of o.entries()){if(i==="x-goog-api-key")throw new ae(`Cannot set reserved header name ${i}`);if(i==="x-goog-api-client")throw new ae(`Header name ${i} can only be set using the apiClient field`);t.append(i,a)}}return t}async function qo(e,n,t,o,i,a){const r=new Po(e,n,t,o,a);return{url:r.toString(),fetchOptions:Object.assign(Object.assign({},Yo(a)),{method:"POST",headers:await Bo(r),body:i})}}async function ke(e,n,t,o,i,a={},r=fetch){const{url:c,fetchOptions:h}=await qo(e,n,t,o,i,a);return Uo(c,h,r)}async function Uo(e,n,t=fetch){let o;try{o=await t(e,n)}catch(i){Go(i,e)}return o.ok||await Vo(o,e),o}function Go(e,n){let t=e;throw e instanceof ut||e instanceof ae||(t=new Z(`Error fetching from ${n.toString()}: ${e.message}`),t.stack=e.stack),t}async function Vo(e,n){let t="",o;try{const i=await e.json();t=i.error.message,i.error.details&&(t+=` ${JSON.stringify(i.error.details)}`,o=i.error.details)}catch{}throw new ut(`Error fetching from ${n.toString()}: [${e.status} ${e.statusText}] ${t}`,e.status,e.statusText,o)}function Yo(e){const n={};if((e==null?void 0:e.signal)!==void 0||(e==null?void 0:e.timeout)>=0){const t=new AbortController;(e==null?void 0:e.timeout)>=0&&setTimeout(()=>t.abort(),e.timeout),e!=null&&e.signal&&e.signal.addEventListener("abort",()=>{t.abort()}),n.signal=t.signal}return n}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ne(e){return e.text=()=>{if(e.candidates&&e.candidates.length>0){if(e.candidates.length>1&&console.warn(`This response had ${e.candidates.length} candidates. Returning text from the first candidate only. Access response.candidates directly to use the other candidates.`),xe(e.candidates[0]))throw new fe(`${ie(e)}`,e);return zo(e)}else if(e.promptFeedback)throw new fe(`Text not available. ${ie(e)}`,e);return""},e.functionCall=()=>{if(e.candidates&&e.candidates.length>0){if(e.candidates.length>1&&console.warn(`This response had ${e.candidates.length} candidates. Returning function calls from the first candidate only. Access response.candidates directly to use the other candidates.`),xe(e.candidates[0]))throw new fe(`${ie(e)}`,e);return console.warn("response.functionCall() is deprecated. Use response.functionCalls() instead."),ze(e)[0]}else if(e.promptFeedback)throw new fe(`Function call not available. ${ie(e)}`,e)},e.functionCalls=()=>{if(e.candidates&&e.candidates.length>0){if(e.candidates.length>1&&console.warn(`This response had ${e.candidates.length} candidates. Returning function calls from the first candidate only. Access response.candidates directly to use the other candidates.`),xe(e.candidates[0]))throw new fe(`${ie(e)}`,e);return ze(e)}else if(e.promptFeedback)throw new fe(`Function call not available. ${ie(e)}`,e)},e}function zo(e){var n,t,o,i;const a=[];if(!((t=(n=e.candidates)===null||n===void 0?void 0:n[0].content)===null||t===void 0)&&t.parts)for(const r of(i=(o=e.candidates)===null||o===void 0?void 0:o[0].content)===null||i===void 0?void 0:i.parts)r.text&&a.push(r.text),r.executableCode&&a.push("\n```"+r.executableCode.language+`
`+r.executableCode.code+"\n```\n"),r.codeExecutionResult&&a.push("\n```\n"+r.codeExecutionResult.output+"\n```\n");return a.length>0?a.join(""):""}function ze(e){var n,t,o,i;const a=[];if(!((t=(n=e.candidates)===null||n===void 0?void 0:n[0].content)===null||t===void 0)&&t.parts)for(const r of(i=(o=e.candidates)===null||o===void 0?void 0:o[0].content)===null||i===void 0?void 0:i.parts)r.functionCall&&a.push(r.functionCall);if(a.length>0)return a}const Zo=[ve.RECITATION,ve.SAFETY,ve.LANGUAGE];function xe(e){return!!e.finishReason&&Zo.includes(e.finishReason)}function ie(e){var n,t,o;let i="";if((!e.candidates||e.candidates.length===0)&&e.promptFeedback)i+="Response was blocked",!((n=e.promptFeedback)===null||n===void 0)&&n.blockReason&&(i+=` due to ${e.promptFeedback.blockReason}`),!((t=e.promptFeedback)===null||t===void 0)&&t.blockReasonMessage&&(i+=`: ${e.promptFeedback.blockReasonMessage}`);else if(!((o=e.candidates)===null||o===void 0)&&o[0]){const a=e.candidates[0];xe(a)&&(i+=`Candidate was blocked due to ${a.finishReason}`,a.finishMessage&&(i+=`: ${a.finishMessage}`))}return i}function Ce(e){return this instanceof Ce?(this.v=e,this):new Ce(e)}function Wo(e,n,t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var o=t.apply(e,n||[]),i,a=[];return i={},r("next"),r("throw"),r("return"),i[Symbol.asyncIterator]=function(){return this},i;function r(v){o[v]&&(i[v]=function(m){return new Promise(function(I,R){a.push([v,m,I,R])>1||c(v,m)})})}function c(v,m){try{h(o[v](m))}catch(I){g(a[0][3],I)}}function h(v){v.value instanceof Ce?Promise.resolve(v.value.v).then(s,p):g(a[0][2],v)}function s(v){c("next",v)}function p(v){c("throw",v)}function g(v,m){v(m),a.shift(),a.length&&c(a[0][0],a[0][1])}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ze=/^data\: (.*)(?:\n\n|\r\r|\r\n\r\n)/;function Qo(e){const n=e.body.pipeThrough(new TextDecoderStream("utf8",{fatal:!0})),t=ei(n),[o,i]=t.tee();return{stream:Xo(o),response:Jo(i)}}async function Jo(e){const n=[],t=e.getReader();for(;;){const{done:o,value:i}=await t.read();if(o)return Ne(ti(n));n.push(i)}}function Xo(e){return Wo(this,arguments,function*(){const t=e.getReader();for(;;){const{value:o,done:i}=yield Ce(t.read());if(i)break;yield yield Ce(Ne(o))}})}function ei(e){const n=e.getReader();return new ReadableStream({start(o){let i="";return a();function a(){return n.read().then(({value:r,done:c})=>{if(c){if(i.trim()){o.error(new Z("Failed to parse stream"));return}o.close();return}i+=r;let h=i.match(Ze),s;for(;h;){try{s=JSON.parse(h[1])}catch{o.error(new Z(`Error parsing JSON response: "${h[1]}"`));return}o.enqueue(s),i=i.substring(h[0].length),h=i.match(Ze)}return a()})}}})}function ti(e){const n=e[e.length-1],t={promptFeedback:n==null?void 0:n.promptFeedback};for(const o of e){if(o.candidates)for(const i of o.candidates){const a=i.index;if(t.candidates||(t.candidates=[]),t.candidates[a]||(t.candidates[a]={index:i.index}),t.candidates[a].citationMetadata=i.citationMetadata,t.candidates[a].finishReason=i.finishReason,t.candidates[a].finishMessage=i.finishMessage,t.candidates[a].safetyRatings=i.safetyRatings,i.content&&i.content.parts){t.candidates[a].content||(t.candidates[a].content={role:i.content.role||"user",parts:[]});const r={};for(const c of i.content.parts)c.text&&(r.text=c.text),c.functionCall&&(r.functionCall=c.functionCall),c.executableCode&&(r.executableCode=c.executableCode),c.codeExecutionResult&&(r.codeExecutionResult=c.codeExecutionResult),Object.keys(r).length===0&&(r.text=""),t.candidates[a].content.parts.push(r)}}o.usageMetadata&&(t.usageMetadata=o.usageMetadata)}return t}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ht(e,n,t,o){const i=await ke(n,de.STREAM_GENERATE_CONTENT,e,!0,JSON.stringify(t),o);return Qo(i)}async function ft(e,n,t,o){const a=await(await ke(n,de.GENERATE_CONTENT,e,!1,JSON.stringify(t),o)).json();return{response:Ne(a)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pt(e){if(e!=null){if(typeof e=="string")return{role:"system",parts:[{text:e}]};if(e.text)return{role:"system",parts:[e]};if(e.parts)return e.role?e:{role:"system",parts:e.parts}}}function _e(e){let n=[];if(typeof e=="string")n=[{text:e}];else for(const t of e)typeof t=="string"?n.push({text:t}):n.push(t);return ni(n)}function ni(e){const n={role:"user",parts:[]},t={role:"function",parts:[]};let o=!1,i=!1;for(const a of e)"functionResponse"in a?(t.parts.push(a),i=!0):(n.parts.push(a),o=!0);if(o&&i)throw new Z("Within a single message, FunctionResponse cannot be mixed with other type of part in the request for sending chat message.");if(!o&&!i)throw new Z("No content is provided for sending chat message.");return o?n:t}function oi(e,n){var t;let o={model:n==null?void 0:n.model,generationConfig:n==null?void 0:n.generationConfig,safetySettings:n==null?void 0:n.safetySettings,tools:n==null?void 0:n.tools,toolConfig:n==null?void 0:n.toolConfig,systemInstruction:n==null?void 0:n.systemInstruction,cachedContent:(t=n==null?void 0:n.cachedContent)===null||t===void 0?void 0:t.name,contents:[]};const i=e.generateContentRequest!=null;if(e.contents){if(i)throw new ae("CountTokensRequest must have one of contents or generateContentRequest, not both.");o.contents=e.contents}else if(i)o=Object.assign(Object.assign({},o),e.generateContentRequest);else{const a=_e(e);o.contents=[a]}return{generateContentRequest:o}}function We(e){let n;return e.contents?n=e:n={contents:[_e(e)]},e.systemInstruction&&(n.systemInstruction=pt(e.systemInstruction)),n}function ii(e){return typeof e=="string"||Array.isArray(e)?{content:_e(e)}:e}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qe=["text","inlineData","functionCall","functionResponse","executableCode","codeExecutionResult"],ai={user:["text","inlineData"],function:["functionResponse"],model:["text","functionCall","executableCode","codeExecutionResult"],system:["text"]};function si(e){let n=!1;for(const t of e){const{role:o,parts:i}=t;if(!n&&o!=="user")throw new Z(`First content should be with role 'user', got ${o}`);if(!Fe.includes(o))throw new Z(`Each item should include role field. Got ${o} but valid roles are: ${JSON.stringify(Fe)}`);if(!Array.isArray(i))throw new Z("Content should have 'parts' property with an array of Parts");if(i.length===0)throw new Z("Each Content should have at least one part");const a={text:0,inlineData:0,functionCall:0,functionResponse:0,fileData:0,executableCode:0,codeExecutionResult:0};for(const c of i)for(const h of Qe)h in c&&(a[h]+=1);const r=ai[o];for(const c of Qe)if(!r.includes(c)&&a[c]>0)throw new Z(`Content with role '${o}' can't contain '${c}' part`);n=!0}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Je="SILENT_ERROR";class ri{constructor(n,t,o,i={}){this.model=t,this.params=o,this._requestOptions=i,this._history=[],this._sendPromise=Promise.resolve(),this._apiKey=n,o!=null&&o.history&&(si(o.history),this._history=o.history)}async getHistory(){return await this._sendPromise,this._history}async sendMessage(n,t={}){var o,i,a,r,c,h;await this._sendPromise;const s=_e(n),p={safetySettings:(o=this.params)===null||o===void 0?void 0:o.safetySettings,generationConfig:(i=this.params)===null||i===void 0?void 0:i.generationConfig,tools:(a=this.params)===null||a===void 0?void 0:a.tools,toolConfig:(r=this.params)===null||r===void 0?void 0:r.toolConfig,systemInstruction:(c=this.params)===null||c===void 0?void 0:c.systemInstruction,cachedContent:(h=this.params)===null||h===void 0?void 0:h.cachedContent,contents:[...this._history,s]},g=Object.assign(Object.assign({},this._requestOptions),t);let v;return this._sendPromise=this._sendPromise.then(()=>ft(this._apiKey,this.model,p,g)).then(m=>{var I;if(m.response.candidates&&m.response.candidates.length>0){this._history.push(s);const R=Object.assign({parts:[],role:"model"},(I=m.response.candidates)===null||I===void 0?void 0:I[0].content);this._history.push(R)}else{const R=ie(m.response);R&&console.warn(`sendMessage() was unsuccessful. ${R}. Inspect response object for details.`)}v=m}),await this._sendPromise,v}async sendMessageStream(n,t={}){var o,i,a,r,c,h;await this._sendPromise;const s=_e(n),p={safetySettings:(o=this.params)===null||o===void 0?void 0:o.safetySettings,generationConfig:(i=this.params)===null||i===void 0?void 0:i.generationConfig,tools:(a=this.params)===null||a===void 0?void 0:a.tools,toolConfig:(r=this.params)===null||r===void 0?void 0:r.toolConfig,systemInstruction:(c=this.params)===null||c===void 0?void 0:c.systemInstruction,cachedContent:(h=this.params)===null||h===void 0?void 0:h.cachedContent,contents:[...this._history,s]},g=Object.assign(Object.assign({},this._requestOptions),t),v=ht(this._apiKey,this.model,p,g);return this._sendPromise=this._sendPromise.then(()=>v).catch(m=>{throw new Error(Je)}).then(m=>m.response).then(m=>{if(m.candidates&&m.candidates.length>0){this._history.push(s);const I=Object.assign({},m.candidates[0].content);I.role||(I.role="model"),this._history.push(I)}else{const I=ie(m);I&&console.warn(`sendMessageStream() was unsuccessful. ${I}. Inspect response object for details.`)}}).catch(m=>{m.message!==Je&&console.error(m)}),v}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function li(e,n,t,o){return(await ke(n,de.COUNT_TOKENS,e,!1,JSON.stringify(t),o)).json()}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ci(e,n,t,o){return(await ke(n,de.EMBED_CONTENT,e,!1,JSON.stringify(t),o)).json()}async function di(e,n,t,o){const i=t.requests.map(r=>Object.assign(Object.assign({},r),{model:n}));return(await ke(n,de.BATCH_EMBED_CONTENTS,e,!1,JSON.stringify({requests:i}),o)).json()}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xe{constructor(n,t,o={}){this.apiKey=n,this._requestOptions=o,t.model.includes("/")?this.model=t.model:this.model=`models/${t.model}`,this.generationConfig=t.generationConfig||{},this.safetySettings=t.safetySettings||[],this.tools=t.tools,this.toolConfig=t.toolConfig,this.systemInstruction=pt(t.systemInstruction),this.cachedContent=t.cachedContent}async generateContent(n,t={}){var o;const i=We(n),a=Object.assign(Object.assign({},this._requestOptions),t);return ft(this.apiKey,this.model,Object.assign({generationConfig:this.generationConfig,safetySettings:this.safetySettings,tools:this.tools,toolConfig:this.toolConfig,systemInstruction:this.systemInstruction,cachedContent:(o=this.cachedContent)===null||o===void 0?void 0:o.name},i),a)}async generateContentStream(n,t={}){var o;const i=We(n),a=Object.assign(Object.assign({},this._requestOptions),t);return ht(this.apiKey,this.model,Object.assign({generationConfig:this.generationConfig,safetySettings:this.safetySettings,tools:this.tools,toolConfig:this.toolConfig,systemInstruction:this.systemInstruction,cachedContent:(o=this.cachedContent)===null||o===void 0?void 0:o.name},i),a)}startChat(n){var t;return new ri(this.apiKey,this.model,Object.assign({generationConfig:this.generationConfig,safetySettings:this.safetySettings,tools:this.tools,toolConfig:this.toolConfig,systemInstruction:this.systemInstruction,cachedContent:(t=this.cachedContent)===null||t===void 0?void 0:t.name},n),this._requestOptions)}async countTokens(n,t={}){const o=oi(n,{model:this.model,generationConfig:this.generationConfig,safetySettings:this.safetySettings,tools:this.tools,toolConfig:this.toolConfig,systemInstruction:this.systemInstruction,cachedContent:this.cachedContent}),i=Object.assign(Object.assign({},this._requestOptions),t);return li(this.apiKey,this.model,o,i)}async embedContent(n,t={}){const o=ii(n),i=Object.assign(Object.assign({},this._requestOptions),t);return ci(this.apiKey,this.model,o,i)}async batchEmbedContents(n,t={}){const o=Object.assign(Object.assign({},this._requestOptions),t);return di(this.apiKey,this.model,n,o)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ui{constructor(n){this.apiKey=n}getGenerativeModel(n,t){if(!n.model)throw new Z("Must provide a model name. Example: genai.getGenerativeModel({ model: 'my-model-name' })");return new Xe(this.apiKey,n,t)}getGenerativeModelFromCachedContent(n,t,o){if(!n.name)throw new ae("Cached content must contain a `name` field.");if(!n.model)throw new ae("Cached content must contain a `model` field.");const i=["model","systemInstruction"];for(const r of i)if(t!=null&&t[r]&&n[r]&&(t==null?void 0:t[r])!==n[r]){if(r==="model"){const c=t.model.startsWith("models/")?t.model.replace("models/",""):t.model,h=n.model.startsWith("models/")?n.model.replace("models/",""):n.model;if(c===h)continue}throw new ae(`Different value for "${r}" specified in modelParams (${t[r]}) and cachedContent (${n[r]})`)}const a=Object.assign(Object.assign({},t),{model:n.model,tools:n.tools,toolConfig:n.toolConfig,systemInstruction:n.systemInstruction,cachedContent:n});return new Xe(this.apiKey,a,o)}}(function(){try{if(typeof document<"u"){var e=document.createElement("style");e.appendChild(document.createTextNode(".div[data-v-9bed9119]{position:relative}.div:hover div[data-v-9bed9119]{display:block}.div-2[data-v-9bed9119]{position:relative;border-radius:.75rem;padding:1rem;width:fit-content;max-width:80%;margin-bottom:1rem;margin-left:auto}.div-3[data-v-9bed9119]{position:absolute;width:max-content;display:none;bottom:0px;border-radius:.25rem;left:0px;transform:translate(-50%) translateY(50%);box-shadow:#0003 0 0 2px;padding:.25rem;z-index:9999}.div-4[data-v-9bed9119]{position:relative;border-radius:.75rem;padding:1rem;width:fit-content;max-width:80%;margin-bottom:1rem;margin-right:auto}.div-5[data-v-9bed9119]{position:absolute;width:max-content;display:none;bottom:0px;right:0px;border-radius:.25rem;transform:translate(50%) translateY(50%);box-shadow:#0003 0 0 2px;padding:.25rem;z-index:9999}.input[data-v-46284fc5]:focus{outline:none}.svg[data-v-46284fc5]{height:1.5rem;width:1.5rkm}")),document.head.appendChild(e)}}catch(n){console.error("vite-plugin-css-injected-by-js",n)}})();const we=(e,n)=>{const t=e.__vccOpts||e;for(const[o,i]of n)t[o]=i;return t},hi={name:"chat-messages",props:["bgColorChat","chat","bgColorMessagePerson","textColorMessagePerson","bgColorMessageTimestamp","textColorMessageTimestamp","bgColorMessageChatbot","textColorMessageChatbot"],data:()=>({chatElementAdded:!1}),updated(){const e=document.getElementById("chat-container");e&&this.chatElementAdded&&(this.scrollToEnd(e),this.chatElementAdded=!1)},watch:{onUpdateHook0:{handler(){document.getElementById("chat-container")&&(this.chatElementAdded=!0)},immediate:!0}},computed:{onUpdateHook0(){return{0:this.chat.length}}},methods:{scrollToEnd:function(e){const n=e.clientHeight,t=e.scrollHeight;e.scrollTop=t-n}}},fi={key:0,class:"div"},pi={key:1,class:"div"};function gi(e,n,t,o,i,a){return u(),f("div",{id:"chat-container",style:F({height:"100%",overscrollBehaviorY:"contain",overflowY:"auto",overflowX:"hidden",backgroundColor:t.bgColorChat||"#EAEEF3",padding:"1.5rem"})},[(u(!0),f(B,null,Y(t.chat,(r,c)=>(u(),f("div",{key:c},[r.type=="person"?(u(),f("div",fi,[d("div",{class:"div-2",style:F({backgroundColor:t.bgColorMessagePerson||"#025CDB",color:t.textColorMessagePerson||"white"})},[r.timestamp?(u(),f("div",{key:0,class:"div-3",style:F({backgroundColor:t.bgColorMessageTimestamp||"white",color:t.textColorMessageTimestamp||"black"})},y(r.timestamp),5)):$("",!0),z(" "+y(r.message),1)],4)])):$("",!0),r.type=="chatbot"?(u(),f("div",pi,[d("div",{class:"div-4",style:F({backgroundColor:t.bgColorMessageChatbot||"white",color:t.textColorMessageChatbot||"black"})},[r.timestamp?(u(),f("div",{key:0,class:"div-5",style:F({backgroundColor:t.bgColorMessageTimestamp||"white",color:t.textColorMessageTimestamp||"black"})},y(r.timestamp),5)):$("",!0),z(" "+y(r.message),1)],4)])):$("",!0)]))),128))],4)}const mi=we(hi,[["render",gi],["__scopeId","data-v-9bed9119"]]),vi={name:"chat-input",props:["onSend","inputHeight","bgColorInput","textColorInput","inputPlaceholder"],data:()=>({inputField:""}),methods:{sendMessage(e){e.preventDefault(),this.onSend&&this.onSend(this.inputField),this.inputField=""}}},yi=e=>(xt("data-v-46284fc5"),e=e(),St(),e),bi=["placeholder","value"],Ci=["strokeWidth"],_i=yi(()=>d("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M6 12L3.269 3.126A59.768 59.768 0 0121.485 12 59.77 59.77 0 013.27 20.876L5.999 12zm0 0h7.5"},null,-1)),Ii=[_i];function ki(e,n,t,o,i,a){return u(),f("form",{onSubmit:n[1]||(n[1]=(...r)=>a.sendMessage&&a.sendMessage(...r)),style:F({display:"flex",height:t.inputHeight||"60px",backgroundColor:t.bgColorInput||"white",color:t.textColorInput||"black"})},[d("input",{class:"input",placeholder:t.inputPlaceholder||"Type your message here",onInput:n[0]||(n[0]=r=>e.inputField=r.target.value),value:e.inputField,style:F({borderWidth:"0px",backgroundColor:t.bgColorInput||"white",color:t.textColorInput||"black",width:"100%",marginLeft:"1rem",fontSize:"1rem"})},null,44,bi),d("button",{style:F({backgroundColor:t.bgColorInput||"white",flexShrink:"0",all:"unset",cursor:"pointer",margin:"auto 1rem"})},[(u(),f("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",class:"svg",strokeWidth:1.5},Ii,8,Ci))],4)],36)}const wi=we(vi,[["render",ki],["__scopeId","data-v-46284fc5"]]),xi={name:"chat-icon"},Si={style:{height:"32px",width:"32px"}},Ei=wt('<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19.3259 5.77772L18.4944 6.33329V6.33329L19.3259 5.77772ZM19.3259 16.2223L18.4944 15.6667V15.6667L19.3259 16.2223ZM18.2223 17.3259L17.6667 16.4944H17.6667L18.2223 17.3259ZM14 17.9986L13.9956 16.9986C13.4451 17.001 13 17.4481 13 17.9986H14ZM14 18L14.8944 18.4472C14.9639 18.3084 15 18.1552 15 18H14ZM10 18H9C9 18.1552 9.03615 18.3084 9.10557 18.4472L10 18ZM10 17.9986H11C11 17.4481 10.5549 17.001 10.0044 16.9986L10 17.9986ZM5.77772 17.3259L6.33329 16.4944H6.33329L5.77772 17.3259ZM4.67412 16.2223L5.50559 15.6667L5.50559 15.6667L4.67412 16.2223ZM4.67412 5.77772L5.50559 6.33329L4.67412 5.77772ZM5.77772 4.67412L6.33329 5.50559L5.77772 4.67412ZM18.2223 4.67412L17.6667 5.50559L17.6667 5.50559L18.2223 4.67412ZM21 11C21 9.61635 21.0012 8.50334 20.9106 7.61264C20.8183 6.70523 20.6225 5.91829 20.1573 5.22215L18.4944 6.33329C18.7034 6.64604 18.8446 7.06578 18.9209 7.81505C18.9988 8.58104 19 9.57473 19 11H21ZM20.1573 16.7779C20.6225 16.0817 20.8183 15.2948 20.9106 14.3874C21.0012 13.4967 21 12.3836 21 11H19C19 12.4253 18.9988 13.419 18.9209 14.1849C18.8446 14.9342 18.7034 15.354 18.4944 15.6667L20.1573 16.7779ZM18.7779 18.1573C19.3238 17.7926 19.7926 17.3238 20.1573 16.7779L18.4944 15.6667C18.2755 15.9943 17.9943 16.2755 17.6667 16.4944L18.7779 18.1573ZM14.0044 18.9986C15.0785 18.9939 15.9763 18.9739 16.7267 18.8701C17.4931 18.7642 18.1699 18.5636 18.7779 18.1573L17.6667 16.4944C17.3934 16.6771 17.0378 16.8081 16.4528 16.889C15.8518 16.9721 15.0792 16.9939 13.9956 16.9986L14.0044 18.9986ZM15 18V17.9986H13V18H15ZM13.7889 20.6584L14.8944 18.4472L13.1056 17.5528L12 19.7639L13.7889 20.6584ZM10.2111 20.6584C10.9482 22.1325 13.0518 22.1325 13.7889 20.6584L12 19.7639L12 19.7639L10.2111 20.6584ZM9.10557 18.4472L10.2111 20.6584L12 19.7639L10.8944 17.5528L9.10557 18.4472ZM9 17.9986V18H11V17.9986H9ZM5.22215 18.1573C5.83014 18.5636 6.50685 18.7642 7.2733 18.8701C8.02368 18.9739 8.92154 18.9939 9.99564 18.9986L10.0044 16.9986C8.92075 16.9939 8.14815 16.9721 7.54716 16.889C6.96223 16.8081 6.60665 16.6771 6.33329 16.4944L5.22215 18.1573ZM3.84265 16.7779C4.20744 17.3238 4.6762 17.7926 5.22215 18.1573L6.33329 16.4944C6.00572 16.2755 5.72447 15.9943 5.50559 15.6667L3.84265 16.7779ZM3 11C3 12.3836 2.99879 13.4967 3.0894 14.3874C3.18171 15.2948 3.3775 16.0817 3.84265 16.7779L5.50559 15.6667C5.29662 15.354 5.15535 14.9342 5.07913 14.1849C5.00121 13.419 5 12.4253 5 11H3ZM3.84265 5.22215C3.3775 5.91829 3.18171 6.70523 3.0894 7.61264C2.99879 8.50334 3 9.61635 3 11H5C5 9.57473 5.00121 8.58104 5.07913 7.81505C5.15535 7.06578 5.29662 6.64604 5.50559 6.33329L3.84265 5.22215ZM5.22215 3.84265C4.6762 4.20744 4.20744 4.6762 3.84265 5.22215L5.50559 6.33329C5.72447 6.00572 6.00572 5.72447 6.33329 5.50559L5.22215 3.84265ZM11 3C9.61635 3 8.50334 2.99879 7.61264 3.0894C6.70523 3.18171 5.91829 3.3775 5.22215 3.84265L6.33329 5.50559C6.64604 5.29662 7.06578 5.15535 7.81505 5.07913C8.58104 5.00121 9.57473 5 11 5V3ZM13 3H11V5H13V3ZM18.7779 3.84265C18.0817 3.3775 17.2948 3.18171 16.3874 3.0894C15.4967 2.99879 14.3836 3 13 3V5C14.4253 5 15.419 5.00121 16.1849 5.07913C16.9342 5.15535 17.354 5.29662 17.6667 5.50559L18.7779 3.84265ZM20.1573 5.22215C19.7926 4.6762 19.3238 4.20744 18.7779 3.84265L17.6667 5.50559C17.9943 5.72447 18.2755 6.00572 18.4944 6.33329L20.1573 5.22215Z"></path><circle cx="16" cy="11" r="1" stroke-linecap="round"></circle><circle cx="12" cy="11" r="1" stroke-linecap="round"></circle><circle cx="8" cy="11" r="1" stroke-linecap="round"></circle></svg>',1),Oi=[Ei];function Mi(e,n,t,o,i,a){return u(),f("div",Si,Oi)}const gt=we(xi,[["render",Mi]]),Ti={name:"chat-header",components:{ChatIcon:gt},props:["headerHeight","bgColorHeader","bgColorIcon","fillColorIcon","textColorHeader","offline","colorOffline","colorOnline","closeChat"]},Ai={style:{display:"flex"}},Ri={key:0},Ni={key:1},Li=d("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M6 18L18 6M6 6l12 12"},null,-1),Ki=[Li];function Di(e,n,t,o,i,a){const r=X("chat-icon");return u(),f("div",{style:F({display:"flex",height:t.headerHeight||"90px",flexShrink:"0",backgroundColor:t.bgColorHeader||"white"})},[d("div",{style:F({position:"flex",borderRadius:"50%",backgroundColor:t.bgColorIcon||"#025CDB",marginTop:"auto",marginBottom:"auto",marginLeft:"1.25rem",marginRight:"1.25rem",padding:"0.75rem",fill:t.fillColorIcon||"white"})},[A(r)],4),d("div",{style:F({marginTop:"auto",marginBottom:"auto",width:"100%",color:t.textColorHeader||"black"})},[d("div",{style:F({fontWeight:"600",fontSize:"1.10rem",lineHeight:"1.5rem"})}," ChatBot ",4),d("div",Ai,[d("div",{style:F({borderRadius:"50%",height:"8px",width:"8px",margin:"auto 4px",backgroundColor:t.offline?t.colorOffline||"red":t.colorOnline||"green"})},null,4),t.offline?(u(),f("div",Ri,"Offline")):(u(),f("div",Ni,"Online"))])],4),(u(),f("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",stroke:"currentColor","stroke-width":"2",onClick:n[0]||(n[0]=c=>t.closeChat()),style:F({height:"1.75rem",width:"1.75rem",flexShrink:"0",margin:"1rem",cursor:"pointer",color:t.textColorHeader||"black"})},Ki,4))],4)}const $i=we(Ti,[["render",Di]]),Hi={name:"chat",components:{ChatIcon:gt,ChatHeader:$i,ChatMessages:mi,ChatInput:wi},props:["bgColorIcon","margin","fillColorIcon","width","height","boxShadow","headerHeight","bgColorHeader","textColorHeader","offline","colorOffline","colorOnline","bgColorChat","bgColorMessageChatbot","bgColorMessagePerson","bgColorMessageTimestamp","textColorMessageChatbot","textColorMessagePerson","textColorMessageTimestamp","chat","onSend","inputHeight","bgColorInput","textColorInput","inputPlaceholder"],data:()=>({chatOpen:!1}),methods:{stateCloseChat(){this.chatOpen=!1},stateOpenChat(){this.chatOpen=!0}}},ji={style:{display:"flex",flexDirection:"column",height:"100%"}};function Pi(e,n,t,o,i,a){const r=X("chat-icon"),c=X("chat-header"),h=X("chat-messages"),s=X("chat-input");return u(),f("div",null,[d("div",{onClick:n[0]||(n[0]=p=>a.stateOpenChat()),style:F({position:"fixed",bottom:"0px",right:"0px",overflow:"hidden",transform:e.chatOpen?"translateY(100%)":"translateY(0%)",transitionTimingFunction:"cubic-bezier(0.4, 0, 0.2, 1)",transitionDuration:"300ms",transitionDelay:e.chatOpen?"0ms":"300ms"})},[d("div",{style:F({position:"flex",borderRadius:"50%",cursor:"pointer",backgroundColor:t.bgColorIcon||"#025CDB",margin:t.margin||"20px",padding:"0.75rem",fill:t.fillColorIcon||"white"})},[A(r)],4)],4),d("div",{style:F({position:"fixed",bottom:"0px",right:"0px",maxHeight:"100%",maxWidth:"100%",width:t.width||"410px",height:t.height||"700px",overflow:"hidden",transform:e.chatOpen?"translateY(0%)":"translateY(100%)",transitionTimingFunction:"cubic-bezier(0.4, 0, 0.2, 1)",transitionDuration:"300ms",transitionDelay:e.chatOpen?"300ms":"0ms"})},[d("div",{style:F({margin:t.margin||"20px",overflow:"hidden",borderRadius:"0.75rem",boxShadow:t.boxShadow||"rgba(0,0,0,0.4) 0 0 6px",maxHeight:t.margin?"calc(100% - "+t.margin+" - "+t.margin+")":"calc(100% - 40px)",maxWidth:t.margin?"calc(100% - "+t.margin+" - "+t.margin+")":"calc(100% - 40px)",width:t.width&&t.margin?"calc("+t.width+" - "+t.margin+" - "+t.margin+")":t.width?"calc("+t.width+" - 40px)":t.margin?"calc(410px - "+t.margin+" - "+t.margin+")":"calc(410px - 40px)",height:t.height&&t.margin?"calc("+t.height+" - "+t.margin+" - "+t.margin+")":t.height?"calc("+t.height+" - 40px)":t.margin?"calc(700px - "+t.margin+" - "+t.margin+")":"calc(700px - 40px)"})},[d("div",ji,[A(c,{closeChat:a.stateCloseChat,headerHeight:t.headerHeight,bgColorHeader:t.bgColorHeader,bgColorIcon:t.bgColorIcon,textColorHeader:t.textColorHeader,fillColorIcon:t.fillColorIcon,offline:t.offline,colorOffline:t.colorOffline,colorOnline:t.colorOnline},null,8,["closeChat","headerHeight","bgColorHeader","bgColorIcon","textColorHeader","fillColorIcon","offline","colorOffline","colorOnline"]),A(h,{bgColorChat:t.bgColorChat,bgColorMessageChatbot:t.bgColorMessageChatbot,bgColorMessagePerson:t.bgColorMessagePerson,bgColorMessageTimestamp:t.bgColorMessageTimestamp,textColorMessageChatbot:t.textColorMessageChatbot,textColorMessagePerson:t.textColorMessagePerson,textColorMessageTimestamp:t.textColorMessageTimestamp,chat:t.chat},null,8,["bgColorChat","bgColorMessageChatbot","bgColorMessagePerson","bgColorMessageTimestamp","textColorMessageChatbot","textColorMessagePerson","textColorMessageTimestamp","chat"]),A(s,{onSend:t.onSend,inputHeight:t.inputHeight,bgColorInput:t.bgColorInput,textColorInput:t.textColorInput,inputPlaceholder:t.inputPlaceholder},null,8,["onSend","inputHeight","bgColorInput","textColorInput","inputPlaceholder"])])],4)],4)])}const Fi=we(Hi,[["render",Pi]]),Bi={class:"chat",style:{"background-color":"blue"}},qi="AIzaSyCHyynzOfg4G34y-OGZh9BihUeD8q-bQU0",Ui=se({__name:"ChatBot",setup(e){const o=new ui(qi).getGenerativeModel({model:"gemini-1.5-flash",generationConfig:{temperature:1}}).startChat({history:[]}),i=T(""),a=T("");async function r(){const p=await o.sendMessage(i.value);a.value=p.response.text()}const c=T([]);async function h(p){if(p=="")return;const g={type:"person",message:p};c.value.push(g),i.value=p,await r();const v={type:"chatbot",message:s(a.value)};c.value.push(v)}function s(p){let g=p.replace(/##/g,"");return g=g.replace(/\*\*/g,""),g=g.replace(/\*/g,""),g}return(p,g)=>(u(),f("div",Bi,[A(l(Fi),{class:"chat",onSend:h,chat:c.value,bgColorHeader:"#7302ff",bgColorChat:"#C8E7EF",bgColorInput:"#ffffff",bgColorIcon:"#7302ff",bgColorMessageChatbot:"#fff",textColorMessageChatbot:"#282828",bgColorMessagePerson:"#7302ff",textColorInput:"#282828",textColorHeader:"#fff",textColorMessagePerson:"",colorOnline:"#7302ff",inputHeight:"3rem",width:"25rem",height:"70vh",boxShadow:"",fillColorIcon:"#fff"},null,8,["chat"])]))}}),Gi=re(Ui,[["__scopeId","data-v-35888e6d"]]),Vi={class:"container"},Yi={class:"sidebar"},zi={class:"wrapper"},Zi={class:"Button-Wrapper"},Wi=se({__name:"viewCoursePage",setup(e){const n=T(),t=T(),o=T(),i=he(),a=ot(),r=Et();new W("get_enrollment").callApi({course_id:i.params.courseId}).then(m=>{(m==null?void 0:m.success)==!1&&a.push("/")}),(async()=>{new W("get_course").callApi({course_id:i.params.courseId}).then(I=>{var R,q,S,K,k,b;if(I!=null&&I.success){n.value=(q=(R=I==null?void 0:I.data)==null?void 0:R.course)==null?void 0:q.chapters,t.value=(K=(S=I==null?void 0:I.data)==null?void 0:S.course)==null?void 0:K.title,o.value=(b=(k=I==null?void 0:I.data)==null?void 0:k.course)==null?void 0:b.image;for(let O of n.value)for(let _=0;_<O.materials.length;_++)for(let x of Ot)O.materials[_].type===x.name&&(O.materials[_].matIcon=x.icon)}})})();const s=ue(()=>{var q;const m=T();new W("get_enrollment").callApi({course_id:i.params.courseId}).then(S=>{var K,k,b,O,_,x,w,H,P,U,G,te;if(S!=null&&S.success){m.value=(k=(K=S==null?void 0:S.data)==null?void 0:K.enrollment)==null?void 0:k.progress;for(let ee of n.value)for(let E of ee==null?void 0:ee.materials)(O=(b=m.value)==null?void 0:b.lessons_completed)!=null&&O.some(N=>(N==null?void 0:N.lesson_id)==(E==null?void 0:E.Id))||(x=(_=m.value)==null?void 0:_.quizes_completed)!=null&&x.some(N=>(N==null?void 0:N.quiz_id)==(E==null?void 0:E.Id))||(H=(w=m.value)==null?void 0:w.activities_completed)!=null&&H.some(N=>(N==null?void 0:N.activity_id)==(E==null?void 0:E.Id))||(U=(P=m.value)==null?void 0:P.simulations_completed)!=null&&U.some(N=>(N==null?void 0:N.simulation_id)==(E==null?void 0:E.Id))||(te=(G=m.value)==null?void 0:G.projects_completed)!=null&&te.some(N=>(N==null?void 0:N.project_id)==(E==null?void 0:E.Id))?E.status="Done":E.status="Unselected"}});let R=i.params.materialId;for(let S=0;S<((q=n.value)==null?void 0:q.length);S++){const K=n.value[S];for(let k=0;k<K.materials.length;k++){const b=K.materials[k];if(b.Id===R){let O=null,_=null;if(k>0)O=K.materials[k-1].Id;else if(S>0){const H=n.value[S-1];O=H.materials[H.materials.length-1].Id}if(k<K.materials.length-1)_=K.materials[k+1].Id;else if(S<n.value.length-1){const H=n.value[S+1];H.materials.length>0&&(_=H.materials[0].Id)}let x,w=!1;return b.type==="Lesson"&&(x=En),b.type==="Simulation"&&(x=Rn),b.type==="Project"&&(x=$n),b.type==="Activity"&&(x=io),b.status=="Done"&&(w=!0),b.type==="Quiz"&&(x=Ko),{type:x,prevMaterialId:O,nextMaterialId:_,isCompleted:w}}}}return null});function p(){s.value&&s.value.prevMaterialId&&a.push(`/viewCoursePage/${i.params.courseId}/${i.params.enrollmentId}/${s.value.prevMaterialId}`)}function g(){s.value&&s.value.nextMaterialId&&a.push(`/viewCoursePage/${i.params.courseId}/${i.params.enrollmentId}/${s.value.nextMaterialId}`)}function v(){var I,R,q,S,K;let m={new_chat:{course_title:(I=t.value)==null?void 0:I.en,course_id:i.params.courseId,student_name:((R=r.getInfo)==null?void 0:R.firstName)+" "+((q=r.getInfo)==null?void 0:q.lastName),avatar:o.value,participants:[{id:(S=r.getInfo)==null?void 0:S.id,username:(K=r.getInfo)==null?void 0:K.email}]}};new W("create_chat").callApi(m).then(k=>{var b;k!=null&&k.success&&a.push(`/childChats/${(b=k==null?void 0:k.data)==null?void 0:b.chat_id}`)})}return(m,I)=>{var R,q,S,K;return u(),f("main",null,[A(Gi),A(l(Q),{label:l(C)(l(D).chats),icon:"pi pi-user","icon-pos":"right",style:{"font-size":"0.6rem",position:"absolute",left:"1rem",bottom:"1rem","z-index":"2","background-color":"var(--accent2)"},onClick:v},null,8,["label"]),A(Mt),d("div",Vi,[d("div",Yi,[A(In,{chapters:n.value,"course-title":t.value},null,8,["chapters","course-title"])]),d("div",zi,[(u(),V(ne((R=s.value)==null?void 0:R.type),{onNext:g,completed:(q=s.value)==null?void 0:q.isCompleted},null,40,["completed"])),d("div",Zi,[A(l(Q),{label:l(C)(l(D).prev),class:M({hide:!((S=s.value)!=null&&S.prevMaterialId)}),onClick:p},null,8,["label","class"]),A(l(Q),{label:l(C)(l(D).next),class:M({hide:!((K=s.value)!=null&&K.nextMaterialId)}),onClick:g},null,8,["label","class"])])])])])}}}),ea=re(Wi,[["__scopeId","data-v-b5cb69ee"]]);export{ea as default};
